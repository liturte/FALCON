{"2107": {"code": ["QUESTION:\nDima loves Inna very much. He decided to write a song for her. Dima has a magic guitar with n strings and m frets. Dima makes the guitar produce sounds like that: to play a note, he needs to hold one of the strings on one of the frets and then pull the string. When Dima pulls the i-th string holding it on the j-th fret the guitar produces a note, let's denote it as a_{ij}. We know that Dima's guitar can produce k distinct notes. It is possible that some notes can be produced in multiple ways. In other words, it is possible that a_{ij} = a_{pq} at (i, j) \u2260 (p, q).\n\nDima has already written a song \u2014 a sequence of s notes. In order to play the song, you need to consecutively produce the notes from the song on the guitar. You can produce each note in any available way. Dima understood that there are many ways to play a song and he wants to play it so as to make the song look as complicated as possible (try to act like Cobein).\n\nWe'll represent a way to play a song as a sequence of pairs (x_{i}, y_{i}) (1 \u2264 i \u2264 s), such that the x_{i}-th string on the y_{i}-th fret produces the i-th note from the song. The complexity of moving between pairs (x_1, y_1) and (x_2, y_2) equals $|x_{1} - x_{2}|$ + $|y_{1} - y_{2}|$. The complexity of a way to play a song is the maximum of complexities of moving between adjacent pairs.\n\nHelp Dima determine the maximum complexity of the way to play his song! The guy's gotta look cool!\n\n\n-----Input-----\n\nThe first line of the input contains four integers n, m, k and s (1 \u2264 n, m \u2264 2000, 1 \u2264 k \u2264 9, 2 \u2264 s \u2264 10^5). \n\nThen follow n lines, each containing m integers a_{ij} (1 \u2264 a_{ij} \u2264 k). The number in the i-th row and the j-th column (a_{ij}) means a note that the guitar produces on the i-th string and the j-th fret.\n\nThe last line of the input contains s integers q_{i} (1 \u2264 q_{i} \u2264 k) \u2014 the sequence of notes", "QUESTION:\nDima loves Inna very much. He decided to write a song for her. Dima has a magic guitar with n strings and m frets. Dima makes the guitar produce sounds like that: to play a note, he needs to hold one of the strings on one of the frets and then pull the string. When Dima pulls the i-th string holding it on the j-th fret the guitar produces a note, let's denote it as a_{ij}. We know that Dima's guitar can produce k distinct notes. It is possible that some notes can be produced in multiple ways. In other words, it is possible that a_{ij} = a_{pq} at (i, j) \u2260 (p, q).\n\nDima has already written a song \u2014 a sequence of s notes. In order to play the song, you need to consecutively produce the notes from the song on the guitar. You can produce each note in any available way. Dima understood that there are many ways to play a song and he wants to play it so as to make the song look as complicated as possible (try to act like Cobein).\n\nWe'll represent a way to play a song as a sequence of pairs (x_{i}, y_{i}) (1 \u2264 i \u2264 s), such that the x_{i}-th string on the y_{i}-th fret produces the i-th note from the song. The complexity of moving between pairs (x_1, y_1) and (x_2, y_2) equals $|x_{1} - x_{2}|$ + $|y_{1} - y_{2}|$. The complexity of a way to play a song is the maximum of complexities of moving between adjacent pairs.\n\nHelp Dima determine the maximum complexity of the way to play his song! The guy's gotta look cool!\n\n\n-----Input-----\n\nThe first line of the input contains four integers n, m, k and s (1 \u2264 n, m \u2264 2000, 1 \u2264 k \u2264 9, 2 \u2264 s \u2264 10^5). \n\nThen follow n lines, each containing m integers a_{ij} (1 \u2264 a_{ij} \u2264 k). The number in the i-th row and the j-th column (a_{ij}) means a note that the guitar produces on the i-th string and the j-th fret.\n\nThe last line of the input contains s integers q_{i} (1 \u2264 q_{i} \u2264 k) \u2014 the sequence of notes", "QUESTION:\nDima loves Inna very much. He decided to write a song for her. Dima has a magic guitar with n strings and m frets. Dima makes the guitar produce sounds like that: to play a note, he needs to hold one of the strings on one of the frets and then pull the string. When Dima pulls the i-th string holding it on the j-th fret the guitar produces a note, let's denote it as a_{ij}. We know that Dima's guitar can produce k distinct notes. It is possible that some notes can be produced in multiple ways. In other words, it is possible that a_{ij} = a_{pq} at (i, j) \u2260 (p, q).\n\nDima has already written a song \u2014 a sequence of s notes. In order to play the song, you need to consecutively produce the notes from the song on the guitar. You can produce each note in any available way. Dima understood that there are many ways to play a song and he wants to play it so as to make the song look as complicated as possible (try to act like Cobein).\n\nWe'll represent a way to play a song as a sequence of pairs (x_{i}, y_{i}) (1 \u2264 i \u2264 s), such that the x_{i}-th string on the y_{i}-th fret produces the i-th note from the song. The complexity of moving between pairs (x_1, y_1) and (x_2, y_2) equals $|x_{1} - x_{2}|$ + $|y_{1} - y_{2}|$. The complexity of a way to play a song is the maximum of complexities of moving between adjacent pairs.\n\nHelp Dima determine the maximum complexity of the way to play his song! The guy's gotta look cool!\n\n\n-----Input-----\n\nThe first line of the input contains four integers n, m, k and s (1 \u2264 n, m \u2264 2000, 1 \u2264 k \u2264 9, 2 \u2264 s \u2264 10^5). \n\nThen follow n lines, each containing m integers a_{ij} (1 \u2264 a_{ij} \u2264 k). The number in the i-th row and the j-th column (a_{ij}) means a note that the guitar produces on the i-th string and the j-th fret.\n\nThe last line of the input contains s integers q_{i} (1 \u2264 q_{i} \u2264 k) \u2014 the sequence of notes", "QUESTION:\nDima loves Inna very much. He decided to write a song for her. Dima has a magic guitar with n strings and m frets. Dima makes the guitar produce sounds like that: to play a note, he needs to hold one of the strings on one of the frets and then pull the string. When Dima pulls the i-th string holding it on the j-th fret the guitar produces a note, let's denote it as a_{ij}. We know that Dima's guitar can produce k distinct notes. It is possible that some notes can be produced in multiple ways. In other words, it is possible that a_{ij} = a_{pq} at (i, j) \u2260 (p, q).\n\nDima has already written a song \u2014 a sequence of s notes. In order to play the song, you need to consecutively produce the notes from the song on the guitar. You can produce each note in any available way. Dima understood that there are many ways to play a song and he wants to play it so as to make the song look as complicated as possible (try to act like Cobein).\n\nWe'll represent a way to play a song as a sequence of pairs (x_{i}, y_{i}) (1 \u2264 i \u2264 s), such that the x_{i}-th string on the y_{i}-th fret produces the i-th note from the song. The complexity of moving between pairs (x_1, y_1) and (x_2, y_2) equals $|x_{1} - x_{2}|$ + $|y_{1} - y_{2}|$. The complexity of a way to play a song is the maximum of complexities of moving between adjacent pairs.\n\nHelp Dima determine the maximum complexity of the way to play his song! The guy's gotta look cool!\n\n\n-----Input-----\n\nThe first line of the input contains four integers n, m, k and s (1 \u2264 n, m \u2264 2000, 1 \u2264 k \u2264 9, 2 \u2264 s \u2264 10^5). \n\nThen follow n lines, each containing m integers a_{ij} (1 \u2264 a_{ij} \u2264 k). The number in the i-th row and the j-th column (a_{ij}) means a note that the guitar produces on the i-th string and the j-th fret.\n\nThe last line of the input contains s integers q_{i} (1 \u2264 q_{i} \u2264 k) \u2014 the sequence of notes", "QUESTION:\nDima loves Inna very much. He decided to write a song for her. Dima has a magic guitar with n strings and m frets. Dima makes the guitar produce sounds like that: to play a note, he needs to hold one of the strings on one of the frets and then pull the string. When Dima pulls the i-th string holding it on the j-th fret the guitar produces a note, let's denote it as a_{ij}. We know that Dima's guitar can produce k distinct notes. It is possible that some notes can be produced in multiple ways. In other words, it is possible that a_{ij} = a_{pq} at (i, j) \u2260 (p, q).\n\nDima has already written a song \u2014 a sequence of s notes. In order to play the song, you need to consecutively produce the notes from the song on the guitar. You can produce each note in any available way. Dima understood that there are many ways to play a song and he wants to play it so as to make the song look as complicated as possible (try to act like Cobein).\n\nWe'll represent a way to play a song as a sequence of pairs (x_{i}, y_{i}) (1 \u2264 i \u2264 s), such that the x_{i}-th string on the y_{i}-th fret produces the i-th note from the song. The complexity of moving between pairs (x_1, y_1) and (x_2, y_2) equals $|x_{1} - x_{2}|$ + $|y_{1} - y_{2}|$. The complexity of a way to play a song is the maximum of complexities of moving between adjacent pairs.\n\nHelp Dima determine the maximum complexity of the way to play his song! The guy's gotta look cool!\n\n\n-----Input-----\n\nThe first line of the input contains four integers n, m, k and s (1 \u2264 n, m \u2264 2000, 1 \u2264 k \u2264 9, 2 \u2264 s \u2264 10^5). \n\nThen follow n lines, each containing m integers a_{ij} (1 \u2264 a_{ij} \u2264 k). The number in the i-th row and the j-th column (a_{ij}) means a note that the guitar produces on the i-th string and the j-th fret.\n\nThe last line of the input contains s integers q_{i} (1 \u2264 q_{i} \u2264 k) \u2014 the sequence of notes"], "prompt": "\nQUESTION:\nDima loves Inna very much. He decided to write a song for her. Dima has a magic guitar with n strings and m frets. Dima makes the guitar produce sounds like that: to play a note, he needs to hold one of the strings on one of the frets and then pull the string. When Dima pulls the i-th string holding it on the j-th fret the guitar produces a note, let's denote it as a_{ij}. We know that Dima's guitar can produce k distinct notes. It is possible that some notes can be produced in multiple ways. In other words, it is possible that a_{ij} = a_{pq} at (i, j) \u2260 (p, q).\n\nDima has already written a song \u2014 a sequence of s notes. In order to play the song, you need to consecutively produce the notes from the song on the guitar. You can produce each note in any available way. Dima understood that there are many ways to play a song and he wants to play it so as to make the song look as complicated as possible (try to act like Cobein).\n\nWe'll represent a way to play a song as a sequence of pairs (x_{i}, y_{i}) (1 \u2264 i \u2264 s), such that the x_{i}-th string on the y_{i}-th fret produces the i-th note from the song. The complexity of moving between pairs (x_1, y_1) and (x_2, y_2) equals $|x_{1} - x_{2}|$ + $|y_{1} - y_{2}|$. The complexity of a way to play a song is the maximum of complexities of moving between adjacent pairs.\n\nHelp Dima determine the maximum complexity of the way to play his song! The guy's gotta look cool!\n\n\n-----Input-----\n\nThe first line of the input contains four integers n, m, k and s (1 \u2264 n, m \u2264 2000, 1 \u2264 k \u2264 9, 2 \u2264 s \u2264 10^5). \n\nThen follow n lines, each containing m integers a_{ij} (1 \u2264 a_{ij} \u2264 k). The number in the i-th row and the j-th column (a_{ij}) means a note that the guitar produces on the i-th string and the j-th fret.\n\nThe last line of the input contains s integers q_{i} (1 \u2264 q_{i} \u2264 k) \u2014 the sequence of notes of the song.\n\n\n-----Output-----\n\nIn a single line print a single number \u2014 the maximum possible complexity of the song.\n\n\n-----Examples-----\nInput\n4 6 5 7\n3 1 2 2 3 1\n3 2 2 2 5 5\n4 2 2 2 5 3\n3 2 2 1 4 3\n2 3 1 4 1 5 1\n\nOutput\n8\n\nInput\n4 4 9 5\n4 7 9 5\n1 2 1 7\n8 3 4 9\n5 7 7 2\n7 1 9 2 5\n\nOutput\n4\nPlease provide the solution as pure code only, without explanations or comments.\n\nANSWER:\n```python\n"}}