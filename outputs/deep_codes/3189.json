{"3189": {"code": ["MOD = 1000003\n\ndef solve(n, m, photos):\n    switches = [0]*n\n    lights = [0]*n\n    for i in range(n):\n        for j in range(m):\n            switches[i", "def solve():\n    n, m = map(int, input().split())\n    photos = [list(map(int, input() + input())) for _ in range(m)]\n    switches = [0]*n\n    lights = [0]*n\n    for", "from scipy.special import comb\n\ndef solve():\n    n, m = map(int, input().split())\n    mod = 10**6+3\n    switches = [0]*n\n    lights = [0]*n\n    for i in range", "MOD = 1000003\n\ndef solve():\n    n, m = map(int, input().split())\n    photos = [tuple(map(int, input() + input())) for _ in range(m)]\n\n    dp = [0]", "MOD = 1000003\n\ndef solve():\n    n, m = map(int, input().split())\n    photos = [input().strip() for _ in range(m)]\n\n    # Create a list of bits for each switch and light\n    switch"], "prompt": "\nQUESTION:\nYour competitors are in possession of a mysterious apparatus which gives them an advantage over you. The apparatus has $n$ on/off switches and $n$ lights. We believe that each of the switches is connected to exactly one of the lights, and vice versa, but we don\u2019t know which switch is connected to which light.\n\nYour spy satellites have taken several different photographs of the apparatus showing different configurations of the switches and lights. Are these photos sufficient to narrow down the number of possible wirings of the mysterious apparatus so that you will be able to build a replica of the mysterious apparatus?\n\n-----Input-----\nThe first line of input consists of two integers $n$ and $m$, where $1 \\le n \\le 1000$ is the number of switches/lights on the apparatus, and $0 \\le m \\le 1000$ is the number of photos you have of the apparatus. The next lines describe the photos. Each photo is described by two lines, each containing a binary string of length $n$. The $i$\u2019th position in the first line indicates whether the $i$\u2019th switch is on (1) or off (0), and the $i$\u2019th position in the second line indicates whether the $i$\u2019th light is on (1) or off (0).\n\n-----Output-----\nWrite a single line of output giving the number of different wirings of the apparatus that are consistent with all the photographs. As this number may be huge, we only ask that you compute it modulo 1000003.\n\n-----Examples-----\nSample Input 1:\n3 1\n110\n011\nSample Output 1:\n2\n\nSample Input 2:\n4 2\n1000\n1000\n0000\n0010\nSample Output 2:\n0\nPlease provide the solution as pure code only, without explanations or comments.\n\nANSWER:\n```python\n"}}