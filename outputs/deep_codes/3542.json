{"3542": {"code": ["def solve(N, M, A1, A2, B1, B2):\n    # If A1 and A2 or B1 and B2 are on the same vertical line,\n    # we can simply calculate the distance between them\n    if A1[0] == A2[0] or B1[0] == B2[0]:\n        return abs(A1[0] - B1[0]) + abs(A1[1] - B1[1]) + 1\n\n    # If", "def min_wire_length(N, M, A1, A2, B1, B2):\n    # Calculate Manhattan distances between the points\n    dist_A = abs(A1[0] - A2[0]) + abs(A1[1] - A2[1])\n    dist_B = abs(B1[0] - B2[0]) + abs(B1[1] - B2[1])\n\n    # If any of the distances is zero, it means the", "from collections import deque\n\ndef solve(N, M, A1, A2, B1, B2):\n    visited = [[0]*M for _ in range(N)]\n    dx, dy = [0, 1, 0, -1], [1, 0, -1, 0]\n    q = deque([(0, A1, A2)])\n    visited[A1[0]][A1[1]] = 1\n    while q:\n        d,", "def min_wire_length(N, M, A1, A2, B1, B2):\n    if (A1[0] == B1[0] and A2[0] == B2[0] and A1[1] < B1[1] < B2[1] and A2[1] > B2[1] > B1[1]) or (A1[1] == B1[1] and A2[1] == B2[1] and A1[", "def min_wire_length(N, M, A1, A2, B1, B2):\n    if (A1[0] == B1[0] and A2[0] == B2[0]) or (A1[1] == B1[1] and A2[1] == B2[1]):\n        if (A1[0] == B1[0] and A2[1] == B2[1]) or (A1[1] == B1[1"], "prompt": "\nQUESTION:\nWhen constructing electric circuits one has to connect pairs of points using wire, preferable as short as possible. In this problem we have an empty circuit board of size $N \\times M$ where we want to connect the two points $A_1$ and $A_2$ with each other using one wire, and the two points $B_1$ and $B_2$ with each other using another wire. The wires must go along the horizontal and vertical edges of the grid (see figure), and the two wires may not share a common vertex. Determine the minimum length of wire needed to do so. The wire may not go outside the circuit board.\n\n-----Input-----\nThe first line contains two integers, $N$ ($2 \\le N \\le 100$) and $M$ ($2 \\le M \\le 100$), the grid size of the circuit board.\n\nThen follows four lines containing the coordinates for the points $A_1$, $A_2$, $B_1$ and $B_2$, respectively. Each coordinate pair will be described using two integers and will correspond to an intersection point in the grid. The first coordinate will be between $0$ and $N$ inclusive and the second coordinate between $0$ and $M$ inclusive. All coordinate pairs will be unique.\n\n-----Output-----\nA single line containing the minimum length of wire needed to connect the points, or \u201cIMPOSSIBLE\u201d if it\u2019s not possible to do so.\n\n-----Examples-----\nSample Input:\n6 3\n2 3\n4 0\n0 2\n6 1\nSample Output:\nIMPOSSIBLE\nPlease provide the solution as pure code only, without explanations or comments.\n\nANSWER:\n```python\n"}}