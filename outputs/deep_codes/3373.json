{"3373": {"code": ["def longest_balanced_parentheses(n, pieces):\n    dp = [0] * (1 << n)\n    valid = [0] * (1 << n)\n    for mask in range(1, 1 << n):\n        cnt = [0, 0]\n        for i in range(n", "def longest_balanced_parentheses(n, pieces):\n    dp = [0] * (1 << n)\n    for mask in range(1, 1 << n):\n        cnt = [0, 0]\n        for i in range(n):\n            if (mask >> i) & 1:", "def longest_balanced_parentheses(n, pieces):\n    dp = [0] * (1 << n)\n    dp[0] = 0\n    for mask in range(1 << n):\n        ones = bin(mask).count('1')\n        if ones < 2:\n            continue\n        for i", "def longest_balanced_parentheses(n, pieces):\n    dp = [0] * (1 << n)\n    valid = [0] * (1 << n)\n    for mask in range(1, 1 << n):\n        cnt = [0, 0]\n        for i in range(n", "def longest_balanced_parentheses(n, pieces):\n    dp = [0] * (1 << n)\n    valid = [0] * (1 << n)\n    masks = [0] * n\n    for i in range(n):\n        masks[i] = int(pieces[i"], "prompt": "\nQUESTION:\nYou are teaching a class in programming, and you want to cover balanced parentheses. You\u2019ve got a great visual aid, a sign with a very long, balanced string of parentheses. But, alas, somehow, your visual aid has been broken into pieces, and some pieces may be missing! You\u2019ve got to try to put it back together as best you can. Given the string of parentheses on each piece, what is the longest balanced string you can form by concatenating some of them in some order? Each piece may be used at most once, and the pieces cannot be reversed.\n\nA balanced string of parentheses is defined as:\n - The empty string\n - $AB$ where $A$ and $B$ are both balanced strings of parentheses\n - ($A$) where $A$ is a balanced string of parentheses\n\n-----Input-----\nEach input will consist of a single test case. Note that your program may be run multiple times on different inputs. The first line of input will contain a single integer $n$ ($1 \\le n \\le 300$), which is the number of pieces.\n\nEach of the next $n$ lines will hold a single string $s$ ($1 \\le |s| \\le 300$), which consists only of the characters \u2019(\u2019 and \u2019)\u2019. This describes one of the pieces.\n\n-----Output-----\nOutput a single integer, which is the length of the longest string of balanced parentheses you can form from the pieces. Note that the empty string is technically a balanced string of parentheses, so it is always possible to form a string of length at least $0$ (although the empty string is not a very effective visual aid!).\n\n-----Examples-----\nSample Input:\n3\n())\n((()\n)()\nSample Output:\n10\nPlease provide the solution as pure code only, without explanations or comments.\n\nANSWER:\n```python\n"}}