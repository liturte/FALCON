{"3681": {"code": ["QUESTION:\nA new school year has started. The high school for gifted students of Ho Chi Minh city has $N$ classes numbered from $1$ to $N$. All $N$ classes will go through $M$ studying weeks. The high school has $N$ teachers numbered from $1$ to $N$. At the beginning teacher $i$ is assigned to class $i$.\n\nIn order to improve the students adaptability to new knowledge or new teaching methods, the principal has plans to reassign the teachers every few weeks. A reassignment only happens at the beginning of a week (on Monday before classes start) and a week has at most $1$ reassignment. A reassignment is to rotate $K$ teachers $p_1, p_2, p_3, \\ldots , p_ K$, described as follows:\n - Teacher $p_ i$ moves to the current class where teacher $p_{i+1}$ is teaching ($1 \\leq i < K$).\n - Teacher $p_ K$ moves to the current class where teacher $p_1$ is teaching.\n\nAfter the reassignment, the teachers will stay at the newly assigned classrom, until he is reassigned again.\n\nThe principal continuously add shuffle plans and he also asks questions: \u201cWhen all the previous reassignment plans comes to effect, which class will teacher $d$ teach on Tuesday of the $x$-th week?\u201d Your task is to help him answer all those questions.\n\n-----Input-----\nThe first line contains $3$ integers: $N$, $M$ and $Q$ - the number of queries ($1 \\leq N,M,Q \\leq 10^5$). The next $Q$ lines describes $Q$ queries, each will be in either of the $2$ forms:\n - $0$ $K$ $x$ $p_1$ $p_2$ \u2026$p_ K$ - add a plan to rotate $K$ teachers $p_1, p_2, \\ldots p_ K$ on Monday of the $x$-th week ($1 \\leq x \\leq M$, $2 \\leq K \\leq 10$, all $K$ values in $p$ are unique).\n - $1$ $d$ $x$ - ask which class is taught by teacher $d$ on Tuesday of the $x$-th week.\n\nIt is guaranteed that there are no two queries of type $0$ has the same value $x$.\n\n-----Output-----\nFor each of the queries type $1$, print the answer in a single line.\n\n-----Clarification for the second sample-----\nInitial assignment: \n\nClass $1$\n-", "QUESTION:\nA new school year has started. The high school for gifted students of Ho Chi Minh city has $N$ classes numbered from $1$ to $N$. All $N$ classes will go through $M$ studying weeks. The high school has $N$ teachers numbered from $1$ to $N$. At the beginning teacher $i$ is assigned to class $i$.\n\nIn order to improve the students adaptability to new knowledge or new teaching methods, the principal has plans to reassign the teachers every few weeks. A reassignment only happens at the beginning of a week (on Monday before classes start) and a week has at most $1$ reassignment. A reassignment is to rotate $K$ teachers $p_1, p_2, p_3, \\ldots , p_ K$, described as follows:\n - Teacher $p_ i$ moves to the current class where teacher $p_{i+1}$ is teaching ($1 \\leq i < K$).\n - Teacher $p_ K$ moves to the current class where teacher $p_1$ is teaching.\n\nAfter the reassignment, the teachers will stay at the newly assigned classrom, until he is reassigned again.\n\nThe principal continuously add shuffle plans and he also asks questions: \u201cWhen all the previous reassignment plans comes to effect, which class will teacher $d$ teach on Tuesday of the $x$-th week?\u201d Your task is to help him answer all those questions.\n\n-----Input-----\nThe first line contains $3$ integers: $N$, $M$ and $Q$ - the number of queries ($1 \\leq N,M,Q \\leq 10^5$). The next $Q$ lines describes $Q$ queries, each will be in either of the $2$ forms:\n - $0$ $K$ $x$ $p_1$ $p_2$ \u2026$p_ K$ - add a plan to rotate $K$ teachers $p_1, p_2, \\ldots p_ K$ on Monday of the $x$-th week ($1 \\leq x \\leq M$, $2 \\leq K \\leq 10$, all $K$ values in $p$ are unique).\n - $1$ $d$ $x$ - ask which class is taught by teacher $d$ on Tuesday of the $x$-th week.\n\nIt is guaranteed that there are no two queries of type $0$ has the same value $x$.\n\n-----Output-----\nFor each of the queries type $1$, print the answer in a single line.\n\n-----Clarification for the second sample-----\nInitial assignment: \n\nClass $1$\nTe", "QUESTION:\nA new school year has started. The high school for gifted students of Ho Chi Minh city has $N$ classes numbered from $1$ to $N$. All $N$ classes will go through $M$ studying weeks. The high school has $N$ teachers numbered from $1$ to $N$. At the beginning teacher $i$ is assigned to class $i$.\n\nIn order to improve the students adaptability to new knowledge or new teaching methods, the principal has plans to reassign the teachers every few weeks. A reassignment only happens at the beginning of a week (on Monday before classes start) and a week has at most $1$ reassignment. A reassignment is to rotate $K$ teachers $p_1, p_2, p_3, \\ldots , p_ K$, described as follows:\n - Teacher $p_ i$ moves to the current class where teacher $p_{i+1}$ is teaching ($1 \\leq i < K$).\n - Teacher $p_ K$ moves to the current class where teacher $p_1$ is teaching.\n\nAfter the reassignment, the teachers will stay at the newly assigned classrom, until he is reassigned again.\n\nThe principal continuously add shuffle plans and he also asks questions: \u201cWhen all the previous reassignment plans comes to effect, which class will teacher $d$ teach on Tuesday of the $x$-th week?\u201d Your task is to help him answer all those questions.\n\n-----Input-----\nThe first line contains $3$ integers: $N$, $M$ and $Q$ - the number of queries ($1 \\leq N,M,Q \\leq 10^5$). The next $Q$ lines describes $Q$ queries, each will be in either of the $2$ forms:\n - $0$ $K$ $x$ $p_1$ $p_2$ \u2026$p_ K$ - add a plan to rotate $K$ teachers $p_1, p_2, \\ldots p_ K$ on Monday of the $x$-th week ($1 \\leq x \\leq M$, $2 \\leq K \\leq 10$, all $K$ values in $p$ are unique).\n - $1$ $d$ $x$ - ask which class is taught by teacher $d$ on Tuesday of the $x$-th week.\n\nIt is guaranteed that there are no two queries of type $0$ has the same value $x$.\n\n-----Output-----\nFor each of the queries type $1$, print the answer in a single line.\n\n-----Clarification for the second sample-----\nInitial assignment: \n\nClass $1$\nTe", "QUESTION:\nA new school year has started. The high school for gifted students of Ho Chi Minh city has $N$ classes numbered from $1$ to $N$. All $N$ classes will go through $M$ studying weeks. The high school has $N$ teachers numbered from $1$ to $N$. At the beginning teacher $i$ is assigned to class $i$.\n\nIn order to improve the students adaptability to new knowledge or new teaching methods, the principal has plans to reassign the teachers every few weeks. A reassignment only happens at the beginning of a week (on Monday before classes start) and a week has at most $1$ reassignment. A reassignment is to rotate $K$ teachers $p_1, p_2, p_3, \\ldots , p_ K$, described as follows:\n - Teacher $p_ i$ moves to the current class where teacher $p_{i+1}$ is teaching ($1 \\leq i < K$).\n - Teacher $p_ K$ moves to the current class where teacher $p_1$ is teaching.\n\nAfter the reassignment, the teachers will stay at the newly assigned classrom, until he is reassigned again.\n\nThe principal continuously add shuffle plans and he also asks questions: \u201cWhen all the previous reassignment plans comes to effect, which class will teacher $d$ teach on Tuesday of the $x$-th week?\u201d Your task is to help him answer all those questions.\n\n-----Input-----\nThe first line contains $3$ integers: $N$, $M$ and $Q$ - the number of queries ($1 \\leq N,M,Q \\leq 10^5$). The next $Q$ lines describes $Q$ queries, each will be in either of the $2$ forms:\n - $0$ $K$ $x$ $p_1$ $p_2$ \u2026$p_ K$ - add a plan to rotate $K$ teachers $p_1, p_2, \\ldots p_ K$ on Monday of the $x$-th week ($1 \\leq x \\leq M$, $2 \\leq K \\leq 10$, all $K$ values in $p$ are unique).\n - $1$ $d$ $x$ - ask which class is taught by teacher $d$ on Tuesday of the $x$-th week.\n\nIt is guaranteed that there are no two queries of type $0$ has the same value $x$.\n\n-----Output-----\nFor each of the queries type $1$, print the answer in a single line.\n\n-----Clarification for the second sample-----\nInitial assignment: \n\nClass $1$\n-", "QUESTION:\nA new school year has started. The high school for gifted students of Ho Chi Minh city has $N$ classes numbered from $1$ to $N$. All $N$ classes will go through $M$ studying weeks. The high school has $N$ teachers numbered from $1$ to $N$. At the beginning teacher $i$ is assigned to class $i$.\n\nIn order to improve the students adaptability to new knowledge or new teaching methods, the principal has plans to reassign the teachers every few weeks. A reassignment only happens at the beginning of a week (on Monday before classes start) and a week has at most $1$ reassignment. A reassignment is to rotate $K$ teachers $p_1, p_2, p_3, \\ldots , p_ K$, described as follows:\n - Teacher $p_ i$ moves to the current class where teacher $p_{i+1}$ is teaching ($1 \\leq i < K$).\n - Teacher $p_ K$ moves to the current class where teacher $p_1$ is teaching.\n\nAfter the reassignment, the teachers will stay at the newly assigned classrom, until he is reassigned again.\n\nThe principal continuously add shuffle plans and he also asks questions: \u201cWhen all the previous reassignment plans comes to effect, which class will teacher $d$ teach on Tuesday of the $x$-th week?\u201d Your task is to help him answer all those questions.\n\n-----Input-----\nThe first line contains $3$ integers: $N$, $M$ and $Q$ - the number of queries ($1 \\leq N,M,Q \\leq 10^5$). The next $Q$ lines describes $Q$ queries, each will be in either of the $2$ forms:\n - $0$ $K$ $x$ $p_1$ $p_2$ \u2026$p_ K$ - add a plan to rotate $K$ teachers $p_1, p_2, \\ldots p_ K$ on Monday of the $x$-th week ($1 \\leq x \\leq M$, $2 \\leq K \\leq 10$, all $K$ values in $p$ are unique).\n - $1$ $d$ $x$ - ask which class is taught by teacher $d$ on Tuesday of the $x$-th week.\n\nIt is guaranteed that there are no two queries of type $0$ has the same value $x$.\n\n-----Output-----\nFor each of the queries type $1$, print the answer in a single line.\n\n-----Clarification for the second sample-----\nInitial assignment: \n\nClass $1$\n:"], "prompt": "\nQUESTION:\nA new school year has started. The high school for gifted students of Ho Chi Minh city has $N$ classes numbered from $1$ to $N$. All $N$ classes will go through $M$ studying weeks. The high school has $N$ teachers numbered from $1$ to $N$. At the beginning teacher $i$ is assigned to class $i$.\n\nIn order to improve the students adaptability to new knowledge or new teaching methods, the principal has plans to reassign the teachers every few weeks. A reassignment only happens at the beginning of a week (on Monday before classes start) and a week has at most $1$ reassignment. A reassignment is to rotate $K$ teachers $p_1, p_2, p_3, \\ldots , p_ K$, described as follows:\n - Teacher $p_ i$ moves to the current class where teacher $p_{i+1}$ is teaching ($1 \\leq i < K$).\n - Teacher $p_ K$ moves to the current class where teacher $p_1$ is teaching.\n\nAfter the reassignment, the teachers will stay at the newly assigned classrom, until he is reassigned again.\n\nThe principal continuously add shuffle plans and he also asks questions: \u201cWhen all the previous reassignment plans comes to effect, which class will teacher $d$ teach on Tuesday of the $x$-th week?\u201d Your task is to help him answer all those questions.\n\n-----Input-----\nThe first line contains $3$ integers: $N$, $M$ and $Q$ - the number of queries ($1 \\leq N,M,Q \\leq 10^5$). The next $Q$ lines describes $Q$ queries, each will be in either of the $2$ forms:\n - $0$ $K$ $x$ $p_1$ $p_2$ \u2026$p_ K$ - add a plan to rotate $K$ teachers $p_1, p_2, \\ldots p_ K$ on Monday of the $x$-th week ($1 \\leq x \\leq M$, $2 \\leq K \\leq 10$, all $K$ values in $p$ are unique).\n - $1$ $d$ $x$ - ask which class is taught by teacher $d$ on Tuesday of the $x$-th week.\n\nIt is guaranteed that there are no two queries of type $0$ has the same value $x$.\n\n-----Output-----\nFor each of the queries type $1$, print the answer in a single line.\n\n-----Clarification for the second sample-----\nInitial assignment: \n\nClass $1$\n\nClass $2$\n\nClass $3$\n\nWeek $1$\n\n$1$\n\n$2$\n\n$3$\n\nWeek $2$\n\n$1$\n\n$2$\n\n$3$\n\nWeek $3$\n\n$1$\n\n$2$\n\n$3$\n\nWeek $4$\n\n$1$\n\n$2$\n\n$3$\n\nAfter rotate $(3, 2)$ on Monday of the $2^\\textrm {nd}$ week: \n\nClass $1$\n\nClass $2$\n\nClass $3$\n\nWeek $1$\n\n$1$\n\n$2$\n\n$3$\n\nWeek $2$\n\n$1$\n\n$3$\n\n$2$\n\nWeek $3$\n\n$1$\n\n$3$\n\n$2$\n\nWeek $4$\n\n$1$\n\n$3$\n\n$2$\n\nAfter rotate $(3,1,2)$ on Monday of the $3^\\textrm {rd}$ week: \n\nClass $1$\n\nClass $2$\n\nClass $3$\n\nWeek $1$\n\n$1$\n\n$2$\n\n$3$\n\nWeek $2$\n\n$1$\n\n$3$\n\n$2$\n\nWeek $3$\n\n$3$\n\n$2$\n\n$1$\n\nWeek $4$\n\n$3$\n\n$2$\n\n$1$\n\n-----Examples-----\nSample Input:\n3 4 5\n1 3 4\n0 2 2 3 2\n1 3 2\n1 2 4\n1 1 4\nSample Output:\n3\n2\n3\n1\nPlease provide the solution as pure code only, without explanations or comments.\n\nANSWER:\n```python\n"}}