{"3326": {"code": ["from", "from", "def", "from", "from"], "prompt": "\nQUESTION:\nYou are given an $r\\! \\times \\! c$ grid. Each cell of this grid is filled with a number between $1$ and $r{\\cdot }c$ inclusive, and each cell\u2019s number is distinct.\n\nDefine a grid of numbers to be monotonic if each row and column is either increasing or decreasing (this can be different for each row or column).\n\nDefine a subgrid of the grid as follows: First choose some nonempty subset of the rows and columns. Next, take elements that lie in both the chosen rows and columns in the same order.\n\nThere are $(2^r{-}1)(2^c{-}1)$ nonempty subgrids of the given grid. Of these subgrids, count how many are monotonic.\n\nConsider this grid:$1$\u2003\u2003$2$\u2003\u2003$5$\n\n$7$\u2003\u2003$6$\u2003\u2003$4$\n\n$9$\u2003\u2003$8$\u2003\u2003$3$\n\n\nThere are nine $1{\\times }1$ subgrids, nine $1{\\times }2$\u2019s, three $1{\\times }3$\u2019s, nine $2{\\times }1$\u2019s, nine $2{\\times }2$\u2019s, three $2{\\times }3$\u2019s, three $3{\\times }1$\u2019s, three $3{\\times }2$\u2019s, and one $3{\\times }3$. They are all monotonic, for $9{+}9{+}3{+}9{+}9{+}3{+}3{+}3{+}1=49$ monotonic subgrids.\n\n-----Input-----\nEach test case will begin with a line with two space-separated integers $r$ and $c$ ($1\\! \\le \\! r,c\\! \\le \\! 20$), which are the dimensions of the grid.\n\nEach of the next $r$ lines will contain $c$ space-separated integers $x$ ($1\\! \\le \\! x\\! \\le \\! r{\\cdot }c$, all $x$\u2019s are unique). This is the grid.\n\n-----Output-----\nOutput a single integer, which is the number of monotonic subgrids in the given grid.\n\n-----Examples-----\nSample Input:\n3 3\n1 2 5\n7 6 4\n9 8 3\nSample Output:\n49\nPlease provide the solution as pure code only, without explanations or comments.\n\nANSWER:\n```python\n"}}