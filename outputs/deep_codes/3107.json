{"3107": {"code": ["QUESTION:\nWe are observing the movement of $N$ trucks on the road. The road can be represented as a number line. The points on the line denoting cities are integers. The cities are denoted with the number of the corresponding point on the line.\n\nAll trucks are moving with the same speed and no single truck is standing still at any given moment. Each truck takes 1 minute to pass the distance between two adjacent cities.\n\nYou are given the route of each truck. All of the trucks start their route at the same initial moment.\n\nThe route is given as an array of $k$ cities: $A_1, A_2, \\ldots , A_ k$. The truck starts from city $A_1$ and drives to city $A_2$, then turns and drives to city $A_3$ and so on. Given the fact that the truck turns, it will hold:\\begin{equation*} A_1 < A_2 > A_3 < A_4 > \\ldots \\text { or } A_1 > A_2 < A_3 > A_4 < \\ldots \\end{equation*}\n\nThe time it takes for the truck to turn is negligible.\n\nOne possible route is 2, 5, 1, 7. The truck is at city number 2 initially, 3 minutes after departure it arrives to city number 5. It turns and continues towards the city number 1 in which it arrives 7 minutes after departure. It turns again and drives towards city number 7 in which it arrives at moment 13.\n\nAfter the truck completes his route, aliens appear and take it away in their space rocket.\n\nFor some pairs of trucks, we want to know the number of times they met each other on the road. In other words, how many times they appeared to be on the same position (the position they met does not need to be an integer; i.e. they could have met at position $2.5$).\n\nWrite a program that will, for a given number of trucks $N$ and their routes and for $M$ pairs of trucks, determine the number of encounters for each pair.\n\nPlease note: each pair of trucks we want to know the number of encounters for, it will hold:\n - they won\u2019t be at the same place in the moment when one of them (or both) are being taken away by aliens\n - they won\u2019t be at the same place in the initial moment or in the moment when one of them (or both) are turning\n\nThe upper statement won\u2019t hold for all pairs of trucks, but only the pairs we want to know the number of encounters for.\n\n-----Input-----\nThe first line of input contains the integers $N$ and $", "QUESTION:\nWe are observing the movement of $N$ trucks on the road. The road can be represented as a number line. The points on the line denoting cities are integers. The cities are denoted with the number of the corresponding point on the line.\n\nAll trucks are moving with the same speed and no single truck is standing still at any given moment. Each truck takes 1 minute to pass the distance between two adjacent cities.\n\nYou are given the route of each truck. All of the trucks start their route at the same initial moment.\n\nThe route is given as an array of $k$ cities: $A_1, A_2, \\ldots , A_ k$. The truck starts from city $A_1$ and drives to city $A_2$, then turns and drives to city $A_3$ and so on. Given the fact that the truck turns, it will hold:\\begin{equation*} A_1 < A_2 > A_3 < A_4 > \\ldots \\text { or } A_1 > A_2 < A_3 > A_4 < \\ldots \\end{equation*}\n\nThe time it takes for the truck to turn is negligible.\n\nOne possible route is 2, 5, 1, 7. The truck is at city number 2 initially, 3 minutes after departure it arrives to city number 5. It turns and continues towards the city number 1 in which it arrives 7 minutes after departure. It turns again and drives towards city number 7 in which it arrives at moment 13.\n\nAfter the truck completes his route, aliens appear and take it away in their space rocket.\n\nFor some pairs of trucks, we want to know the number of times they met each other on the road. In other words, how many times they appeared to be on the same position (the position they met does not need to be an integer; i.e. they could have met at position $2.5$).\n\nWrite a program that will, for a given number of trucks $N$ and their routes and for $M$ pairs of trucks, determine the number of encounters for each pair.\n\nPlease note: each pair of trucks we want to know the number of encounters for, it will hold:\n - they won\u2019t be at the same place in the moment when one of them (or both) are being taken away by aliens\n - they won\u2019t be at the same place in the initial moment or in the moment when one of them (or both) are turning\n\nThe upper statement won\u2019t hold for all pairs of trucks, but only the pairs we want to know the number of encounters for.\n\n-----Input-----\nThe first line of input contains the integers $N$ and $", "QUESTION:\nWe are observing the movement of $N$ trucks on the road. The road can be represented as a number line. The points on the line denoting cities are integers. The cities are denoted with the number of the corresponding point on the line.\n\nAll trucks are moving with the same speed and no single truck is standing still at any given moment. Each truck takes 1 minute to pass the distance between two adjacent cities.\n\nYou are given the route of each truck. All of the trucks start their route at the same initial moment.\n\nThe route is given as an array of $k$ cities: $A_1, A_2, \\ldots , A_ k$. The truck starts from city $A_1$ and drives to city $A_2$, then turns and drives to city $A_3$ and so on. Given the fact that the truck turns, it will hold:\\begin{equation*} A_1 < A_2 > A_3 < A_4 > \\ldots \\text { or } A_1 > A_2 < A_3 > A_4 < \\ldots \\end{equation*}\n\nThe time it takes for the truck to turn is negligible.\n\nOne possible route is 2, 5, 1, 7. The truck is at city number 2 initially, 3 minutes after departure it arrives to city number 5. It turns and continues towards the city number 1 in which it arrives 7 minutes after departure. It turns again and drives towards city number 7 in which it arrives at moment 13.\n\nAfter the truck completes his route, aliens appear and take it away in their space rocket.\n\nFor some pairs of trucks, we want to know the number of times they met each other on the road. In other words, how many times they appeared to be on the same position (the position they met does not need to be an integer; i.e. they could have met at position $2.5$).\n\nWrite a program that will, for a given number of trucks $N$ and their routes and for $M$ pairs of trucks, determine the number of encounters for each pair.\n\nPlease note: each pair of trucks we want to know the number of encounters for, it will hold:\n - they won\u2019t be at the same place in the moment when one of them (or both) are being taken away by aliens\n - they won\u2019t be at the same place in the initial moment or in the moment when one of them (or both) are turning\n\nThe upper statement won\u2019t hold for all pairs of trucks, but only the pairs we want to know the number of encounters for.\n\n-----Input-----\nThe first line of input contains the integers $N$ and $", "QUESTION:\nWe are observing the movement of $N$ trucks on the road. The road can be represented as a number line. The points on the line denoting cities are integers. The cities are denoted with the number of the corresponding point on the line.\n\nAll trucks are moving with the same speed and no single truck is standing still at any given moment. Each truck takes 1 minute to pass the distance between two adjacent cities.\n\nYou are given the route of each truck. All of the trucks start their route at the same initial moment.\n\nThe route is given as an array of $k$ cities: $A_1, A_2, \\ldots , A_ k$. The truck starts from city $A_1$ and drives to city $A_2$, then turns and drives to city $A_3$ and so on. Given the fact that the truck turns, it will hold:\\begin{equation*} A_1 < A_2 > A_3 < A_4 > \\ldots \\text { or } A_1 > A_2 < A_3 > A_4 < \\ldots \\end{equation*}\n\nThe time it takes for the truck to turn is negligible.\n\nOne possible route is 2, 5, 1, 7. The truck is at city number 2 initially, 3 minutes after departure it arrives to city number 5. It turns and continues towards the city number 1 in which it arrives 7 minutes after departure. It turns again and drives towards city number 7 in which it arrives at moment 13.\n\nAfter the truck completes his route, aliens appear and take it away in their space rocket.\n\nFor some pairs of trucks, we want to know the number of times they met each other on the road. In other words, how many times they appeared to be on the same position (the position they met does not need to be an integer; i.e. they could have met at position $2.5$).\n\nWrite a program that will, for a given number of trucks $N$ and their routes and for $M$ pairs of trucks, determine the number of encounters for each pair.\n\nPlease note: each pair of trucks we want to know the number of encounters for, it will hold:\n - they won\u2019t be at the same place in the moment when one of them (or both) are being taken away by aliens\n - they won\u2019t be at the same place in the initial moment or in the moment when one of them (or both) are turning\n\nThe upper statement won\u2019t hold for all pairs of trucks, but only the pairs we want to know the number of encounters for.\n\n-----Input-----\nThe first line of input contains the integers $N$ and $", "QUESTION:\nWe are observing the movement of $N$ trucks on the road. The road can be represented as a number line. The points on the line denoting cities are integers. The cities are denoted with the number of the corresponding point on the line.\n\nAll trucks are moving with the same speed and no single truck is standing still at any given moment. Each truck takes 1 minute to pass the distance between two adjacent cities.\n\nYou are given the route of each truck. All of the trucks start their route at the same initial moment.\n\nThe route is given as an array of $k$ cities: $A_1, A_2, \\ldots , A_ k$. The truck starts from city $A_1$ and drives to city $A_2$, then turns and drives to city $A_3$ and so on. Given the fact that the truck turns, it will hold:\\begin{equation*} A_1 < A_2 > A_3 < A_4 > \\ldots \\text { or } A_1 > A_2 < A_3 > A_4 < \\ldots \\end{equation*}\n\nThe time it takes for the truck to turn is negligible.\n\nOne possible route is 2, 5, 1, 7. The truck is at city number 2 initially, 3 minutes after departure it arrives to city number 5. It turns and continues towards the city number 1 in which it arrives 7 minutes after departure. It turns again and drives towards city number 7 in which it arrives at moment 13.\n\nAfter the truck completes his route, aliens appear and take it away in their space rocket.\n\nFor some pairs of trucks, we want to know the number of times they met each other on the road. In other words, how many times they appeared to be on the same position (the position they met does not need to be an integer; i.e. they could have met at position $2.5$).\n\nWrite a program that will, for a given number of trucks $N$ and their routes and for $M$ pairs of trucks, determine the number of encounters for each pair.\n\nPlease note: each pair of trucks we want to know the number of encounters for, it will hold:\n - they won\u2019t be at the same place in the moment when one of them (or both) are being taken away by aliens\n - they won\u2019t be at the same place in the initial moment or in the moment when one of them (or both) are turning\n\nThe upper statement won\u2019t hold for all pairs of trucks, but only the pairs we want to know the number of encounters for.\n\n-----Input-----\nThe first line of input contains the integers $N$ and $"], "prompt": "\nQUESTION:\nWe are observing the movement of $N$ trucks on the road. The road can be represented as a number line. The points on the line denoting cities are integers. The cities are denoted with the number of the corresponding point on the line.\n\nAll trucks are moving with the same speed and no single truck is standing still at any given moment. Each truck takes 1 minute to pass the distance between two adjacent cities.\n\nYou are given the route of each truck. All of the trucks start their route at the same initial moment.\n\nThe route is given as an array of $k$ cities: $A_1, A_2, \\ldots , A_ k$. The truck starts from city $A_1$ and drives to city $A_2$, then turns and drives to city $A_3$ and so on. Given the fact that the truck turns, it will hold:\\begin{equation*} A_1 < A_2 > A_3 < A_4 > \\ldots \\text { or } A_1 > A_2 < A_3 > A_4 < \\ldots \\end{equation*}\n\nThe time it takes for the truck to turn is negligible.\n\nOne possible route is 2, 5, 1, 7. The truck is at city number 2 initially, 3 minutes after departure it arrives to city number 5. It turns and continues towards the city number 1 in which it arrives 7 minutes after departure. It turns again and drives towards city number 7 in which it arrives at moment 13.\n\nAfter the truck completes his route, aliens appear and take it away in their space rocket.\n\nFor some pairs of trucks, we want to know the number of times they met each other on the road. In other words, how many times they appeared to be on the same position (the position they met does not need to be an integer; i.e. they could have met at position $2.5$).\n\nWrite a program that will, for a given number of trucks $N$ and their routes and for $M$ pairs of trucks, determine the number of encounters for each pair.\n\nPlease note: each pair of trucks we want to know the number of encounters for, it will hold:\n - they won\u2019t be at the same place in the moment when one of them (or both) are being taken away by aliens\n - they won\u2019t be at the same place in the initial moment or in the moment when one of them (or both) are turning\n\nThe upper statement won\u2019t hold for all pairs of trucks, but only the pairs we want to know the number of encounters for.\n\n-----Input-----\nThe first line of input contains the integers $N$ and $M$ ($1 \\leq N \\leq 10^5$, $1 \\leq M \\leq 10^5$), the number of trucks and the number of pairs of trucks we want to know the number of encounters for.\n\nThe $i$-th of the following $N$ lines contains the description of the route of the $i$-th truck.\n\nThe first integer in the line, $K_ i$ ($2 \\leq K_ i \\leq 3 \\cdot 10^5$) represents the number of cities on the truck\u2019s route. Afterwards $K_ i$ integers follow, $A_ j$ ($1 \\leq A_ j \\leq 10^9$), the ordinal numbers of the cities on the truck\u2019s route given in the order which the truck visits them.\n\nThe sum of routes of all the trucks won\u2019t exceed $3 \\cdot 10^5$.\n\nEach of the following $M$ lines contains two integers ($a_ i, b_ i$), the ordinal numbers of the trucks we want to know the number of encounters for.\n\n-----Output-----\nOutput $M$ lines. The $i$-th line must contain the number of encounters of the $i$-th pair of trucks from the input.\n\n-----Examples-----\nSample Input 1:\n3 3\n3 1 3 1\n2 2 1\n3 3 1 3\n1 2\n2 3\n3 1\nSample Output 1:\n1\n0\n2\n\nSample Input 2:\n2 1\n4 1 6 3 6\n7 3 4 2 6 5 6 1\n1 2\nSample Output 2:\n3\nPlease provide the solution as pure code only, without explanations or comments.\n\nANSWER:\n```python\n"}}