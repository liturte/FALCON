{"3163": {"code": ["QUESTION:\nLibrarian Jurica has $N$ shelves in his library, and each shelf can contain $M$ books. Jurica is a good librarian so he decided to make an inventory in the library and, if it\u2019s necessary, return the books that aren\u2019t in their place to their right place. He moves the books in the following way:\n - moving the books one place to the left or to the right on a shelf if the place to the left or to the right is available,\n - taking a book from a shelf and placing it to an available place on that or any other shelf.\n\nCareful Jurica can\u2019t move books if he has a book in his hands. Additionally, he can\u2019t take more than one book at once.\n\nJurica has been having back pains ever since he had to move all the volumes of the printed edition of Wikipedia from the first to the second floor so now he wants to put all the books in place with as little lifting as possible because his back is hurting. What is the minimal number of lifting he needs?\n\n-----Input-----\nThe first line of input contains the integers $N$ and $M$ ($1 \\leq N \\leq 1000$, $1 \\leq M \\leq 1000$).\n\nEach of the following $N$ lines contains $M$ integers, the $i$-th line describing the current state of the $i$-th shelf.\n\nNumber $0$ denotes an empty place on the shelf, and a number different than $0$ denotes that there is a book in that place denoted with that number. All books are denoted with different numbers from $1$ to $K$, where $K$ is the total number of books on the shelves. After that, an additional $N$ lines follow, each containing $M$ integers, the $i$-th line describing the wanted state of the $i$-th shelf.\n\nIn the initial and final state of the shelves, the same books will appear.\n\n-----Output-----\nThe first and only line of output must contain the required minimal number of lifting or $-1$ if it is impossible to arrange the books in the aforementioned way.\n\n-----Examples-----\nSample Input 1:\n2 4\n1 0 2 0\n3 5 4 0\n2 1 0 0\n3 0 4 5\nSample Output 1:\n2\n\nSample Input 2:\n3 3\n1 2 3\n4 5 6\n7 8 0\n4 2 3\n6 5 1\n0 7 8\nSample Output 2:\n4\nPlease provide the solution as well", "QUESTION:\nLibrarian Jurica has $N$ shelves in his library, and each shelf can contain $M$ books. Jurica is a good librarian so he decided to make an inventory in the library and, if it\u2019s necessary, return the books that aren\u2019t in their place to their right place. He moves the books in the following way:\n - moving the books one place to the left or to the right on a shelf if the place to the left or to the right is available,\n - taking a book from a shelf and placing it to an available place on that or any other shelf.\n\nCareful Jurica can\u2019t move books if he has a book in his hands. Additionally, he can\u2019t take more than one book at once.\n\nJurica has been having back pains ever since he had to move all the volumes of the printed edition of Wikipedia from the first to the second floor so now he wants to put all the books in place with as little lifting as possible because his back is hurting. What is the minimal number of lifting he needs?\n\n-----Input-----\nThe first line of input contains the integers $N$ and $M$ ($1 \\leq N \\leq 1000$, $1 \\leq M \\leq 1000$).\n\nEach of the following $N$ lines contains $M$ integers, the $i$-th line describing the current state of the $i$-th shelf.\n\nNumber $0$ denotes an empty place on the shelf, and a number different than $0$ denotes that there is a book in that place denoted with that number. All books are denoted with different numbers from $1$ to $K$, where $K$ is the total number of books on the shelves. After that, an additional $N$ lines follow, each containing $M$ integers, the $i$-th line describing the wanted state of the $i$-th shelf.\n\nIn the initial and final state of the shelves, the same books will appear.\n\n-----Output-----\nThe first and only line of output must contain the required minimal number of lifting or $-1$ if it is impossible to arrange the books in the aforementioned way.\n\n-----Examples-----\nSample Input 1:\n2 4\n1 0 2 0\n3 5 4 0\n2 1 0 0\n3 0 4 5\nSample Output 1:\n2\n\nSample Input 2:\n3 3\n1 2 3\n4 5 6\n7 8 0\n4 2 3\n6 5 1\n0 7 8\nSample Output 2:\n4\nPlease provide the solution as well", "QUESTION:\nLibrarian Jurica has $N$ shelves in his library, and each shelf can contain $M$ books. Jurica is a good librarian so he decided to make an inventory in the library and, if it\u2019s necessary, return the books that aren\u2019t in their place to their right place. He moves the books in the following way:\n - moving the books one place to the left or to the right on a shelf if the place to the left or to the right is available,\n - taking a book from a shelf and placing it to an available place on that or any other shelf.\n\nCareful Jurica can\u2019t move books if he has a book in his hands. Additionally, he can\u2019t take more than one book at once.\n\nJurica has been having back pains ever since he had to move all the volumes of the printed edition of Wikipedia from the first to the second floor so now he wants to put all the books in place with as little lifting as possible because his back is hurting. What is the minimal number of lifting he needs?\n\n-----Input-----\nThe first line of input contains the integers $N$ and $M$ ($1 \\leq N \\leq 1000$, $1 \\leq M \\leq 1000$).\n\nEach of the following $N$ lines contains $M$ integers, the $i$-th line describing the current state of the $i$-th shelf.\n\nNumber $0$ denotes an empty place on the shelf, and a number different than $0$ denotes that there is a book in that place denoted with that number. All books are denoted with different numbers from $1$ to $K$, where $K$ is the total number of books on the shelves. After that, an additional $N$ lines follow, each containing $M$ integers, the $i$-th line describing the wanted state of the $i$-th shelf.\n\nIn the initial and final state of the shelves, the same books will appear.\n\n-----Output-----\nThe first and only line of output must contain the required minimal number of lifting or $-1$ if it is impossible to arrange the books in the aforementioned way.\n\n-----Examples-----\nSample Input 1:\n2 4\n1 0 2 0\n3 5 4 0\n2 1 0 0\n3 0 4 5\nSample Output 1:\n2\n\nSample Input 2:\n3 3\n1 2 3\n4 5 6\n7 8 0\n4 2 3\n6 5 1\n0 7 8\nSample Output 2:\n4\nPlease provide the solution as well", "QUESTION:\nLibrarian Jurica has $N$ shelves in his library, and each shelf can contain $M$ books. Jurica is a good librarian so he decided to make an inventory in the library and, if it\u2019s necessary, return the books that aren\u2019t in their place to their right place. He moves the books in the following way:\n - moving the books one place to the left or to the right on a shelf if the place to the left or to the right is available,\n - taking a book from a shelf and placing it to an available place on that or any other shelf.\n\nCareful Jurica can\u2019t move books if he has a book in his hands. Additionally, he can\u2019t take more than one book at once.\n\nJurica has been having back pains ever since he had to move all the volumes of the printed edition of Wikipedia from the first to the second floor so now he wants to put all the books in place with as little lifting as possible because his back is hurting. What is the minimal number of lifting he needs?\n\n-----Input-----\nThe first line of input contains the integers $N$ and $M$ ($1 \\leq N \\leq 1000$, $1 \\leq M \\leq 1000$).\n\nEach of the following $N$ lines contains $M$ integers, the $i$-th line describing the current state of the $i$-th shelf.\n\nNumber $0$ denotes an empty place on the shelf, and a number different than $0$ denotes that there is a book in that place denoted with that number. All books are denoted with different numbers from $1$ to $K$, where $K$ is the total number of books on the shelves. After that, an additional $N$ lines follow, each containing $M$ integers, the $i$-th line describing the wanted state of the $i$-th shelf.\n\nIn the initial and final state of the shelves, the same books will appear.\n\n-----Output-----\nThe first and only line of output must contain the required minimal number of lifting or $-1$ if it is impossible to arrange the books in the aforementioned way.\n\n-----Examples-----\nSample Input 1:\n2 4\n1 0 2 0\n3 5 4 0\n2 1 0 0\n3 0 4 5\nSample Output 1:\n2\n\nSample Input 2:\n3 3\n1 2 3\n4 5 6\n7 8 0\n4 2 3\n6 5 1\n0 7 8\nSample Output 2:\n4\nPlease provide the solution as well", "QUESTION:\nLibrarian Jurica has $N$ shelves in his library, and each shelf can contain $M$ books. Jurica is a good librarian so he decided to make an inventory in the library and, if it\u2019s necessary, return the books that aren\u2019t in their place to their right place. He moves the books in the following way:\n - moving the books one place to the left or to the right on a shelf if the place to the left or to the right is available,\n - taking a book from a shelf and placing it to an available place on that or any other shelf.\n\nCareful Jurica can\u2019t move books if he has a book in his hands. Additionally, he can\u2019t take more than one book at once.\n\nJurica has been having back pains ever since he had to move all the volumes of the printed edition of Wikipedia from the first to the second floor so now he wants to put all the books in place with as little lifting as possible because his back is hurting. What is the minimal number of lifting he needs?\n\n-----Input-----\nThe first line of input contains the integers $N$ and $M$ ($1 \\leq N \\leq 1000$, $1 \\leq M \\leq 1000$).\n\nEach of the following $N$ lines contains $M$ integers, the $i$-th line describing the current state of the $i$-th shelf.\n\nNumber $0$ denotes an empty place on the shelf, and a number different than $0$ denotes that there is a book in that place denoted with that number. All books are denoted with different numbers from $1$ to $K$, where $K$ is the total number of books on the shelves. After that, an additional $N$ lines follow, each containing $M$ integers, the $i$-th line describing the wanted state of the $i$-th shelf.\n\nIn the initial and final state of the shelves, the same books will appear.\n\n-----Output-----\nThe first and only line of output must contain the required minimal number of lifting or $-1$ if it is impossible to arrange the books in the aforementioned way.\n\n-----Examples-----\nSample Input 1:\n2 4\n1 0 2 0\n3 5 4 0\n2 1 0 0\n3 0 4 5\nSample Output 1:\n2\n\nSample Input 2:\n3 3\n1 2 3\n4 5 6\n7 8 0\n4 2 3\n6 5 1\n0 7 8\nSample Output 2:\n4\nPlease provide the solution as well"], "prompt": "\nQUESTION:\nLibrarian Jurica has $N$ shelves in his library, and each shelf can contain $M$ books. Jurica is a good librarian so he decided to make an inventory in the library and, if it\u2019s necessary, return the books that aren\u2019t in their place to their right place. He moves the books in the following way:\n - moving the books one place to the left or to the right on a shelf if the place to the left or to the right is available,\n - taking a book from a shelf and placing it to an available place on that or any other shelf.\n\nCareful Jurica can\u2019t move books if he has a book in his hands. Additionally, he can\u2019t take more than one book at once.\n\nJurica has been having back pains ever since he had to move all the volumes of the printed edition of Wikipedia from the first to the second floor so now he wants to put all the books in place with as little lifting as possible because his back is hurting. What is the minimal number of lifting he needs?\n\n-----Input-----\nThe first line of input contains the integers $N$ and $M$ ($1 \\leq N \\leq 1000$, $1 \\leq M \\leq 1000$).\n\nEach of the following $N$ lines contains $M$ integers, the $i$-th line describing the current state of the $i$-th shelf.\n\nNumber $0$ denotes an empty place on the shelf, and a number different than $0$ denotes that there is a book in that place denoted with that number. All books are denoted with different numbers from $1$ to $K$, where $K$ is the total number of books on the shelves. After that, an additional $N$ lines follow, each containing $M$ integers, the $i$-th line describing the wanted state of the $i$-th shelf.\n\nIn the initial and final state of the shelves, the same books will appear.\n\n-----Output-----\nThe first and only line of output must contain the required minimal number of lifting or $-1$ if it is impossible to arrange the books in the aforementioned way.\n\n-----Examples-----\nSample Input 1:\n2 4\n1 0 2 0\n3 5 4 0\n2 1 0 0\n3 0 4 5\nSample Output 1:\n2\n\nSample Input 2:\n3 3\n1 2 3\n4 5 6\n7 8 0\n4 2 3\n6 5 1\n0 7 8\nSample Output 2:\n4\nPlease provide the solution as pure code only, without explanations or comments.\n\nANSWER:\n```python\n"}}