{"3797": {"code": ["MOD = 10**9+7\nN, M = map(int, input().split())\ndp = [[[[0]*4 for _ in range(4)] for _ in range(31)] for _ in range(31)]\ndp[0][0][0][0] = 1\nfor n in range(N):\n    for m in range(n+1):\n        for r in range(min(3, m+1)):\n            for g in range(min(3, r+1)):", "MOD = 10**9 + 7\nN, M = map(int, input().split())\n\n# prepare for dynamic programming\ndp = [[[0]*4 for _ in range(N+1)] for _ in range(N+1)]\ndp[0][0][0] = 1\n\nfor i in range(N):\n    for j in range(i+1):\n        for k in range(4):\n            dp[i+1][j][k] += dp[i][j][k]", "MOD = 10**9+7\nN, M = map(int, input().split())\nlr = [list(map(int, input().split())) for _ in range(M)]\ndp = [0]*(N+1)\ndp[0] = 1\nfor l, r, x in lr:\n    ndp = dp[:]\n    for i in range(N-r+l):\n        ndp[i+r] = (ndp[i+r] + dp[i]", "MOD = 10**9+7\nN, M = map(int, input().split())\n\nconditions = [list(map(int, input().split())) for _ in range(M)]\n\ndp = [1]*(N+1)\nfor i in range(1, N+1):\n    dp[i] = dp[i-1]*3\n    dp[i] %= MOD\n\nfor l, r, x in conditions:\n    for i in range(l, r+1", "MOD = 10**9+7\nN, M = map(int, input().split())\n\n# Initialize dp table\ndp = [[[[0]*4 for _ in range(4)] for _ in range(N+1)] for _ in range(N+1)]\ndp[0][0][0][0] = 1\n\n# Initialize prefix sum table\nps = [[0]*(N+1) for _ in range(4)]\nfor i in range(1, N+1):\n    for j"], "prompt": "\nQUESTION:\nThere are N squares arranged in a row.\nThe squares are numbered 1, 2, ..., N, from left to right.\nSnuke is painting each square in red, green or blue.\nAccording to his aesthetic sense, the following M conditions must all be satisfied.\nThe i-th condition is:\n - There are exactly x_i different colors among squares l_i, l_i + 1, ..., r_i.\nIn how many ways can the squares be painted to satisfy all the conditions?\nFind the count modulo 10^9+7.\n\n-----Constraints-----\n - 1 \u2264 N \u2264 300\n - 1 \u2264 M \u2264 300\n - 1 \u2264 l_i \u2264 r_i \u2264 N\n - 1 \u2264 x_i \u2264 3\n\n-----Input-----\nInput is given from Standard Input in the following format:\nN M\nl_1 r_1 x_1\nl_2 r_2 x_2\n:\nl_M r_M x_M\n\n-----Output-----\nPrint the number of ways to paint the squares to satisfy all the conditions, modulo 10^9+7.\n\n-----Sample Input-----\n3 1\n1 3 3\n\n-----Sample Output-----\n6\n\nThe six ways are:\n - RGB\n - RBG\n - GRB\n - GBR\n - BRG\n - BGR\nwhere R, G and B correspond to red, green and blue squares, respectively.\nPlease provide the solution as pure code only, without explanations or comments.\n\nANSWER:\n```python\n"}}