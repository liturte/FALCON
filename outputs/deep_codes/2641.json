{"2641": {"code": ["import sys\nfrom collections import defaultdict\n\nN, Q = map(int, sys.stdin.readline().split())\ncolors = list(map(int, sys.stdin.readline().split()))\nqueries = [list(map(int, sys.stdin.readline().split())) for _ in range(Q)]\n\n# Create a dictionary to store the colors of each segment\nsegment_colors = defaultdict(set)\nfor i in range(N):\n    segment_colors[i].add(colors[i])", "from collections import defaultdict\n\nN, Q = map(int, input().split())\nC = list(map(int, input().split()))\nqueries = [list(map(int, input().split())) for _ in range(Q)]\n\n# preprocess\ncounts = [defaultdict(int) for _ in range(N+1)]\nfor i in range(N):\n    counts[i+1] = counts[i].copy()\n    counts[i+1][C[i]] += 1\n\n# answer queries\nfor l, r", "from collections import defaultdict\n\nN, Q = map(int, input().split())\nC = list(map(int, input().split()))\nLR = [list(map(int, input().split())) for _ in range(Q)]\n\ncnt = defaultdict(int)\ncum = [0] * (N+1)\nfor i in range(N):\n    cnt[C[i]] += 1\n    cum[i+1] = cnt[C[i]]\n\nfor l, r in LR:\n    print(", "import sys\nfrom collections import defaultdict\n\nn, q = map(int, sys.stdin.readline().split())\nc = list(map(int, sys.stdin.readline().split()))\nqueries = [list(map(int, sys.stdin.readline().split())) for _ in range(q)]\n\n# Create a list of dictionaries\n# Each dictionary will hold the counts of colors for each segment\nsegment_colors = [defaultdict(int) for _ in range(n+1)]\n\nfor i in range", "from collections import defaultdict\n\nN, Q = map(int, input().split())\nC = list(map(int, input().split()))\nLR = [list(map(int, input().split())) for _ in range(Q)]\n\ncount = defaultdict(int)\nprefix = [0] * (N+1)\nfor i in range(N):\n    prefix[i+1] = prefix[i] + count[C[i]]\n    count[C[i]] += 1\n\ncount = defaultdict(int)\nsuffix ="], "prompt": "\nQUESTION:\nWe have N colored balls arranged in a row from left to right; the color of the i-th ball from the left is c_i.\nYou are given Q queries. The i-th query is as follows: how many different colors do the l_i-th through r_i-th balls from the left have?\n\n-----Constraints-----\n - 1\\leq N,Q \\leq 5 \\times 10^5\n - 1\\leq c_i \\leq N\n - 1\\leq l_i \\leq r_i \\leq N\n - All values in input are integers.\n\n-----Input-----\nInput is given from Standard Input in the following format:\nN Q\nc_1 c_2 \\cdots c_N\nl_1 r_1\nl_2 r_2\n:\nl_Q r_Q\n\n-----Output-----\nPrint Q lines. The i-th line should contain the response to the i-th query.\n\n-----Sample Input-----\n4 3\n1 2 1 3\n1 3\n2 4\n3 3\n\n-----Sample Output-----\n2\n3\n1\n\n - The 1-st, 2-nd, and 3-rd balls from the left have the colors 1, 2, and 1 - two different colors.\n - The 2-st, 3-rd, and 4-th balls from the left have the colors 2, 1, and 3 - three different colors.\n - The 3-rd ball from the left has the color 1 - just one color.\nPlease provide the solution as pure code only, without explanations or comments.\n\nANSWER:\n```python\n"}}