{"1269": {"code": ["QUESTION:\nThis is the first subtask of problem F. The only differences between this and the second subtask are the constraints on the value of $m$ and the time limit. You need to solve both subtasks in order to hack this one.\n\nThere are $n+1$ distinct colours in the universe, numbered $0$ through $n$. There is a strip of paper $m$ centimetres long initially painted with colour $0$. \n\nAlice took a brush and painted the strip using the following process. For each $i$ from $1$ to $n$, in this order, she picks two integers $0 \\leq a_i < b_i \\leq m$, such that the segment $[a_i, b_i]$ is currently painted with a single colour, and repaints it with colour $i$. \n\nAlice chose the segments in such a way that each centimetre is now painted in some colour other than $0$. Formally, the segment $[i-1, i]$ is painted with colour $c_i$ ($c_i \\neq 0$). Every colour other than $0$ is visible on the strip.\n\nCount the number of different pairs of sequences $\\{a_i\\}_{i=1}^n$, $\\{b_i\\}_{i=1}^n$ that result in this configuration. \n\nSince this number may be large, output it modulo $998244353$.\n\n\n-----Input-----\n\nThe first line contains a two integers $n$, $m$ ($1 \\leq n \\leq 500$, $n = m$)\u00a0\u2014 the number of colours excluding the colour $0$ and the length of the paper, respectively.\n\nThe second line contains $m$ space separated integers $c_1, c_2, \\ldots, c_m$ ($1 \\leq c_i \\leq n$)\u00a0\u2014 the colour visible on the segment $[i-1, i]$ after the process ends. It is guaranteed that for all $j$ between $1$ and $n$ there is an index $k$ such that $c_k = j$.\n\nNote that since in this subtask $n = m$, this means that $c$ is a permutation of integers $1$ through $n$.\n\n\n-----Output-----\n\nOutput a single integer\u00a0\u2014 the number of ways Alice can perform the painting, modulo $998244353$.\n\n\n-----Examples-----\nInput\n3 3\n1 2 3\n\nOutput\n5\n\nInput\n7 7\n7", "QUESTION:\nThis is the first subtask of problem F. The only differences between this and the second subtask are the constraints on the value of $m$ and the time limit. You need to solve both subtasks in order to hack this one.\n\nThere are $n+1$ distinct colours in the universe, numbered $0$ through $n$. There is a strip of paper $m$ centimetres long initially painted with colour $0$. \n\nAlice took a brush and painted the strip using the following process. For each $i$ from $1$ to $n$, in this order, she picks two integers $0 \\leq a_i < b_i \\leq m$, such that the segment $[a_i, b_i]$ is currently painted with a single colour, and repaints it with colour $i$. \n\nAlice chose the segments in such a way that each centimetre is now painted in some colour other than $0$. Formally, the segment $[i-1, i]$ is painted with colour $c_i$ ($c_i \\neq 0$). Every colour other than $0$ is visible on the strip.\n\nCount the number of different pairs of sequences $\\{a_i\\}_{i=1}^n$, $\\{b_i\\}_{i=1}^n$ that result in this configuration. \n\nSince this number may be large, output it modulo $998244353$.\n\n\n-----Input-----\n\nThe first line contains a two integers $n$, $m$ ($1 \\leq n \\leq 500$, $n = m$)\u00a0\u2014 the number of colours excluding the colour $0$ and the length of the paper, respectively.\n\nThe second line contains $m$ space separated integers $c_1, c_2, \\ldots, c_m$ ($1 \\leq c_i \\leq n$)\u00a0\u2014 the colour visible on the segment $[i-1, i]$ after the process ends. It is guaranteed that for all $j$ between $1$ and $n$ there is an index $k$ such that $c_k = j$.\n\nNote that since in this subtask $n = m$, this means that $c$ is a permutation of integers $1$ through $n$.\n\n\n-----Output-----\n\nOutput a single integer\u00a0\u2014 the number of ways Alice can perform the painting, modulo $998244353$.\n\n\n-----Examples-----\nInput\n3 3\n1 2 3\n\nOutput\n5\n\nInput\n7 7\n7", "QUESTION:\nThis is the first subtask of problem F. The only differences between this and the second subtask are the constraints on the value of $m$ and the time limit. You need to solve both subtasks in order to hack this one.\n\nThere are $n+1$ distinct colours in the universe, numbered $0$ through $n$. There is a strip of paper $m$ centimetres long initially painted with colour $0$. \n\nAlice took a brush and painted the strip using the following process. For each $i$ from $1$ to $n$, in this order, she picks two integers $0 \\leq a_i < b_i \\leq m$, such that the segment $[a_i, b_i]$ is currently painted with a single colour, and repaints it with colour $i$. \n\nAlice chose the segments in such a way that each centimetre is now painted in some colour other than $0$. Formally, the segment $[i-1, i]$ is painted with colour $c_i$ ($c_i \\neq 0$). Every colour other than $0$ is visible on the strip.\n\nCount the number of different pairs of sequences $\\{a_i\\}_{i=1}^n$, $\\{b_i\\}_{i=1}^n$ that result in this configuration. \n\nSince this number may be large, output it modulo $998244353$.\n\n\n-----Input-----\n\nThe first line contains a two integers $n$, $m$ ($1 \\leq n \\leq 500$, $n = m$)\u00a0\u2014 the number of colours excluding the colour $0$ and the length of the paper, respectively.\n\nThe second line contains $m$ space separated integers $c_1, c_2, \\ldots, c_m$ ($1 \\leq c_i \\leq n$)\u00a0\u2014 the colour visible on the segment $[i-1, i]$ after the process ends. It is guaranteed that for all $j$ between $1$ and $n$ there is an index $k$ such that $c_k = j$.\n\nNote that since in this subtask $n = m$, this means that $c$ is a permutation of integers $1$ through $n$.\n\n\n-----Output-----\n\nOutput a single integer\u00a0\u2014 the number of ways Alice can perform the painting, modulo $998244353$.\n\n\n-----Examples-----\nInput\n3 3\n1 2 3\n\nOutput\n5\n\nInput\n7 7\n7", "QUESTION:\nThis is the first subtask of problem F. The only differences between this and the second subtask are the constraints on the value of $m$ and the time limit. You need to solve both subtasks in order to hack this one.\n\nThere are $n+1$ distinct colours in the universe, numbered $0$ through $n$. There is a strip of paper $m$ centimetres long initially painted with colour $0$. \n\nAlice took a brush and painted the strip using the following process. For each $i$ from $1$ to $n$, in this order, she picks two integers $0 \\leq a_i < b_i \\leq m$, such that the segment $[a_i, b_i]$ is currently painted with a single colour, and repaints it with colour $i$. \n\nAlice chose the segments in such a way that each centimetre is now painted in some colour other than $0$. Formally, the segment $[i-1, i]$ is painted with colour $c_i$ ($c_i \\neq 0$). Every colour other than $0$ is visible on the strip.\n\nCount the number of different pairs of sequences $\\{a_i\\}_{i=1}^n$, $\\{b_i\\}_{i=1}^n$ that result in this configuration. \n\nSince this number may be large, output it modulo $998244353$.\n\n\n-----Input-----\n\nThe first line contains a two integers $n$, $m$ ($1 \\leq n \\leq 500$, $n = m$)\u00a0\u2014 the number of colours excluding the colour $0$ and the length of the paper, respectively.\n\nThe second line contains $m$ space separated integers $c_1, c_2, \\ldots, c_m$ ($1 \\leq c_i \\leq n$)\u00a0\u2014 the colour visible on the segment $[i-1, i]$ after the process ends. It is guaranteed that for all $j$ between $1$ and $n$ there is an index $k$ such that $c_k = j$.\n\nNote that since in this subtask $n = m$, this means that $c$ is a permutation of integers $1$ through $n$.\n\n\n-----Output-----\n\nOutput a single integer\u00a0\u2014 the number of ways Alice can perform the painting, modulo $998244353$.\n\n\n-----Examples-----\nInput\n3 3\n1 2 3\n\nOutput\n5\n\nInput\n7 7\n7", "QUESTION:\nThis is the first subtask of problem F. The only differences between this and the second subtask are the constraints on the value of $m$ and the time limit. You need to solve both subtasks in order to hack this one.\n\nThere are $n+1$ distinct colours in the universe, numbered $0$ through $n$. There is a strip of paper $m$ centimetres long initially painted with colour $0$. \n\nAlice took a brush and painted the strip using the following process. For each $i$ from $1$ to $n$, in this order, she picks two integers $0 \\leq a_i < b_i \\leq m$, such that the segment $[a_i, b_i]$ is currently painted with a single colour, and repaints it with colour $i$. \n\nAlice chose the segments in such a way that each centimetre is now painted in some colour other than $0$. Formally, the segment $[i-1, i]$ is painted with colour $c_i$ ($c_i \\neq 0$). Every colour other than $0$ is visible on the strip.\n\nCount the number of different pairs of sequences $\\{a_i\\}_{i=1}^n$, $\\{b_i\\}_{i=1}^n$ that result in this configuration. \n\nSince this number may be large, output it modulo $998244353$.\n\n\n-----Input-----\n\nThe first line contains a two integers $n$, $m$ ($1 \\leq n \\leq 500$, $n = m$)\u00a0\u2014 the number of colours excluding the colour $0$ and the length of the paper, respectively.\n\nThe second line contains $m$ space separated integers $c_1, c_2, \\ldots, c_m$ ($1 \\leq c_i \\leq n$)\u00a0\u2014 the colour visible on the segment $[i-1, i]$ after the process ends. It is guaranteed that for all $j$ between $1$ and $n$ there is an index $k$ such that $c_k = j$.\n\nNote that since in this subtask $n = m$, this means that $c$ is a permutation of integers $1$ through $n$.\n\n\n-----Output-----\n\nOutput a single integer\u00a0\u2014 the number of ways Alice can perform the painting, modulo $998244353$.\n\n\n-----Examples-----\nInput\n3 3\n1 2 3\n\nOutput\n5\n\nInput\n7 7\n1"], "prompt": "\nQUESTION:\nThis is the first subtask of problem F. The only differences between this and the second subtask are the constraints on the value of $m$ and the time limit. You need to solve both subtasks in order to hack this one.\n\nThere are $n+1$ distinct colours in the universe, numbered $0$ through $n$. There is a strip of paper $m$ centimetres long initially painted with colour $0$. \n\nAlice took a brush and painted the strip using the following process. For each $i$ from $1$ to $n$, in this order, she picks two integers $0 \\leq a_i < b_i \\leq m$, such that the segment $[a_i, b_i]$ is currently painted with a single colour, and repaints it with colour $i$. \n\nAlice chose the segments in such a way that each centimetre is now painted in some colour other than $0$. Formally, the segment $[i-1, i]$ is painted with colour $c_i$ ($c_i \\neq 0$). Every colour other than $0$ is visible on the strip.\n\nCount the number of different pairs of sequences $\\{a_i\\}_{i=1}^n$, $\\{b_i\\}_{i=1}^n$ that result in this configuration. \n\nSince this number may be large, output it modulo $998244353$.\n\n\n-----Input-----\n\nThe first line contains a two integers $n$, $m$ ($1 \\leq n \\leq 500$, $n = m$)\u00a0\u2014 the number of colours excluding the colour $0$ and the length of the paper, respectively.\n\nThe second line contains $m$ space separated integers $c_1, c_2, \\ldots, c_m$ ($1 \\leq c_i \\leq n$)\u00a0\u2014 the colour visible on the segment $[i-1, i]$ after the process ends. It is guaranteed that for all $j$ between $1$ and $n$ there is an index $k$ such that $c_k = j$.\n\nNote that since in this subtask $n = m$, this means that $c$ is a permutation of integers $1$ through $n$.\n\n\n-----Output-----\n\nOutput a single integer\u00a0\u2014 the number of ways Alice can perform the painting, modulo $998244353$.\n\n\n-----Examples-----\nInput\n3 3\n1 2 3\n\nOutput\n5\n\nInput\n7 7\n4 5 1 6 2 3 7\n\nOutput\n165\n\n\n\n-----Note-----\n\nIn the first example, there are $5$ ways, all depicted in the figure below. Here, $0$ is white, $1$ is red, $2$ is green and $3$ is blue.\n\n[Image]\n\nBelow is an example of a painting process that is not valid, as in the second step the segment 1 3 is not single colour, and thus may not be repainted with colour $2$.\n\n[Image]\nPlease provide the solution as pure code only, without explanations or comments.\n\nANSWER:\n```python\n"}}