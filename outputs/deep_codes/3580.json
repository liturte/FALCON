{"3580": {"code": ["from collections import defaultdict\n\ndef solve():\n    n = int(input().strip())\n    a = list(map(int, input().strip().split()))\n    q = int(input().strip())\n    queries = []\n    for _ in range(q):", "from collections import defaultdict\nfrom bisect import bisect_right\n\ndef longest_subsequence(n, a, q, queries):\n    prefix_sum = [0] * (n+1)\n    for i in range(n):\n        prefix_sum[", "from collections import defaultdict\n\ndef longest_consecutive_subsequence(n, sequence, queries):\n    prefix = defaultdict(int)\n    for i in range(n-1, -1, -1):\n        prefix[(sequence[i], i)] =", "from collections import defaultdict\n\ndef longest_consecutive_subsequence(n, a, q, queries):\n    prefix_sum = [0] * (n + 1)\n    prefix_set = defaultdict(list)\n    for i in range(1,", "from collections import defaultdict\n\ndef longest_consecutive_subsequence(a, b):\n    n = len(a)\n    prefix = [0]*(n+1)\n    for i in range(n):\n        prefix[i+1] = prefix"], "prompt": "\nQUESTION:\nThe problem is simple. You are given a long sequence of integers $a_1, a_2, \\ldots , a_ n$. Then you are given a query consisting of a start index $i$ and a subset of integers $B$. What is the longest consecutive subsequence of the given sequence that starts at position $i$ and contains only integers in $B$?\n\nSimple, right?\n\n-----Input-----\nThe first line of input contains a single integer $1 \\leq n \\leq 10^5$. The second line contains $n$ integers $a_1, \\ldots , a_ n$. Each integer $a_ j$ lies between 0 and $2^{31}-1$.\n\nThe third line contains a single integer $q \\geq 1$ indicating the number of queries to process. Then $q$ lines follow, each starting with two integers $1 \\leq i \\leq n$ and $1 \\leq m \\leq 10^5$, followed by $m$ distinct integers $b_1, \\ldots , b_ m$. Each integer $b_ j$ lies between 0 and $2^{31}-1$.\n\nFinally, you are guaranteed the sum of all values $m$ over all queries is at most $10^5$.\n\n-----Output-----\nFor each query, output a single line with the length of the longest prefix of $a_ i, a_{i+1}, \\ldots , a_ n$ that only contains integers from $B$.\n\n-----Examples-----\nSample Input:\n7\n1 2 3 1 2 1 1\n5\n1 3 1 2 3\n1 2 1 2\n2 2 2 3\n3 2 1 2\n4 2 1 2\nSample Output:\n7\n2\n2\n0\n4\nPlease provide the solution as pure code only, without explanations or comments.\n\nANSWER:\n```python\n"}}