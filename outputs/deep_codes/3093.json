{"3093": {"code": ["def solve(n, k, f):\n    mod = 10**9 + 7\n    fact = [0]*(n+1)\n    invfact = [0]*(n+1)\n    fact[0] = 1\n    for i in range(", "def solve(n, k, f):\n    MOD = 10**9 + 7\n    fact = [0] * (n + 1)\n    factinv = [0] * (n + 1)\n    fact[0] = factinv[0]", "def solve(n, k, f):\n    mod = 1000000007\n    fact = [0]*(n+1)\n    factinv = [0]*(n+1)\n    fact[0] = factinv[0", "N, K = map(int, input().split())\nF = list(map(int, input().split()))\nMOD = 10**9+7\nfact = [0]*(N+1)\nfactinv = [0]*(N+1)\nfact", "MOD = 1000000007\nN, K = map(int, input().split())\nF = list(map(int, input().split()))\n\nfact = [0] * (N+1)\ninv = [0] * ("], "prompt": "\nQUESTION:\nLittle Mirko spends his free time painting. For this hobby, he likes to use brushes and a palette containing $K$ colors overall. His friend Slavko decided to use Mirko\u2019s talent and gave him his new coloring book for Mirko to color. The coloring book contains $N$ images numbered $1, 2, \\ldots , N$.\n\nMirko has decided to paint each image in exactly one color of the possible $K$ colors from his palette. However, he really likes colorful things. He chose $N$ numbers $f_ i$ and decided to paint the image numbered $i$ differently than the images numbered $f_ i$, except when $f_ i = i$. If $f_ i = i$, that means he can paint the image numbered $f_ i$ whichever color he likes, as long as all other conditions have been met.\n\nMirko wants to know the number of possible ways to color Slavko\u2019s coloring book and he desperately needs your help! Calculate the number of possible ways to color the book. Given the fact that the output can be very large, print the answer modulo $1000000007$.\n\n-----Input-----\nThe first line of input contains positive integers $N$, $K$ ($1 \\leq N, K \\leq 1000000$). The following line contains N numbers $f_ i$ ($1 \\leq f_ i \\leq N$), as stated in the text.\n\n-----Output-----\nThe first and only line must contain the number of possible ways to color Slavko\u2019s book.\n\n-----Examples-----\nSample Input 1:\n2 3\n2 1\nSample Output 1:\n6\n\nSample Input 2:\n3 4\n2 3 1\nSample Output 2:\n24\nPlease provide the solution as pure code only, without explanations or comments.\n\nANSWER:\n```python\n"}}