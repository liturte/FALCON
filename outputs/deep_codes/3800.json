{"3800": {"code": ["from collections import defaultdict\n\ndef solve(a, s):\n    n = len(s)\n    prefix_sum = [0] * (n + 1)\n    for i in range(n):\n        prefix_sum[i + 1] = prefix_sum[i] + int(s[i])\n\n    count = defaultdict(int)\n    for i in range(n):\n        for j in range(i + 1, n + 1):\n            if prefix_sum[j] - prefix_sum[i] == a:\n                count[j - i] += 1\n\n    return sum(count[k] * count[k", "import sys\n\ndef read_int():\n    return int(sys.stdin.readline())\n\ndef read_str():\n    return sys.stdin.readline().strip()\n\ndef solve():\n    a = read_int()\n    s = read_str()\n    n = len(s)\n    sums = [[0] * (n+1) for _ in range(n+1)]\n    for i in range(1, n+1):\n        for j in range(i, n+1):\n            sums[i][j] = sums[i][j-1] + int(s[j-1])", "a = int(input())\ns = input()\nn = len(s)\ndp = [[0]*n for _ in range(n)]\npre = [[0]*n for _ in range(n)]\ncnt = [[0]*n for _ in range(n)]\n\nfor i in range(n):\n    for j in range(i, n):\n        dp[i][j] = dp[i][j-1] + int(s[j]) * (j - i + 1)\n        pre[i][j] = pre[i][j-1] + dp[i][j]\n        cnt", "from collections import Counter\n\ndef solve(a, s):\n    s = list(map(int, s))\n    n = len(s)\n    c = Counter()\n    for i in range(n):\n        for j in range(i+1, n+1):\n            c[j] += s[i]\n            c[j-1] -= s[i]*j\n    c[0] = 0\n    c[n] = 0\n    c = list(c.items())\n    c.sort()\n    cnt = [0]*(n+1)\n    for i in range(len(c", "def count_rectangles(a, s):\n    n = len(s)\n    s = '0' + s\n    dp = [[0] * (n + 1) for _ in range(n + 1)]\n    for i in range(1, n + 1):\n        for j in range(i, n + 1):\n            dp[i][j] = dp[i][j - 1] + int(s[j]) * (j - i + 1)\n    cnt = [[0] * (n + 1) for _ in range(n + 1)]\n    for i in range(1, n + 1):"], "prompt": "\nQUESTION:\nYou have a string of decimal digits s. Let's define b_{ij} = s_{i}\u00b7s_{j}. Find in matrix b the number of such rectangles that the sum b_{ij} for all cells (i, j) that are the elements of the rectangle equals a in each rectangle.\n\nA rectangle in a matrix is a group of four integers (x, y, z, t) (x \u2264 y, z \u2264 t). The elements of the rectangle are all cells (i, j) such that x \u2264 i \u2264 y, z \u2264 j \u2264 t.\n\n\n-----Input-----\n\nThe first line contains integer a (0 \u2264 a \u2264 10^9), the second line contains a string of decimal integers s (1 \u2264 |s| \u2264 4000).\n\n\n-----Output-----\n\nPrint a single integer \u2014 the answer to a problem.\n\nPlease, do not write the %lld specifier to read or write 64-bit integers in \u0421++. It is preferred to use the cin, cout streams or the %I64d specifier.\n\n\n-----Examples-----\nInput\n10\n12345\n\nOutput\n6\n\nInput\n16\n439873893693495623498263984765\n\nOutput\n40\nPlease provide the solution as pure code only, without explanations or comments.\n\nANSWER:\n```python\n"}}