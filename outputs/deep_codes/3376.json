{"3376": {"code": ["QUESTION:\nNudg\u00e9mon GO is a game in which players should earn as much experience points (XP) as possible, by catching and evolving Nudg\u00e9mon. You gain 100 XP for catching a Nudg\u00e9mon and 500 XP for evolving a Nudg\u00e9mon. Your friend has been playing this game a lot recently, but you believe that his strategy is not optimal.\n\nAll Nudg\u00e9mon are split into families, each of which has its own unique type of candy. The Nudg\u00e9mon in a family are ranked from weakest to strongest and hence form a chain. Any Nudg\u00e9mon that is not the strongest from its family can be evolved to the next ranked Nudg\u00e9mon from the same family.\n\nCandies are a fundamental currency in the Nudg\u00e9mon universe:\n - When you catch a Nudg\u00e9mon you earn 3 candies, all associated with the Nudg\u00e9mon\u2019s family.\n - When you irreversibly transfer a Nudg\u00e9mon away from your possession, you earn 1 candy associated with the Nudg\u00e9mon\u2019s family.\n\nEvery evolution of a Nudg\u00e9mon consumes a specific amount of its family\u2019s kind of candy. Furthermore, the costs of evolutions along the family chain are non-decreasing, meaning that higher-ranked evolutions in the family will cost the same or more as lower ones.\n\nHere is an example of possible Nudg\u00e9mon evolutions:\n\n\nApart from making the developers money and nudging \u2019em all, the goal of this game is to earn as much XP as possible to level up the player\u2019s character and be able to encounter stronger Nudg\u00e9mon in the wild. As such, coinciding with the first goal, you can buy a Blessed Egg with real money in the game. This item allows you to double your earned XP for the next 30 minutes since activation, i.e.\u00a0when the Egg is activated at time $e$ (in seconds since the start of the game), for any action taken on time $t$, you will earn double XP if and only if $e \\leq t < e + 1800$.\n\nAt the start of the game your friend received a single Blessed Egg. Unfortunately, he completely wasted it. You believe that it is better to only evolve Nudg\u00e9mon while the Blessed Egg is active, otherwise it is a huge waste of resources! To prove your point to your friend, you took a log of all Nudg\u00e9mon he caught with timestamps and decided to calculate the maximum amount of XP he could have had right now if he was strategic about his", "QUESTION:\nNudg\u00e9mon GO is a game in which players should earn as much experience points (XP) as possible, by catching and evolving Nudg\u00e9mon. You gain 100 XP for catching a Nudg\u00e9mon and 500 XP for evolving a Nudg\u00e9mon. Your friend has been playing this game a lot recently, but you believe that his strategy is not optimal.\n\nAll Nudg\u00e9mon are split into families, each of which has its own unique type of candy. The Nudg\u00e9mon in a family are ranked from weakest to strongest and hence form a chain. Any Nudg\u00e9mon that is not the strongest from its family can be evolved to the next ranked Nudg\u00e9mon from the same family.\n\nCandies are a fundamental currency in the Nudg\u00e9mon universe:\n - When you catch a Nudg\u00e9mon you earn 3 candies, all associated with the Nudg\u00e9mon\u2019s family.\n - When you irreversibly transfer a Nudg\u00e9mon away from your possession, you earn 1 candy associated with the Nudg\u00e9mon\u2019s family.\n\nEvery evolution of a Nudg\u00e9mon consumes a specific amount of its family\u2019s kind of candy. Furthermore, the costs of evolutions along the family chain are non-decreasing, meaning that higher-ranked evolutions in the family will cost the same or more as lower ones.\n\nHere is an example of possible Nudg\u00e9mon evolutions:\n\n\nApart from making the developers money and nudging \u2019em all, the goal of this game is to earn as much XP as possible to level up the player\u2019s character and be able to encounter stronger Nudg\u00e9mon in the wild. As such, coinciding with the first goal, you can buy a Blessed Egg with real money in the game. This item allows you to double your earned XP for the next 30 minutes since activation, i.e.\u00a0when the Egg is activated at time $e$ (in seconds since the start of the game), for any action taken on time $t$, you will earn double XP if and only if $e \\leq t < e + 1800$.\n\nAt the start of the game your friend received a single Blessed Egg. Unfortunately, he completely wasted it. You believe that it is better to only evolve Nudg\u00e9mon while the Blessed Egg is active, otherwise it is a huge waste of resources! To prove your point to your friend, you took a log of all Nudg\u00e9mon he caught with timestamps and decided to calculate the maximum amount of XP he could have had right now if he was strategic about his", "QUESTION:\nNudg\u00e9mon GO is a game in which players should earn as much experience points (XP) as possible, by catching and evolving Nudg\u00e9mon. You gain 100 XP for catching a Nudg\u00e9mon and 500 XP for evolving a Nudg\u00e9mon. Your friend has been playing this game a lot recently, but you believe that his strategy is not optimal.\n\nAll Nudg\u00e9mon are split into families, each of which has its own unique type of candy. The Nudg\u00e9mon in a family are ranked from weakest to strongest and hence form a chain. Any Nudg\u00e9mon that is not the strongest from its family can be evolved to the next ranked Nudg\u00e9mon from the same family.\n\nCandies are a fundamental currency in the Nudg\u00e9mon universe:\n - When you catch a Nudg\u00e9mon you earn 3 candies, all associated with the Nudg\u00e9mon\u2019s family.\n - When you irreversibly transfer a Nudg\u00e9mon away from your possession, you earn 1 candy associated with the Nudg\u00e9mon\u2019s family.\n\nEvery evolution of a Nudg\u00e9mon consumes a specific amount of its family\u2019s kind of candy. Furthermore, the costs of evolutions along the family chain are non-decreasing, meaning that higher-ranked evolutions in the family will cost the same or more as lower ones.\n\nHere is an example of possible Nudg\u00e9mon evolutions:\n\n\nApart from making the developers money and nudging \u2019em all, the goal of this game is to earn as much XP as possible to level up the player\u2019s character and be able to encounter stronger Nudg\u00e9mon in the wild. As such, coinciding with the first goal, you can buy a Blessed Egg with real money in the game. This item allows you to double your earned XP for the next 30 minutes since activation, i.e.\u00a0when the Egg is activated at time $e$ (in seconds since the start of the game), for any action taken on time $t$, you will earn double XP if and only if $e \\leq t < e + 1800$.\n\nAt the start of the game your friend received a single Blessed Egg. Unfortunately, he completely wasted it. You believe that it is better to only evolve Nudg\u00e9mon while the Blessed Egg is active, otherwise it is a huge waste of resources! To prove your point to your friend, you took a log of all Nudg\u00e9mon he caught with timestamps and decided to calculate the maximum amount of XP he could have had right now if he was strategic about his", "QUESTION:\nNudg\u00e9mon GO is a game in which players should earn as much experience points (XP) as possible, by catching and evolving Nudg\u00e9mon. You gain 100 XP for catching a Nudg\u00e9mon and 500 XP for evolving a Nudg\u00e9mon. Your friend has been playing this game a lot recently, but you believe that his strategy is not optimal.\n\nAll Nudg\u00e9mon are split into families, each of which has its own unique type of candy. The Nudg\u00e9mon in a family are ranked from weakest to strongest and hence form a chain. Any Nudg\u00e9mon that is not the strongest from its family can be evolved to the next ranked Nudg\u00e9mon from the same family.\n\nCandies are a fundamental currency in the Nudg\u00e9mon universe:\n - When you catch a Nudg\u00e9mon you earn 3 candies, all associated with the Nudg\u00e9mon\u2019s family.\n - When you irreversibly transfer a Nudg\u00e9mon away from your possession, you earn 1 candy associated with the Nudg\u00e9mon\u2019s family.\n\nEvery evolution of a Nudg\u00e9mon consumes a specific amount of its family\u2019s kind of candy. Furthermore, the costs of evolutions along the family chain are non-decreasing, meaning that higher-ranked evolutions in the family will cost the same or more as lower ones.\n\nHere is an example of possible Nudg\u00e9mon evolutions:\n\n\nApart from making the developers money and nudging \u2019em all, the goal of this game is to earn as much XP as possible to level up the player\u2019s character and be able to encounter stronger Nudg\u00e9mon in the wild. As such, coinciding with the first goal, you can buy a Blessed Egg with real money in the game. This item allows you to double your earned XP for the next 30 minutes since activation, i.e.\u00a0when the Egg is activated at time $e$ (in seconds since the start of the game), for any action taken on time $t$, you will earn double XP if and only if $e \\leq t < e + 1800$.\n\nAt the start of the game your friend received a single Blessed Egg. Unfortunately, he completely wasted it. You believe that it is better to only evolve Nudg\u00e9mon while the Blessed Egg is active, otherwise it is a huge waste of resources! To prove your point to your friend, you took a log of all Nudg\u00e9mon he caught with timestamps and decided to calculate the maximum amount of XP he could have had right now if he was strategic about his", "QUESTION:\nNudg\u00e9mon GO is a game in which players should earn as much experience points (XP) as possible, by catching and evolving Nudg\u00e9mon. You gain 100 XP for catching a Nudg\u00e9mon and 500 XP for evolving a Nudg\u00e9mon. Your friend has been playing this game a lot recently, but you believe that his strategy is not optimal.\n\nAll Nudg\u00e9mon are split into families, each of which has its own unique type of candy. The Nudg\u00e9mon in a family are ranked from weakest to strongest and hence form a chain. Any Nudg\u00e9mon that is not the strongest from its family can be evolved to the next ranked Nudg\u00e9mon from the same family.\n\nCandies are a fundamental currency in the Nudg\u00e9mon universe:\n - When you catch a Nudg\u00e9mon you earn 3 candies, all associated with the Nudg\u00e9mon\u2019s family.\n - When you irreversibly transfer a Nudg\u00e9mon away from your possession, you earn 1 candy associated with the Nudg\u00e9mon\u2019s family.\n\nEvery evolution of a Nudg\u00e9mon consumes a specific amount of its family\u2019s kind of candy. Furthermore, the costs of evolutions along the family chain are non-decreasing, meaning that higher-ranked evolutions in the family will cost the same or more as lower ones.\n\nHere is an example of possible Nudg\u00e9mon evolutions:\n\n\nApart from making the developers money and nudging \u2019em all, the goal of this game is to earn as much XP as possible to level up the player\u2019s character and be able to encounter stronger Nudg\u00e9mon in the wild. As such, coinciding with the first goal, you can buy a Blessed Egg with real money in the game. This item allows you to double your earned XP for the next 30 minutes since activation, i.e.\u00a0when the Egg is activated at time $e$ (in seconds since the start of the game), for any action taken on time $t$, you will earn double XP if and only if $e \\leq t < e + 1800$.\n\nAt the start of the game your friend received a single Blessed Egg. Unfortunately, he completely wasted it. You believe that it is better to only evolve Nudg\u00e9mon while the Blessed Egg is active, otherwise it is a huge waste of resources! To prove your point to your friend, you took a log of all Nudg\u00e9mon he caught with timestamps and decided to calculate the maximum amount of XP he could have had right now if he was strategic about his"], "prompt": "\nQUESTION:\nNudg\u00e9mon GO is a game in which players should earn as much experience points (XP) as possible, by catching and evolving Nudg\u00e9mon. You gain 100 XP for catching a Nudg\u00e9mon and 500 XP for evolving a Nudg\u00e9mon. Your friend has been playing this game a lot recently, but you believe that his strategy is not optimal.\n\nAll Nudg\u00e9mon are split into families, each of which has its own unique type of candy. The Nudg\u00e9mon in a family are ranked from weakest to strongest and hence form a chain. Any Nudg\u00e9mon that is not the strongest from its family can be evolved to the next ranked Nudg\u00e9mon from the same family.\n\nCandies are a fundamental currency in the Nudg\u00e9mon universe:\n - When you catch a Nudg\u00e9mon you earn 3 candies, all associated with the Nudg\u00e9mon\u2019s family.\n - When you irreversibly transfer a Nudg\u00e9mon away from your possession, you earn 1 candy associated with the Nudg\u00e9mon\u2019s family.\n\nEvery evolution of a Nudg\u00e9mon consumes a specific amount of its family\u2019s kind of candy. Furthermore, the costs of evolutions along the family chain are non-decreasing, meaning that higher-ranked evolutions in the family will cost the same or more as lower ones.\n\nHere is an example of possible Nudg\u00e9mon evolutions:\n\n\nApart from making the developers money and nudging \u2019em all, the goal of this game is to earn as much XP as possible to level up the player\u2019s character and be able to encounter stronger Nudg\u00e9mon in the wild. As such, coinciding with the first goal, you can buy a Blessed Egg with real money in the game. This item allows you to double your earned XP for the next 30 minutes since activation, i.e.\u00a0when the Egg is activated at time $e$ (in seconds since the start of the game), for any action taken on time $t$, you will earn double XP if and only if $e \\leq t < e + 1800$.\n\nAt the start of the game your friend received a single Blessed Egg. Unfortunately, he completely wasted it. You believe that it is better to only evolve Nudg\u00e9mon while the Blessed Egg is active, otherwise it is a huge waste of resources! To prove your point to your friend, you took a log of all Nudg\u00e9mon he caught with timestamps and decided to calculate the maximum amount of XP he could have had right now if he was strategic about when to activate his Blessed Egg and only evolved Nudg\u00e9mon during the time it was active.\n\n-----Input-----\nThe input consists of:\n - one line containing an integer $f$ ($0 \\leq f \\leq 10^5$), the number of Nudg\u00e9mon families;\n - $f$ lines describing a family of Nudg\u00e9mon, where each line consists of the following elements:\n - an integer $s_ i$ ($1 \\le s_ i \\leq 10^5$), the number of Nudg\u00e9mon in this family;\n - $s_ i-1$ times the name of a Nudg\u00e9mon, followed by an integer $c_ j$ ($1 \\le c_ j \\leq 10^5$), the amount of candies (of appropriate type) consumed by evolving this Nudg\u00e9mon;\n - the name of the strongest Nudg\u00e9mon in this family;\n - one line containing an integer $n$ ($0 \\leq n \\leq 4 \\cdot 10^5$), the number of Nudg\u00e9mon your friend caught;\n - $n$ lines containing an integer $t_ i$ ($0 \\leq t_ i \\leq 10^9$) and a string $p_ i$, the time at which the Nudg\u00e9mon was caught and the name of the caught Nudg\u00e9mon.\n\nIt is guaranteed that there are at most $10^5$ Nudg\u00e9mon kinds ($\\sum _{i} s_ i \\leq 10^5$). The Nudg\u00e9mon in each family are given in order of increasing rank, and thus the values of $c$ in one family are non-decreasing. Every Nudg\u00e9mon name is a string of between $1$ and $20$ lowercase letters. The times $t_ i$ are non-decreasing (your friend is so quick he can catch multiple Nudg\u00e9mon in a single second). No Nudg\u00e9mon name appears more than once within a family or within more than one family, and all $n$ Nudg\u00e9mon that are caught belong to one of the families.\n\n-----Output-----\nOutput the maximum amount of XP your friend could have had at the current time had he activated his Blessed Egg at the optimal time and only evolved Nudg\u00e9mon during the time it was active.\n\n-----Examples-----\nSample Input:\n3\n3 caterpillar 3 pupa 7 butterfly\n3 dove 3 pigeon 7 aaabaaajss\n3 mouse 1 electromouse 5 rat\n7\n0 electromouse\n500 electromouse\n1000 electromouse\n1500 rat\n2000 aaabaaajss\n2500 pigeon\n3000 butterfly\nSample Output:\n5100\nPlease provide the solution as pure code only, without explanations or comments.\n\nANSWER:\n```python\n"}}