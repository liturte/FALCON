{"987": {"code": ["n, m = map(int, input().split())\np = list(map(int, input().split()))\npairs = [tuple(map(int, input().split())) for _ in range(m)]\n\np = [", "from collections import defaultdict\n\ndef max_lexicographical_permutation(n, m, p, pairs):\n    pos = [0] * (n + 1)\n    for i in range(n):\n        pos[p", "from collections import defaultdict\n\ndef max_lex_permutation(n, m, p, swaps):\n    pos = [0] * (n+1)\n    for i in range(n):\n        pos[p[", "from collections import defaultdict\n\nn, m = map(int, input().split())\np = list(map(int, input().split()))\n\npos = [0] * (n + 1)\nfor i in range(n):", "from collections import defaultdict\n\ndef max_lex_perm(n, m, p, swaps):\n    pos = [0] * (n + 1)\n    for i in range(n):\n        pos[p[i"], "prompt": "\nQUESTION:\nYou are given a permutation of the numbers 1, 2, ..., n and m pairs of positions (a_{j}, b_{j}).\n\nAt each step you can choose a pair from the given positions and swap the numbers in that positions. What is the lexicographically maximal permutation one can get?\n\nLet p and q be two permutations of the numbers 1, 2, ..., n. p is lexicographically smaller than the q if a number 1 \u2264 i \u2264 n exists, so p_{k} = q_{k} for 1 \u2264 k < i and p_{i} < q_{i}.\n\n\n-----Input-----\n\nThe first line contains two integers n and m (1 \u2264 n, m \u2264 10^6) \u2014 the length of the permutation p and the number of pairs of positions.\n\nThe second line contains n distinct integers p_{i} (1 \u2264 p_{i} \u2264 n) \u2014 the elements of the permutation p.\n\nEach of the last m lines contains two integers (a_{j}, b_{j}) (1 \u2264 a_{j}, b_{j} \u2264 n) \u2014 the pairs of positions to swap. Note that you are given a positions, not the values to swap.\n\n\n-----Output-----\n\nPrint the only line with n distinct integers p'_{i} (1 \u2264 p'_{i} \u2264 n) \u2014 the lexicographically maximal permutation one can get.\n\n\n-----Example-----\nInput\n9 6\n1 2 3 4 5 6 7 8 9\n1 4\n4 7\n2 5\n5 8\n3 6\n6 9\n\nOutput\n7 8 9 4 5 6 1 2 3\nPlease provide the solution as pure code only, without explanations or comments.\n\nANSWER:\n```python\n"}}