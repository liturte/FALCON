{"3337": {"code": ["class", "#", "class", "class", "class"], "prompt": "\nQUESTION:\nMirko is playing with stacks. In the beginning of the game, he has an empty stack denoted with number $0$. In the $i$-th step of the game he will choose an existing stack denoted with $v$, copy it and do one of the following actions:\n - place number $i$ on top of the new stack\n - remove the number from the top of the new stack\n - choose another stack denoted with $w$ and count how many different numbers exist that are in the new stack and in the stack denoted with $w$\n\nThe newly created stack is denoted with $i$.\n\nMirko doesn\u2019t like to work with stacks so he wants you to write a program that will do it for him. For each operation of type 2 output the number removed from stack and for each operation of type 3 count the required numbers and output how many of them there are.\n\n-----Input-----\nThe first line of input contains the integer $N$ ($1 \\leq N \\leq 300000$), the number of steps in Mirko\u2019s game.\n\nThe steps of the game are chronologically denoted with the first $N$ integers.\n\nThe $i$-th of the following $N$ lines contains the description of the $i$-th step of the game in one of the following three forms:\n - a v for an operation of type 1.\n - b v for an operation of type 2.\n - c v w for an operation of type 3.\n\nThe first character in the line denotes the type of operation and the following one or two denote the accompanying stack labels that will always be integers from the interval $[0, i - 1]$.\n\nFor each operation of type 2, the stack we are removing the element from will not be empty.\n\n-----Output-----\nFor each operation type 2 or 3 output the required number, each in their own line, in the order the operations were given in the input.\n\n-----Examples-----\nSample Input:\n5\na 0\na 1\nb 2\nc 2 3\nb 4\nSample Output:\n2\n1\n2\nPlease provide the solution as pure code only, without explanations or comments.\n\nANSWER:\n```python\n"}}