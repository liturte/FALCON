{"3016": {"code": ["QUESTION:\nBaby Timmy has a pool of balls that he plays with. The pool is made up of balls with $n$ different colors with a certain number of each color. Baby Timmy finds it interesting to order these balls in a line given certain conditions he made. Timmy has two conditions when playing his own game:\n - Balls of certain colors may not be next to each other\n - One particular sequence of colors which Timmy likes most must appear as many times as possible\n\nCan you compute the total number of different ways in which Timmy can arrange his balls?\n\nFor instance, suppose Timmy has $2$ red, $1$ yellow, $2$ green, and $1$ blue ball(s). He doesn\u2019t like for red or yellow balls to be next to each other, and his favorite sequence is \u201cgreen blue.\u201d The following six arrangements meet the requirements:\n\nred green blue red green yellow \nred green blue yellow green red \nred green red green blue yellow \nred green yellow green blue red \nyellow green blue red green red \nyellow green red green blue red \n\nThis arrangement corresponds to Sample Input 1.\n\nNote that Timmy insists on including his favorite sequence as often as the available balls allow, even if that means not being able to complete the arrangement of balls at all.\n\n-----Input-----\nThe input consists of a single test case with three lines. The first line contains an integer $n$ ($2 \\le n \\le 50$), which describe the number of different colors. The remaining $n$ integers on that line denote how many balls Timmy has of each color (colors are numbered $1$ through $n$ and their frequencies appear in order). The number of balls he has of each color is between $1$ and $50$, inclusive.\n\nThe second line of input describes which colors Timmy does not want next to each other. The first integer $k$ ($0 \\le k \\le n$) gives the number of colors. This is followed by $k$ integers $c_ i$ ($1 \\le c_ i \\le n$) denoting the colors that prevent balls having any of these colors from being next to each other. Each $c_ i$ is unique.\n\nThe third line of input describes the sequence Timmy likes most. This first integer $l$ ($0 \\le l \\le n$) describes the length of this sequence, and the following $l$ integers $s_ i$ ($1 \\le s_ i \\le n$) describe the sequence that must appear as often as possible in the arrangement. Each $s_ i$ is unique and the sets $\\{ c_ i \\} $ and $\\{ s_ i \\} $ are", "QUESTION:\nBaby Timmy has a pool of balls that he plays with. The pool is made up of balls with $n$ different colors with a certain number of each color. Baby Timmy finds it interesting to order these balls in a line given certain conditions he made. Timmy has two conditions when playing his own game:\n - Balls of certain colors may not be next to each other\n - One particular sequence of colors which Timmy likes most must appear as many times as possible\n\nCan you compute the total number of different ways in which Timmy can arrange his balls?\n\nFor instance, suppose Timmy has $2$ red, $1$ yellow, $2$ green, and $1$ blue ball(s). He doesn\u2019t like for red or yellow balls to be next to each other, and his favorite sequence is \u201cgreen blue.\u201d The following six arrangements meet the requirements:\n\nred green blue red green yellow \nred green blue yellow green red \nred green red green blue yellow \nred green yellow green blue red \nyellow green blue red green red \nyellow green red green blue red \n\nThis arrangement corresponds to Sample Input 1.\n\nNote that Timmy insists on including his favorite sequence as often as the available balls allow, even if that means not being able to complete the arrangement of balls at all.\n\n-----Input-----\nThe input consists of a single test case with three lines. The first line contains an integer $n$ ($2 \\le n \\le 50$), which describe the number of different colors. The remaining $n$ integers on that line denote how many balls Timmy has of each color (colors are numbered $1$ through $n$ and their frequencies appear in order). The number of balls he has of each color is between $1$ and $50$, inclusive.\n\nThe second line of input describes which colors Timmy does not want next to each other. The first integer $k$ ($0 \\le k \\le n$) gives the number of colors. This is followed by $k$ integers $c_ i$ ($1 \\le c_ i \\le n$) denoting the colors that prevent balls having any of these colors from being next to each other. Each $c_ i$ is unique.\n\nThe third line of input describes the sequence Timmy likes most. This first integer $l$ ($0 \\le l \\le n$) describes the length of this sequence, and the following $l$ integers $s_ i$ ($1 \\le s_ i \\le n$) describe the sequence that must appear as often as possible in the arrangement. Each $s_ i$ is unique and the sets $\\{ c_ i \\} $ and $\\{ s_ i \\} $ are", "QUESTION:\nBaby Timmy has a pool of balls that he plays with. The pool is made up of balls with $n$ different colors with a certain number of each color. Baby Timmy finds it interesting to order these balls in a line given certain conditions he made. Timmy has two conditions when playing his own game:\n - Balls of certain colors may not be next to each other\n - One particular sequence of colors which Timmy likes most must appear as many times as possible\n\nCan you compute the total number of different ways in which Timmy can arrange his balls?\n\nFor instance, suppose Timmy has $2$ red, $1$ yellow, $2$ green, and $1$ blue ball(s). He doesn\u2019t like for red or yellow balls to be next to each other, and his favorite sequence is \u201cgreen blue.\u201d The following six arrangements meet the requirements:\n\nred green blue red green yellow \nred green blue yellow green red \nred green red green blue yellow \nred green yellow green blue red \nyellow green blue red green red \nyellow green red green blue red \n\nThis arrangement corresponds to Sample Input 1.\n\nNote that Timmy insists on including his favorite sequence as often as the available balls allow, even if that means not being able to complete the arrangement of balls at all.\n\n-----Input-----\nThe input consists of a single test case with three lines. The first line contains an integer $n$ ($2 \\le n \\le 50$), which describe the number of different colors. The remaining $n$ integers on that line denote how many balls Timmy has of each color (colors are numbered $1$ through $n$ and their frequencies appear in order). The number of balls he has of each color is between $1$ and $50$, inclusive.\n\nThe second line of input describes which colors Timmy does not want next to each other. The first integer $k$ ($0 \\le k \\le n$) gives the number of colors. This is followed by $k$ integers $c_ i$ ($1 \\le c_ i \\le n$) denoting the colors that prevent balls having any of these colors from being next to each other. Each $c_ i$ is unique.\n\nThe third line of input describes the sequence Timmy likes most. This first integer $l$ ($0 \\le l \\le n$) describes the length of this sequence, and the following $l$ integers $s_ i$ ($1 \\le s_ i \\le n$) describe the sequence that must appear as often as possible in the arrangement. Each $s_ i$ is unique and the sets $\\{ c_ i \\} $ and $\\{ s_ i \\} $ are", "QUESTION:\nBaby Timmy has a pool of balls that he plays with. The pool is made up of balls with $n$ different colors with a certain number of each color. Baby Timmy finds it interesting to order these balls in a line given certain conditions he made. Timmy has two conditions when playing his own game:\n - Balls of certain colors may not be next to each other\n - One particular sequence of colors which Timmy likes most must appear as many times as possible\n\nCan you compute the total number of different ways in which Timmy can arrange his balls?\n\nFor instance, suppose Timmy has $2$ red, $1$ yellow, $2$ green, and $1$ blue ball(s). He doesn\u2019t like for red or yellow balls to be next to each other, and his favorite sequence is \u201cgreen blue.\u201d The following six arrangements meet the requirements:\n\nred green blue red green yellow \nred green blue yellow green red \nred green red green blue yellow \nred green yellow green blue red \nyellow green blue red green red \nyellow green red green blue red \n\nThis arrangement corresponds to Sample Input 1.\n\nNote that Timmy insists on including his favorite sequence as often as the available balls allow, even if that means not being able to complete the arrangement of balls at all.\n\n-----Input-----\nThe input consists of a single test case with three lines. The first line contains an integer $n$ ($2 \\le n \\le 50$), which describe the number of different colors. The remaining $n$ integers on that line denote how many balls Timmy has of each color (colors are numbered $1$ through $n$ and their frequencies appear in order). The number of balls he has of each color is between $1$ and $50$, inclusive.\n\nThe second line of input describes which colors Timmy does not want next to each other. The first integer $k$ ($0 \\le k \\le n$) gives the number of colors. This is followed by $k$ integers $c_ i$ ($1 \\le c_ i \\le n$) denoting the colors that prevent balls having any of these colors from being next to each other. Each $c_ i$ is unique.\n\nThe third line of input describes the sequence Timmy likes most. This first integer $l$ ($0 \\le l \\le n$) describes the length of this sequence, and the following $l$ integers $s_ i$ ($1 \\le s_ i \\le n$) describe the sequence that must appear as often as possible in the arrangement. Each $s_ i$ is unique and the sets $\\{ c_ i \\} $ and $\\{ s_ i \\} $ are", "QUESTION:\nBaby Timmy has a pool of balls that he plays with. The pool is made up of balls with $n$ different colors with a certain number of each color. Baby Timmy finds it interesting to order these balls in a line given certain conditions he made. Timmy has two conditions when playing his own game:\n - Balls of certain colors may not be next to each other\n - One particular sequence of colors which Timmy likes most must appear as many times as possible\n\nCan you compute the total number of different ways in which Timmy can arrange his balls?\n\nFor instance, suppose Timmy has $2$ red, $1$ yellow, $2$ green, and $1$ blue ball(s). He doesn\u2019t like for red or yellow balls to be next to each other, and his favorite sequence is \u201cgreen blue.\u201d The following six arrangements meet the requirements:\n\nred green blue red green yellow \nred green blue yellow green red \nred green red green blue yellow \nred green yellow green blue red \nyellow green blue red green red \nyellow green red green blue red \n\nThis arrangement corresponds to Sample Input 1.\n\nNote that Timmy insists on including his favorite sequence as often as the available balls allow, even if that means not being able to complete the arrangement of balls at all.\n\n-----Input-----\nThe input consists of a single test case with three lines. The first line contains an integer $n$ ($2 \\le n \\le 50$), which describe the number of different colors. The remaining $n$ integers on that line denote how many balls Timmy has of each color (colors are numbered $1$ through $n$ and their frequencies appear in order). The number of balls he has of each color is between $1$ and $50$, inclusive.\n\nThe second line of input describes which colors Timmy does not want next to each other. The first integer $k$ ($0 \\le k \\le n$) gives the number of colors. This is followed by $k$ integers $c_ i$ ($1 \\le c_ i \\le n$) denoting the colors that prevent balls having any of these colors from being next to each other. Each $c_ i$ is unique.\n\nThe third line of input describes the sequence Timmy likes most. This first integer $l$ ($0 \\le l \\le n$) describes the length of this sequence, and the following $l$ integers $s_ i$ ($1 \\le s_ i \\le n$) describe the sequence that must appear as often as possible in the arrangement. Each $s_ i$ is unique and the sets $\\{ c_ i \\} $ and $\\{ s_ i \\} $ are"], "prompt": "\nQUESTION:\nBaby Timmy has a pool of balls that he plays with. The pool is made up of balls with $n$ different colors with a certain number of each color. Baby Timmy finds it interesting to order these balls in a line given certain conditions he made. Timmy has two conditions when playing his own game:\n - Balls of certain colors may not be next to each other\n - One particular sequence of colors which Timmy likes most must appear as many times as possible\n\nCan you compute the total number of different ways in which Timmy can arrange his balls?\n\nFor instance, suppose Timmy has $2$ red, $1$ yellow, $2$ green, and $1$ blue ball(s). He doesn\u2019t like for red or yellow balls to be next to each other, and his favorite sequence is \u201cgreen blue.\u201d The following six arrangements meet the requirements:\n\nred green blue red green yellow \nred green blue yellow green red \nred green red green blue yellow \nred green yellow green blue red \nyellow green blue red green red \nyellow green red green blue red \n\nThis arrangement corresponds to Sample Input 1.\n\nNote that Timmy insists on including his favorite sequence as often as the available balls allow, even if that means not being able to complete the arrangement of balls at all.\n\n-----Input-----\nThe input consists of a single test case with three lines. The first line contains an integer $n$ ($2 \\le n \\le 50$), which describe the number of different colors. The remaining $n$ integers on that line denote how many balls Timmy has of each color (colors are numbered $1$ through $n$ and their frequencies appear in order). The number of balls he has of each color is between $1$ and $50$, inclusive.\n\nThe second line of input describes which colors Timmy does not want next to each other. The first integer $k$ ($0 \\le k \\le n$) gives the number of colors. This is followed by $k$ integers $c_ i$ ($1 \\le c_ i \\le n$) denoting the colors that prevent balls having any of these colors from being next to each other. Each $c_ i$ is unique.\n\nThe third line of input describes the sequence Timmy likes most. This first integer $l$ ($0 \\le l \\le n$) describes the length of this sequence, and the following $l$ integers $s_ i$ ($1 \\le s_ i \\le n$) describe the sequence that must appear as often as possible in the arrangement. Each $s_ i$ is unique and the sets $\\{ c_ i \\} $ and $\\{ s_ i \\} $ do not intersect.\n\n-----Output-----\nOutput the number of arrangements Timmy can make that satisfy the given conditions. Since the number can be large, output its value modulo $1000000007$.\n\n-----Examples-----\nSample Input 1:\n4 2 1 2 1\n2 1 2\n2 3 4\nSample Output 1:\n6\n\nSample Input 2:\n3 3 1 1\n1 1\n2 2 3\nSample Output 2:\n0\n\nSample Input 3:\n3 2 2 3\n1 1\n2 2 3\nSample Output 3:\n18\n\nSample Input 4:\n3 1 2 3\n2 1 2\n0\nSample Output 4:\n12\nPlease provide the solution as pure code only, without explanations or comments.\n\nANSWER:\n```python\n"}}