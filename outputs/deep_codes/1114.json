{"1114": {"code": ["QUESTION:\nWhile Patrick was gone shopping, Spongebob decided to play a little trick on his friend. The naughty Sponge browsed through Patrick's personal stuff and found a sequence a_1, a_2, ..., a_{m} of length m, consisting of integers from 1 to n, not necessarily distinct. Then he picked some sequence f_1, f_2, ..., f_{n} of length n and for each number a_{i} got number b_{i} = f_{a}_{i}. To finish the prank he erased the initial sequence a_{i}.\n\nIt's hard to express how sad Patrick was when he returned home from shopping! We will just say that Spongebob immediately got really sorry about what he has done and he is now trying to restore the original sequence. Help him do this or determine that this is impossible.\n\n\n-----Input-----\n\nThe first line of the input contains two integers n and m (1 \u2264 n, m \u2264 100 000)\u00a0\u2014 the lengths of sequences f_{i} and b_{i} respectively.\n\nThe second line contains n integers, determining sequence f_1, f_2, ..., f_{n} (1 \u2264 f_{i} \u2264 n).\n\nThe last line contains m integers, determining sequence b_1, b_2, ..., b_{m} (1 \u2264 b_{i} \u2264 n).\n\n\n-----Output-----\n\nPrint \"Possible\" if there is exactly one sequence a_{i}, such that b_{i} = f_{a}_{i} for all i from 1 to m. Then print m integers a_1, a_2, ..., a_{m}.\n\nIf there are multiple suitable sequences a_{i}, print \"Ambiguity\".\n\nIf Spongebob has made a mistake in his calculations and no suitable sequence a_{i} exists, print \"Impossible\".\n\n\n-----Examples-----\nInput\n3 3\n3 2 1\n1 2 3\n\nOutput\nPossible\n3 2 1 \n\nInput\n3 3\n1 1 1\n1 1 1\n\nOutput\nAmbiguity\n\nInput\n3 3\n1 2 1\n3 3 3\n\nOutput\nImpossible\n\n\n\n-----Note-----\n\nIn the first sample 3 is replaced by 1 and vice versa, while 2 never changes. The answer exists and is unique.\n\nIn the second sample all numbers are replaced by 1, so it is impossible to unambiguously restore the original sequence", "QUESTION:\nWhile Patrick was gone shopping, Spongebob decided to play a little trick on his friend. The naughty Sponge browsed through Patrick's personal stuff and found a sequence a_1, a_2, ..., a_{m} of length m, consisting of integers from 1 to n, not necessarily distinct. Then he picked some sequence f_1, f_2, ..., f_{n} of length n and for each number a_{i} got number b_{i} = f_{a}_{i}. To finish the prank he erased the initial sequence a_{i}.\n\nIt's hard to express how sad Patrick was when he returned home from shopping! We will just say that Spongebob immediately got really sorry about what he has done and he is now trying to restore the original sequence. Help him do this or determine that this is impossible.\n\n\n-----Input-----\n\nThe first line of the input contains two integers n and m (1 \u2264 n, m \u2264 100 000)\u00a0\u2014 the lengths of sequences f_{i} and b_{i} respectively.\n\nThe second line contains n integers, determining sequence f_1, f_2, ..., f_{n} (1 \u2264 f_{i} \u2264 n).\n\nThe last line contains m integers, determining sequence b_1, b_2, ..., b_{m} (1 \u2264 b_{i} \u2264 n).\n\n\n-----Output-----\n\nPrint \"Possible\" if there is exactly one sequence a_{i}, such that b_{i} = f_{a}_{i} for all i from 1 to m. Then print m integers a_1, a_2, ..., a_{m}.\n\nIf there are multiple suitable sequences a_{i}, print \"Ambiguity\".\n\nIf Spongebob has made a mistake in his calculations and no suitable sequence a_{i} exists, print \"Impossible\".\n\n\n-----Examples-----\nInput\n3 3\n3 2 1\n1 2 3\n\nOutput\nPossible\n3 2 1 \n\nInput\n3 3\n1 1 1\n1 1 1\n\nOutput\nAmbiguity\n\nInput\n3 3\n1 2 1\n3 3 3\n\nOutput\nImpossible\n\n\n\n-----Note-----\n\nIn the first sample 3 is replaced by 1 and vice versa, while 2 never changes. The answer exists and is unique.\n\nIn the second sample all numbers are replaced by 1, so it is impossible to unambiguously restore the original sequence", "QUESTION:\nWhile Patrick was gone shopping, Spongebob decided to play a little trick on his friend. The naughty Sponge browsed through Patrick's personal stuff and found a sequence a_1, a_2, ..., a_{m} of length m, consisting of integers from 1 to n, not necessarily distinct. Then he picked some sequence f_1, f_2, ..., f_{n} of length n and for each number a_{i} got number b_{i} = f_{a}_{i}. To finish the prank he erased the initial sequence a_{i}.\n\nIt's hard to express how sad Patrick was when he returned home from shopping! We will just say that Spongebob immediately got really sorry about what he has done and he is now trying to restore the original sequence. Help him do this or determine that this is impossible.\n\n\n-----Input-----\n\nThe first line of the input contains two integers n and m (1 \u2264 n, m \u2264 100 000)\u00a0\u2014 the lengths of sequences f_{i} and b_{i} respectively.\n\nThe second line contains n integers, determining sequence f_1, f_2, ..., f_{n} (1 \u2264 f_{i} \u2264 n).\n\nThe last line contains m integers, determining sequence b_1, b_2, ..., b_{m} (1 \u2264 b_{i} \u2264 n).\n\n\n-----Output-----\n\nPrint \"Possible\" if there is exactly one sequence a_{i}, such that b_{i} = f_{a}_{i} for all i from 1 to m. Then print m integers a_1, a_2, ..., a_{m}.\n\nIf there are multiple suitable sequences a_{i}, print \"Ambiguity\".\n\nIf Spongebob has made a mistake in his calculations and no suitable sequence a_{i} exists, print \"Impossible\".\n\n\n-----Examples-----\nInput\n3 3\n3 2 1\n1 2 3\n\nOutput\nPossible\n3 2 1 \n\nInput\n3 3\n1 1 1\n1 1 1\n\nOutput\nAmbiguity\n\nInput\n3 3\n1 2 1\n3 3 3\n\nOutput\nImpossible\n\n\n\n-----Note-----\n\nIn the first sample 3 is replaced by 1 and vice versa, while 2 never changes. The answer exists and is unique.\n\nIn the second sample all numbers are replaced by 1, so it is impossible to unambiguously restore the original sequence", "QUESTION:\nWhile Patrick was gone shopping, Spongebob decided to play a little trick on his friend. The naughty Sponge browsed through Patrick's personal stuff and found a sequence a_1, a_2, ..., a_{m} of length m, consisting of integers from 1 to n, not necessarily distinct. Then he picked some sequence f_1, f_2, ..., f_{n} of length n and for each number a_{i} got number b_{i} = f_{a}_{i}. To finish the prank he erased the initial sequence a_{i}.\n\nIt's hard to express how sad Patrick was when he returned home from shopping! We will just say that Spongebob immediately got really sorry about what he has done and he is now trying to restore the original sequence. Help him do this or determine that this is impossible.\n\n\n-----Input-----\n\nThe first line of the input contains two integers n and m (1 \u2264 n, m \u2264 100 000)\u00a0\u2014 the lengths of sequences f_{i} and b_{i} respectively.\n\nThe second line contains n integers, determining sequence f_1, f_2, ..., f_{n} (1 \u2264 f_{i} \u2264 n).\n\nThe last line contains m integers, determining sequence b_1, b_2, ..., b_{m} (1 \u2264 b_{i} \u2264 n).\n\n\n-----Output-----\n\nPrint \"Possible\" if there is exactly one sequence a_{i}, such that b_{i} = f_{a}_{i} for all i from 1 to m. Then print m integers a_1, a_2, ..., a_{m}.\n\nIf there are multiple suitable sequences a_{i}, print \"Ambiguity\".\n\nIf Spongebob has made a mistake in his calculations and no suitable sequence a_{i} exists, print \"Impossible\".\n\n\n-----Examples-----\nInput\n3 3\n3 2 1\n1 2 3\n\nOutput\nPossible\n3 2 1 \n\nInput\n3 3\n1 1 1\n1 1 1\n\nOutput\nAmbiguity\n\nInput\n3 3\n1 2 1\n3 3 3\n\nOutput\nImpossible\n\n\n\n-----Note-----\n\nIn the first sample 3 is replaced by 1 and vice versa, while 2 never changes. The answer exists and is unique.\n\nIn the second sample all numbers are replaced by 1, so it is impossible to unambiguously restore the original sequence", "QUESTION:\nWhile Patrick was gone shopping, Spongebob decided to play a little trick on his friend. The naughty Sponge browsed through Patrick's personal stuff and found a sequence a_1, a_2, ..., a_{m} of length m, consisting of integers from 1 to n, not necessarily distinct. Then he picked some sequence f_1, f_2, ..., f_{n} of length n and for each number a_{i} got number b_{i} = f_{a}_{i}. To finish the prank he erased the initial sequence a_{i}.\n\nIt's hard to express how sad Patrick was when he returned home from shopping! We will just say that Spongebob immediately got really sorry about what he has done and he is now trying to restore the original sequence. Help him do this or determine that this is impossible.\n\n\n-----Input-----\n\nThe first line of the input contains two integers n and m (1 \u2264 n, m \u2264 100 000)\u00a0\u2014 the lengths of sequences f_{i} and b_{i} respectively.\n\nThe second line contains n integers, determining sequence f_1, f_2, ..., f_{n} (1 \u2264 f_{i} \u2264 n).\n\nThe last line contains m integers, determining sequence b_1, b_2, ..., b_{m} (1 \u2264 b_{i} \u2264 n).\n\n\n-----Output-----\n\nPrint \"Possible\" if there is exactly one sequence a_{i}, such that b_{i} = f_{a}_{i} for all i from 1 to m. Then print m integers a_1, a_2, ..., a_{m}.\n\nIf there are multiple suitable sequences a_{i}, print \"Ambiguity\".\n\nIf Spongebob has made a mistake in his calculations and no suitable sequence a_{i} exists, print \"Impossible\".\n\n\n-----Examples-----\nInput\n3 3\n3 2 1\n1 2 3\n\nOutput\nPossible\n3 2 1 \n\nInput\n3 3\n1 1 1\n1 1 1\n\nOutput\nAmbiguity\n\nInput\n3 3\n1 2 1\n3 3 3\n\nOutput\nImpossible\n\n\n\n-----Note-----\n\nIn the first sample 3 is replaced by 1 and vice versa, while 2 never changes. The answer exists and is unique.\n\nIn the second sample all numbers are replaced by 1, so it is impossible to unambiguously restore the original sequence"], "prompt": "\nQUESTION:\nWhile Patrick was gone shopping, Spongebob decided to play a little trick on his friend. The naughty Sponge browsed through Patrick's personal stuff and found a sequence a_1, a_2, ..., a_{m} of length m, consisting of integers from 1 to n, not necessarily distinct. Then he picked some sequence f_1, f_2, ..., f_{n} of length n and for each number a_{i} got number b_{i} = f_{a}_{i}. To finish the prank he erased the initial sequence a_{i}.\n\nIt's hard to express how sad Patrick was when he returned home from shopping! We will just say that Spongebob immediately got really sorry about what he has done and he is now trying to restore the original sequence. Help him do this or determine that this is impossible.\n\n\n-----Input-----\n\nThe first line of the input contains two integers n and m (1 \u2264 n, m \u2264 100 000)\u00a0\u2014 the lengths of sequences f_{i} and b_{i} respectively.\n\nThe second line contains n integers, determining sequence f_1, f_2, ..., f_{n} (1 \u2264 f_{i} \u2264 n).\n\nThe last line contains m integers, determining sequence b_1, b_2, ..., b_{m} (1 \u2264 b_{i} \u2264 n).\n\n\n-----Output-----\n\nPrint \"Possible\" if there is exactly one sequence a_{i}, such that b_{i} = f_{a}_{i} for all i from 1 to m. Then print m integers a_1, a_2, ..., a_{m}.\n\nIf there are multiple suitable sequences a_{i}, print \"Ambiguity\".\n\nIf Spongebob has made a mistake in his calculations and no suitable sequence a_{i} exists, print \"Impossible\".\n\n\n-----Examples-----\nInput\n3 3\n3 2 1\n1 2 3\n\nOutput\nPossible\n3 2 1 \n\nInput\n3 3\n1 1 1\n1 1 1\n\nOutput\nAmbiguity\n\nInput\n3 3\n1 2 1\n3 3 3\n\nOutput\nImpossible\n\n\n\n-----Note-----\n\nIn the first sample 3 is replaced by 1 and vice versa, while 2 never changes. The answer exists and is unique.\n\nIn the second sample all numbers are replaced by 1, so it is impossible to unambiguously restore the original sequence.\n\nIn the third sample f_{i} \u2260 3 for all i, so no sequence a_{i} transforms into such b_{i} and we can say for sure that Spongebob has made a mistake.\nPlease provide the solution as pure code only, without explanations or comments.\n\nANSWER:\n```python\n"}}