{"3895": {"code": ["import sys\nfrom collections import defaultdict\n\ndef read_int():\n    return int(sys.stdin.readline())\n\ndef", "from collections import defaultdict\n\ndef solve():\n    n = int(input())\n    f = list(map(int, input().split", "from collections import defaultdict\n\ndef solve(n, f):\n    if n == 1:\n        return 1, [1], [", "from collections import defaultdict\n\ndef solve(n, f):\n    if max(f) > n or min(f) < 1:", "import sys\nfrom collections import defaultdict\n\ndef solve(n, f):\n    if len(f) != len(set(f"], "prompt": "\nQUESTION:\nArtsem has a friend Saunders from University of Chicago. Saunders presented him with the following problem.\n\nLet [n] denote the set {1, ..., n}. We will also write f: [x] \u2192 [y] when a function f is defined in integer points 1, ..., x, and all its values are integers from 1 to y.\n\nNow then, you are given a function f: [n] \u2192 [n]. Your task is to find a positive integer m, and two functions g: [n] \u2192 [m], h: [m] \u2192 [n], such that g(h(x)) = x for all $x \\in [ m ]$, and h(g(x)) = f(x) for all $x \\in [ n ]$, or determine that finding these is impossible.\n\n\n-----Input-----\n\nThe first line contains an integer n (1 \u2264 n \u2264 10^5).\n\nThe second line contains n space-separated integers\u00a0\u2014 values f(1), ..., f(n) (1 \u2264 f(i) \u2264 n).\n\n\n-----Output-----\n\nIf there is no answer, print one integer -1.\n\nOtherwise, on the first line print the number m (1 \u2264 m \u2264 10^6). On the second line print n numbers g(1), ..., g(n). On the third line print m numbers h(1), ..., h(m).\n\nIf there are several correct answers, you may output any of them. It is guaranteed that if a valid answer exists, then there is an answer satisfying the above restrictions.\n\n\n-----Examples-----\nInput\n3\n1 2 3\n\nOutput\n3\n1 2 3\n1 2 3\n\nInput\n3\n2 2 2\n\nOutput\n1\n1 1 1\n2\n\nInput\n2\n2 1\n\nOutput\n-1\nPlease provide the solution as pure code only, without explanations or comments.\n\nANSWER:\n```python\n"}}