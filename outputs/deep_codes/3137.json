{"3137": {"code": ["QUESTION:\nLuka is bored in chemistry class yet again. This time, he\u2019s playing with intelligent bacteria. He has arranged his $K$ bacteria on a rectangular board divided in $N$ rows, labelled with numbers from $1$ to $N$ starting from the top, and $M$ columns, labelled with numbers from $1$ to $M$ starting from the left.\n\nEach bacterium begins its adventure in a certain cell, facing one of the four neighbouring cells, and carries out the following actions every second:\n - Reads the number $X$ dedicated to that bacterium in the current cell.\n - Turns $90$ degrees clockwise, $X$ times.\n - If it is facing a cell outside the board, it turns $180$ degrees.\n - Finally, it moves to the cell that it is facing.\n\nLuka has placed a trap in one cell. The trap will activate and kill the bacteria as soon as they all step on that cell in the same second.\n\nSince Luka only has two hours of chemistry class today, help him determine how long the game will last, in seconds.\n\n-----Input-----\nThe first line of input contains the positive integers $N$ ($3 \\leq N \\leq 50$), $M$ ($3 \\leq M \\leq 50$), and $K$ ($1 \\leq K \\leq 5$).\n\nThe second line of input contains the positive integers $X$ and $Y$, the row and column where Luka has placed the trap.\n\nThe remainder of the input consists of bacteria descriptions, for each bacterium $i$ from $1$ to $K$:\n - two positive integers $X_ i$, $Y_ i$ \u2013 the row and column of the starting cell of bacterium $i$, and the character $C_ i$ representing the starting direction that the bacterium is facing ($U$ \u2013 up, $R$ \u2013 right, $D$ \u2013 down, $L$ \u2013 left).\n - $N$ by $M$ matrix of digits between $0$ and $9$, inclusive; the digit in row $x$ and column $y$ represents the number in cell $(x, y)$ dedicated to bacterium $i$.\n\n-----Output-----\nThe first and only line of output must contain the total duration of Luka\u2019s game, in seconds. If the game will never end, output -1.\n\n-----Examples-----\nSample Input 1:\n3 3 1\n2 2\n1 1 R\n010\n000\n000\nSample Output 1:\n2\n\nSample", "QUESTION:\nLuka is bored in chemistry class yet again. This time, he\u2019s playing with intelligent bacteria. He has arranged his $K$ bacteria on a rectangular board divided in $N$ rows, labelled with numbers from $1$ to $N$ starting from the top, and $M$ columns, labelled with numbers from $1$ to $M$ starting from the left.\n\nEach bacterium begins its adventure in a certain cell, facing one of the four neighbouring cells, and carries out the following actions every second:\n - Reads the number $X$ dedicated to that bacterium in the current cell.\n - Turns $90$ degrees clockwise, $X$ times.\n - If it is facing a cell outside the board, it turns $180$ degrees.\n - Finally, it moves to the cell that it is facing.\n\nLuka has placed a trap in one cell. The trap will activate and kill the bacteria as soon as they all step on that cell in the same second.\n\nSince Luka only has two hours of chemistry class today, help him determine how long the game will last, in seconds.\n\n-----Input-----\nThe first line of input contains the positive integers $N$ ($3 \\leq N \\leq 50$), $M$ ($3 \\leq M \\leq 50$), and $K$ ($1 \\leq K \\leq 5$).\n\nThe second line of input contains the positive integers $X$ and $Y$, the row and column where Luka has placed the trap.\n\nThe remainder of the input consists of bacteria descriptions, for each bacterium $i$ from $1$ to $K$:\n - two positive integers $X_ i$, $Y_ i$ \u2013 the row and column of the starting cell of bacterium $i$, and the character $C_ i$ representing the starting direction that the bacterium is facing ($U$ \u2013 up, $R$ \u2013 right, $D$ \u2013 down, $L$ \u2013 left).\n - $N$ by $M$ matrix of digits between $0$ and $9$, inclusive; the digit in row $x$ and column $y$ represents the number in cell $(x, y)$ dedicated to bacterium $i$.\n\n-----Output-----\nThe first and only line of output must contain the total duration of Luka\u2019s game, in seconds. If the game will never end, output -1.\n\n-----Examples-----\nSample Input 1:\n3 3 1\n2 2\n1 1 R\n010\n000\n000\nSample Output 1:\n2\n\nSample", "QUESTION:\nLuka is bored in chemistry class yet again. This time, he\u2019s playing with intelligent bacteria. He has arranged his $K$ bacteria on a rectangular board divided in $N$ rows, labelled with numbers from $1$ to $N$ starting from the top, and $M$ columns, labelled with numbers from $1$ to $M$ starting from the left.\n\nEach bacterium begins its adventure in a certain cell, facing one of the four neighbouring cells, and carries out the following actions every second:\n - Reads the number $X$ dedicated to that bacterium in the current cell.\n - Turns $90$ degrees clockwise, $X$ times.\n - If it is facing a cell outside the board, it turns $180$ degrees.\n - Finally, it moves to the cell that it is facing.\n\nLuka has placed a trap in one cell. The trap will activate and kill the bacteria as soon as they all step on that cell in the same second.\n\nSince Luka only has two hours of chemistry class today, help him determine how long the game will last, in seconds.\n\n-----Input-----\nThe first line of input contains the positive integers $N$ ($3 \\leq N \\leq 50$), $M$ ($3 \\leq M \\leq 50$), and $K$ ($1 \\leq K \\leq 5$).\n\nThe second line of input contains the positive integers $X$ and $Y$, the row and column where Luka has placed the trap.\n\nThe remainder of the input consists of bacteria descriptions, for each bacterium $i$ from $1$ to $K$:\n - two positive integers $X_ i$, $Y_ i$ \u2013 the row and column of the starting cell of bacterium $i$, and the character $C_ i$ representing the starting direction that the bacterium is facing ($U$ \u2013 up, $R$ \u2013 right, $D$ \u2013 down, $L$ \u2013 left).\n - $N$ by $M$ matrix of digits between $0$ and $9$, inclusive; the digit in row $x$ and column $y$ represents the number in cell $(x, y)$ dedicated to bacterium $i$.\n\n-----Output-----\nThe first and only line of output must contain the total duration of Luka\u2019s game, in seconds. If the game will never end, output -1.\n\n-----Examples-----\nSample Input 1:\n3 3 1\n2 2\n1 1 R\n010\n000\n000\nSample Output 1:\n2\n\nSample", "QUESTION:\nLuka is bored in chemistry class yet again. This time, he\u2019s playing with intelligent bacteria. He has arranged his $K$ bacteria on a rectangular board divided in $N$ rows, labelled with numbers from $1$ to $N$ starting from the top, and $M$ columns, labelled with numbers from $1$ to $M$ starting from the left.\n\nEach bacterium begins its adventure in a certain cell, facing one of the four neighbouring cells, and carries out the following actions every second:\n - Reads the number $X$ dedicated to that bacterium in the current cell.\n - Turns $90$ degrees clockwise, $X$ times.\n - If it is facing a cell outside the board, it turns $180$ degrees.\n - Finally, it moves to the cell that it is facing.\n\nLuka has placed a trap in one cell. The trap will activate and kill the bacteria as soon as they all step on that cell in the same second.\n\nSince Luka only has two hours of chemistry class today, help him determine how long the game will last, in seconds.\n\n-----Input-----\nThe first line of input contains the positive integers $N$ ($3 \\leq N \\leq 50$), $M$ ($3 \\leq M \\leq 50$), and $K$ ($1 \\leq K \\leq 5$).\n\nThe second line of input contains the positive integers $X$ and $Y$, the row and column where Luka has placed the trap.\n\nThe remainder of the input consists of bacteria descriptions, for each bacterium $i$ from $1$ to $K$:\n - two positive integers $X_ i$, $Y_ i$ \u2013 the row and column of the starting cell of bacterium $i$, and the character $C_ i$ representing the starting direction that the bacterium is facing ($U$ \u2013 up, $R$ \u2013 right, $D$ \u2013 down, $L$ \u2013 left).\n - $N$ by $M$ matrix of digits between $0$ and $9$, inclusive; the digit in row $x$ and column $y$ represents the number in cell $(x, y)$ dedicated to bacterium $i$.\n\n-----Output-----\nThe first and only line of output must contain the total duration of Luka\u2019s game, in seconds. If the game will never end, output -1.\n\n-----Examples-----\nSample Input 1:\n3 3 1\n2 2\n1 1 R\n010\n000\n000\nSample Output 1:\n2\n\nSample", "QUESTION:\nLuka is bored in chemistry class yet again. This time, he\u2019s playing with intelligent bacteria. He has arranged his $K$ bacteria on a rectangular board divided in $N$ rows, labelled with numbers from $1$ to $N$ starting from the top, and $M$ columns, labelled with numbers from $1$ to $M$ starting from the left.\n\nEach bacterium begins its adventure in a certain cell, facing one of the four neighbouring cells, and carries out the following actions every second:\n - Reads the number $X$ dedicated to that bacterium in the current cell.\n - Turns $90$ degrees clockwise, $X$ times.\n - If it is facing a cell outside the board, it turns $180$ degrees.\n - Finally, it moves to the cell that it is facing.\n\nLuka has placed a trap in one cell. The trap will activate and kill the bacteria as soon as they all step on that cell in the same second.\n\nSince Luka only has two hours of chemistry class today, help him determine how long the game will last, in seconds.\n\n-----Input-----\nThe first line of input contains the positive integers $N$ ($3 \\leq N \\leq 50$), $M$ ($3 \\leq M \\leq 50$), and $K$ ($1 \\leq K \\leq 5$).\n\nThe second line of input contains the positive integers $X$ and $Y$, the row and column where Luka has placed the trap.\n\nThe remainder of the input consists of bacteria descriptions, for each bacterium $i$ from $1$ to $K$:\n - two positive integers $X_ i$, $Y_ i$ \u2013 the row and column of the starting cell of bacterium $i$, and the character $C_ i$ representing the starting direction that the bacterium is facing ($U$ \u2013 up, $R$ \u2013 right, $D$ \u2013 down, $L$ \u2013 left).\n - $N$ by $M$ matrix of digits between $0$ and $9$, inclusive; the digit in row $x$ and column $y$ represents the number in cell $(x, y)$ dedicated to bacterium $i$.\n\n-----Output-----\nThe first and only line of output must contain the total duration of Luka\u2019s game, in seconds. If the game will never end, output -1.\n\n-----Examples-----\nSample Input 1:\n3 3 1\n2 2\n1 1 R\n010\n000\n000\nSample Output 1:\n2\n\nSample"], "prompt": "\nQUESTION:\nLuka is bored in chemistry class yet again. This time, he\u2019s playing with intelligent bacteria. He has arranged his $K$ bacteria on a rectangular board divided in $N$ rows, labelled with numbers from $1$ to $N$ starting from the top, and $M$ columns, labelled with numbers from $1$ to $M$ starting from the left.\n\nEach bacterium begins its adventure in a certain cell, facing one of the four neighbouring cells, and carries out the following actions every second:\n - Reads the number $X$ dedicated to that bacterium in the current cell.\n - Turns $90$ degrees clockwise, $X$ times.\n - If it is facing a cell outside the board, it turns $180$ degrees.\n - Finally, it moves to the cell that it is facing.\n\nLuka has placed a trap in one cell. The trap will activate and kill the bacteria as soon as they all step on that cell in the same second.\n\nSince Luka only has two hours of chemistry class today, help him determine how long the game will last, in seconds.\n\n-----Input-----\nThe first line of input contains the positive integers $N$ ($3 \\leq N \\leq 50$), $M$ ($3 \\leq M \\leq 50$), and $K$ ($1 \\leq K \\leq 5$).\n\nThe second line of input contains the positive integers $X$ and $Y$, the row and column where Luka has placed the trap.\n\nThe remainder of the input consists of bacteria descriptions, for each bacterium $i$ from $1$ to $K$:\n - two positive integers $X_ i$, $Y_ i$ \u2013 the row and column of the starting cell of bacterium $i$, and the character $C_ i$ representing the starting direction that the bacterium is facing ($U$ \u2013 up, $R$ \u2013 right, $D$ \u2013 down, $L$ \u2013 left).\n - $N$ by $M$ matrix of digits between $0$ and $9$, inclusive; the digit in row $x$ and column $y$ represents the number in cell $(x, y)$ dedicated to bacterium $i$.\n\n-----Output-----\nThe first and only line of output must contain the total duration of Luka\u2019s game, in seconds. If the game will never end, output -1.\n\n-----Examples-----\nSample Input 1:\n3 3 1\n2 2\n1 1 R\n010\n000\n000\nSample Output 1:\n2\n\nSample Input 2:\n3 4 2\n2 2\n3 4 R\n2327\n6009\n2112\n3 2 R\n1310\n2101\n1301\nSample Output 2:\n7\nPlease provide the solution as pure code only, without explanations or comments.\n\nANSWER:\n```python\n"}}