{"348": {"code": ["QUESTION:\nAlice has got addicted to a game called Sirtet recently.\n\nIn Sirtet, player is given an $n \\times m$ grid. Initially $a_{i,j}$ cubes are stacked up in the cell $(i,j)$. Two cells are called adjacent if they share a side. Player can perform the following operations:   stack up one cube in two adjacent cells;  stack up two cubes in one cell. \n\nCubes mentioned above are identical in height.\n\nHere is an illustration of the game. States on the right are obtained by performing one of the above operations on the state on the left, and grey cubes are added due to the operation. [Image] \n\nPlayer's goal is to make the height of all cells the same (i.e. so that each cell has the same number of cubes in it) using above operations. \n\nAlice, however, has found out that on some starting grids she may never reach the goal no matter what strategy she uses. Thus, she is wondering the number of initial grids such that   $L \\le a_{i,j} \\le R$ for all $1 \\le i \\le n$, $1 \\le j \\le m$;  player can reach the goal using above operations. \n\nPlease help Alice with it. Notice that the answer might be large, please output the desired value modulo $998,244,353$.\n\n\n-----Input-----\n\nThe only line contains four integers $n$, $m$, $L$ and $R$ ($1\\le n,m,L,R \\le 10^9$, $L \\le R$, $n \\cdot m \\ge 2$).\n\n\n-----Output-----\n\nOutput one integer, representing the desired answer modulo $998,244,353$.\n\n\n-----Examples-----\nInput\n2 2 1 1\n\nOutput\n1\n\nInput\n1 2 1 2\n\nOutput\n2\n\n\n\n-----Note-----\n\nIn the first sample, the only initial grid that satisfies the requirements is $a_{1,1}=a_{2,1}=a_{1,2}=a_{2,2}=1$. Thus the answer should be $1$.\n\nIn the second sample, initial grids that satisfy the requirements are $a_{1,1}=a_{1,2}=1$ and $a_{1,1}=a_{1,2}=2$. Thus the answer should be $2$.\nPlease provide the solution as pure code.", "QUESTION:\nAlice has got addicted to a game called Sirtet recently.\n\nIn Sirtet, player is given an $n \\times m$ grid. Initially $a_{i,j}$ cubes are stacked up in the cell $(i,j)$. Two cells are called adjacent if they share a side. Player can perform the following operations:   stack up one cube in two adjacent cells;  stack up two cubes in one cell. \n\nCubes mentioned above are identical in height.\n\nHere is an illustration of the game. States on the right are obtained by performing one of the above operations on the state on the left, and grey cubes are added due to the operation. [Image] \n\nPlayer's goal is to make the height of all cells the same (i.e. so that each cell has the same number of cubes in it) using above operations. \n\nAlice, however, has found out that on some starting grids she may never reach the goal no matter what strategy she uses. Thus, she is wondering the number of initial grids such that   $L \\le a_{i,j} \\le R$ for all $1 \\le i \\le n$, $1 \\le j \\le m$;  player can reach the goal using above operations. \n\nPlease help Alice with it. Notice that the answer might be large, please output the desired value modulo $998,244,353$.\n\n\n-----Input-----\n\nThe only line contains four integers $n$, $m$, $L$ and $R$ ($1\\le n,m,L,R \\le 10^9$, $L \\le R$, $n \\cdot m \\ge 2$).\n\n\n-----Output-----\n\nOutput one integer, representing the desired answer modulo $998,244,353$.\n\n\n-----Examples-----\nInput\n2 2 1 1\n\nOutput\n1\n\nInput\n1 2 1 2\n\nOutput\n2\n\n\n\n-----Note-----\n\nIn the first sample, the only initial grid that satisfies the requirements is $a_{1,1}=a_{2,1}=a_{1,2}=a_{2,2}=1$. Thus the answer should be $1$.\n\nIn the second sample, initial grids that satisfy the requirements are $a_{1,1}=a_{1,2}=1$ and $a_{1,1}=a_{1,2}=2$. Thus the answer should be $2$.\nPlease provide the solution as pure code.", "QUESTION:\nAlice has got addicted to a game called Sirtet recently.\n\nIn Sirtet, player is given an $n \\times m$ grid. Initially $a_{i,j}$ cubes are stacked up in the cell $(i,j)$. Two cells are called adjacent if they share a side. Player can perform the following operations:   stack up one cube in two adjacent cells;  stack up two cubes in one cell. \n\nCubes mentioned above are identical in height.\n\nHere is an illustration of the game. States on the right are obtained by performing one of the above operations on the state on the left, and grey cubes are added due to the operation. [Image] \n\nPlayer's goal is to make the height of all cells the same (i.e. so that each cell has the same number of cubes in it) using above operations. \n\nAlice, however, has found out that on some starting grids she may never reach the goal no matter what strategy she uses. Thus, she is wondering the number of initial grids such that   $L \\le a_{i,j} \\le R$ for all $1 \\le i \\le n$, $1 \\le j \\le m$;  player can reach the goal using above operations. \n\nPlease help Alice with it. Notice that the answer might be large, please output the desired value modulo $998,244,353$.\n\n\n-----Input-----\n\nThe only line contains four integers $n$, $m$, $L$ and $R$ ($1\\le n,m,L,R \\le 10^9$, $L \\le R$, $n \\cdot m \\ge 2$).\n\n\n-----Output-----\n\nOutput one integer, representing the desired answer modulo $998,244,353$.\n\n\n-----Examples-----\nInput\n2 2 1 1\n\nOutput\n1\n\nInput\n1 2 1 2\n\nOutput\n2\n\n\n\n-----Note-----\n\nIn the first sample, the only initial grid that satisfies the requirements is $a_{1,1}=a_{2,1}=a_{1,2}=a_{2,2}=1$. Thus the answer should be $1$.\n\nIn the second sample, initial grids that satisfy the requirements are $a_{1,1}=a_{1,2}=1$ and $a_{1,1}=a_{1,2}=2$. Thus the answer should be $2$.\nPlease provide the solution as pure code,", "QUESTION:\nAlice has got addicted to a game called Sirtet recently.\n\nIn Sirtet, player is given an $n \\times m$ grid. Initially $a_{i,j}$ cubes are stacked up in the cell $(i,j)$. Two cells are called adjacent if they share a side. Player can perform the following operations:   stack up one cube in two adjacent cells;  stack up two cubes in one cell. \n\nCubes mentioned above are identical in height.\n\nHere is an illustration of the game. States on the right are obtained by performing one of the above operations on the state on the left, and grey cubes are added due to the operation. [Image] \n\nPlayer's goal is to make the height of all cells the same (i.e. so that each cell has the same number of cubes in it) using above operations. \n\nAlice, however, has found out that on some starting grids she may never reach the goal no matter what strategy she uses. Thus, she is wondering the number of initial grids such that   $L \\le a_{i,j} \\le R$ for all $1 \\le i \\le n$, $1 \\le j \\le m$;  player can reach the goal using above operations. \n\nPlease help Alice with it. Notice that the answer might be large, please output the desired value modulo $998,244,353$.\n\n\n-----Input-----\n\nThe only line contains four integers $n$, $m$, $L$ and $R$ ($1\\le n,m,L,R \\le 10^9$, $L \\le R$, $n \\cdot m \\ge 2$).\n\n\n-----Output-----\n\nOutput one integer, representing the desired answer modulo $998,244,353$.\n\n\n-----Examples-----\nInput\n2 2 1 1\n\nOutput\n1\n\nInput\n1 2 1 2\n\nOutput\n2\n\n\n\n-----Note-----\n\nIn the first sample, the only initial grid that satisfies the requirements is $a_{1,1}=a_{2,1}=a_{1,2}=a_{2,2}=1$. Thus the answer should be $1$.\n\nIn the second sample, initial grids that satisfy the requirements are $a_{1,1}=a_{1,2}=1$ and $a_{1,1}=a_{1,2}=2$. Thus the answer should be $2$.\nPlease provide the solution as pure code,", "QUESTION:\nAlice has got addicted to a game called Sirtet recently.\n\nIn Sirtet, player is given an $n \\times m$ grid. Initially $a_{i,j}$ cubes are stacked up in the cell $(i,j)$. Two cells are called adjacent if they share a side. Player can perform the following operations:   stack up one cube in two adjacent cells;  stack up two cubes in one cell. \n\nCubes mentioned above are identical in height.\n\nHere is an illustration of the game. States on the right are obtained by performing one of the above operations on the state on the left, and grey cubes are added due to the operation. [Image] \n\nPlayer's goal is to make the height of all cells the same (i.e. so that each cell has the same number of cubes in it) using above operations. \n\nAlice, however, has found out that on some starting grids she may never reach the goal no matter what strategy she uses. Thus, she is wondering the number of initial grids such that   $L \\le a_{i,j} \\le R$ for all $1 \\le i \\le n$, $1 \\le j \\le m$;  player can reach the goal using above operations. \n\nPlease help Alice with it. Notice that the answer might be large, please output the desired value modulo $998,244,353$.\n\n\n-----Input-----\n\nThe only line contains four integers $n$, $m$, $L$ and $R$ ($1\\le n,m,L,R \\le 10^9$, $L \\le R$, $n \\cdot m \\ge 2$).\n\n\n-----Output-----\n\nOutput one integer, representing the desired answer modulo $998,244,353$.\n\n\n-----Examples-----\nInput\n2 2 1 1\n\nOutput\n1\n\nInput\n1 2 1 2\n\nOutput\n2\n\n\n\n-----Note-----\n\nIn the first sample, the only initial grid that satisfies the requirements is $a_{1,1}=a_{2,1}=a_{1,2}=a_{2,2}=1$. Thus the answer should be $1$.\n\nIn the second sample, initial grids that satisfy the requirements are $a_{1,1}=a_{1,2}=1$ and $a_{1,1}=a_{1,2}=2$. Thus the answer should be $2$.\nPlease provide the solution as pure code,"], "prompt": "\nQUESTION:\nAlice has got addicted to a game called Sirtet recently.\n\nIn Sirtet, player is given an $n \\times m$ grid. Initially $a_{i,j}$ cubes are stacked up in the cell $(i,j)$. Two cells are called adjacent if they share a side. Player can perform the following operations:   stack up one cube in two adjacent cells;  stack up two cubes in one cell. \n\nCubes mentioned above are identical in height.\n\nHere is an illustration of the game. States on the right are obtained by performing one of the above operations on the state on the left, and grey cubes are added due to the operation. [Image] \n\nPlayer's goal is to make the height of all cells the same (i.e. so that each cell has the same number of cubes in it) using above operations. \n\nAlice, however, has found out that on some starting grids she may never reach the goal no matter what strategy she uses. Thus, she is wondering the number of initial grids such that   $L \\le a_{i,j} \\le R$ for all $1 \\le i \\le n$, $1 \\le j \\le m$;  player can reach the goal using above operations. \n\nPlease help Alice with it. Notice that the answer might be large, please output the desired value modulo $998,244,353$.\n\n\n-----Input-----\n\nThe only line contains four integers $n$, $m$, $L$ and $R$ ($1\\le n,m,L,R \\le 10^9$, $L \\le R$, $n \\cdot m \\ge 2$).\n\n\n-----Output-----\n\nOutput one integer, representing the desired answer modulo $998,244,353$.\n\n\n-----Examples-----\nInput\n2 2 1 1\n\nOutput\n1\n\nInput\n1 2 1 2\n\nOutput\n2\n\n\n\n-----Note-----\n\nIn the first sample, the only initial grid that satisfies the requirements is $a_{1,1}=a_{2,1}=a_{1,2}=a_{2,2}=1$. Thus the answer should be $1$.\n\nIn the second sample, initial grids that satisfy the requirements are $a_{1,1}=a_{1,2}=1$ and $a_{1,1}=a_{1,2}=2$. Thus the answer should be $2$.\nPlease provide the solution as pure code only, without explanations or comments.\n\nANSWER:\n```python\n"}}