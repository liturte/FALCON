{"1024": {"code": ["QUESTION:\nYou are given a permutation of integers from 1 to n. Exactly once you apply the following operation to this permutation: pick a random segment and shuffle its elements. Formally:  Pick a random segment (continuous subsequence) from l to r. All $\\frac{n(n + 1)}{2}$ segments are equiprobable.  Let k = r - l + 1, i.e. the length of the chosen segment. Pick a random permutation of integers from 1 to k, p_1, p_2, ..., p_{k}. All k! permutation are equiprobable.  This permutation is applied to elements of the chosen segment, i.e. permutation a_1, a_2, ..., a_{l} - 1, a_{l}, a_{l} + 1, ..., a_{r} - 1, a_{r}, a_{r} + 1, ..., a_{n} is transformed to a_1, a_2, ..., a_{l} - 1, a_{l} - 1 + p_1, a_{l} - 1 + p_2, ..., a_{l} - 1 + p_{k} - 1, a_{l} - 1 + p_{k}, a_{r} + 1, ..., a_{n}. \n\nInversion if a pair of elements (not necessary neighbouring) with the wrong relative order. In other words, the number of inversion is equal to the number of pairs (i, j) such that i < j and a_{i} > a_{j}. Find the expected number of inversions after we apply exactly one operation mentioned above.\n\n\n-----Input-----\n\nThe first line contains a single integer n (1 \u2264 n \u2264 100 000)\u00a0\u2014 the length of the permutation.\n\nThe second line contains n distinct integers from 1 to n\u00a0\u2014 elements of the permutation.\n\n\n-----Output-----\n\nPrint one real value\u00a0\u2014 the expected number of inversions. Your answer will be considered correct if its absolute or relative error does not exceed 10^{ - 9}. \n\nNamely: let's assume that your answer is a, and the answer of the jury is b. The checker program will consider your answer correct, if $\\frac{|a - b|}{\\operatorname{max}(1, b)} \\leq 10^{-9}$.\n\n\n-----Example-----\nInput\n3\n2 3 1\n\nOutput\n1.916666666666666666666666", "QUESTION:\nYou are given a permutation of integers from 1 to n. Exactly once you apply the following operation to this permutation: pick a random segment and shuffle its elements. Formally:  Pick a random segment (continuous subsequence) from l to r. All $\\frac{n(n + 1)}{2}$ segments are equiprobable.  Let k = r - l + 1, i.e. the length of the chosen segment. Pick a random permutation of integers from 1 to k, p_1, p_2, ..., p_{k}. All k! permutation are equiprobable.  This permutation is applied to elements of the chosen segment, i.e. permutation a_1, a_2, ..., a_{l} - 1, a_{l}, a_{l} + 1, ..., a_{r} - 1, a_{r}, a_{r} + 1, ..., a_{n} is transformed to a_1, a_2, ..., a_{l} - 1, a_{l} - 1 + p_1, a_{l} - 1 + p_2, ..., a_{l} - 1 + p_{k} - 1, a_{l} - 1 + p_{k}, a_{r} + 1, ..., a_{n}. \n\nInversion if a pair of elements (not necessary neighbouring) with the wrong relative order. In other words, the number of inversion is equal to the number of pairs (i, j) such that i < j and a_{i} > a_{j}. Find the expected number of inversions after we apply exactly one operation mentioned above.\n\n\n-----Input-----\n\nThe first line contains a single integer n (1 \u2264 n \u2264 100 000)\u00a0\u2014 the length of the permutation.\n\nThe second line contains n distinct integers from 1 to n\u00a0\u2014 elements of the permutation.\n\n\n-----Output-----\n\nPrint one real value\u00a0\u2014 the expected number of inversions. Your answer will be considered correct if its absolute or relative error does not exceed 10^{ - 9}. \n\nNamely: let's assume that your answer is a, and the answer of the jury is b. The checker program will consider your answer correct, if $\\frac{|a - b|}{\\operatorname{max}(1, b)} \\leq 10^{-9}$.\n\n\n-----Example-----\nInput\n3\n2 3 1\n\nOutput\n1.916666666666666666666666", "QUESTION:\nYou are given a permutation of integers from 1 to n. Exactly once you apply the following operation to this permutation: pick a random segment and shuffle its elements. Formally:  Pick a random segment (continuous subsequence) from l to r. All $\\frac{n(n + 1)}{2}$ segments are equiprobable.  Let k = r - l + 1, i.e. the length of the chosen segment. Pick a random permutation of integers from 1 to k, p_1, p_2, ..., p_{k}. All k! permutation are equiprobable.  This permutation is applied to elements of the chosen segment, i.e. permutation a_1, a_2, ..., a_{l} - 1, a_{l}, a_{l} + 1, ..., a_{r} - 1, a_{r}, a_{r} + 1, ..., a_{n} is transformed to a_1, a_2, ..., a_{l} - 1, a_{l} - 1 + p_1, a_{l} - 1 + p_2, ..., a_{l} - 1 + p_{k} - 1, a_{l} - 1 + p_{k}, a_{r} + 1, ..., a_{n}. \n\nInversion if a pair of elements (not necessary neighbouring) with the wrong relative order. In other words, the number of inversion is equal to the number of pairs (i, j) such that i < j and a_{i} > a_{j}. Find the expected number of inversions after we apply exactly one operation mentioned above.\n\n\n-----Input-----\n\nThe first line contains a single integer n (1 \u2264 n \u2264 100 000)\u00a0\u2014 the length of the permutation.\n\nThe second line contains n distinct integers from 1 to n\u00a0\u2014 elements of the permutation.\n\n\n-----Output-----\n\nPrint one real value\u00a0\u2014 the expected number of inversions. Your answer will be considered correct if its absolute or relative error does not exceed 10^{ - 9}. \n\nNamely: let's assume that your answer is a, and the answer of the jury is b. The checker program will consider your answer correct, if $\\frac{|a - b|}{\\operatorname{max}(1, b)} \\leq 10^{-9}$.\n\n\n-----Example-----\nInput\n3\n2 3 1\n\nOutput\n1.916666666666666666666666", "QUESTION:\nYou are given a permutation of integers from 1 to n. Exactly once you apply the following operation to this permutation: pick a random segment and shuffle its elements. Formally:  Pick a random segment (continuous subsequence) from l to r. All $\\frac{n(n + 1)}{2}$ segments are equiprobable.  Let k = r - l + 1, i.e. the length of the chosen segment. Pick a random permutation of integers from 1 to k, p_1, p_2, ..., p_{k}. All k! permutation are equiprobable.  This permutation is applied to elements of the chosen segment, i.e. permutation a_1, a_2, ..., a_{l} - 1, a_{l}, a_{l} + 1, ..., a_{r} - 1, a_{r}, a_{r} + 1, ..., a_{n} is transformed to a_1, a_2, ..., a_{l} - 1, a_{l} - 1 + p_1, a_{l} - 1 + p_2, ..., a_{l} - 1 + p_{k} - 1, a_{l} - 1 + p_{k}, a_{r} + 1, ..., a_{n}. \n\nInversion if a pair of elements (not necessary neighbouring) with the wrong relative order. In other words, the number of inversion is equal to the number of pairs (i, j) such that i < j and a_{i} > a_{j}. Find the expected number of inversions after we apply exactly one operation mentioned above.\n\n\n-----Input-----\n\nThe first line contains a single integer n (1 \u2264 n \u2264 100 000)\u00a0\u2014 the length of the permutation.\n\nThe second line contains n distinct integers from 1 to n\u00a0\u2014 elements of the permutation.\n\n\n-----Output-----\n\nPrint one real value\u00a0\u2014 the expected number of inversions. Your answer will be considered correct if its absolute or relative error does not exceed 10^{ - 9}. \n\nNamely: let's assume that your answer is a, and the answer of the jury is b. The checker program will consider your answer correct, if $\\frac{|a - b|}{\\operatorname{max}(1, b)} \\leq 10^{-9}$.\n\n\n-----Example-----\nInput\n3\n2 3 1\n\nOutput\n1.916666666666666666666666", "QUESTION:\nYou are given a permutation of integers from 1 to n. Exactly once you apply the following operation to this permutation: pick a random segment and shuffle its elements. Formally:  Pick a random segment (continuous subsequence) from l to r. All $\\frac{n(n + 1)}{2}$ segments are equiprobable.  Let k = r - l + 1, i.e. the length of the chosen segment. Pick a random permutation of integers from 1 to k, p_1, p_2, ..., p_{k}. All k! permutation are equiprobable.  This permutation is applied to elements of the chosen segment, i.e. permutation a_1, a_2, ..., a_{l} - 1, a_{l}, a_{l} + 1, ..., a_{r} - 1, a_{r}, a_{r} + 1, ..., a_{n} is transformed to a_1, a_2, ..., a_{l} - 1, a_{l} - 1 + p_1, a_{l} - 1 + p_2, ..., a_{l} - 1 + p_{k} - 1, a_{l} - 1 + p_{k}, a_{r} + 1, ..., a_{n}. \n\nInversion if a pair of elements (not necessary neighbouring) with the wrong relative order. In other words, the number of inversion is equal to the number of pairs (i, j) such that i < j and a_{i} > a_{j}. Find the expected number of inversions after we apply exactly one operation mentioned above.\n\n\n-----Input-----\n\nThe first line contains a single integer n (1 \u2264 n \u2264 100 000)\u00a0\u2014 the length of the permutation.\n\nThe second line contains n distinct integers from 1 to n\u00a0\u2014 elements of the permutation.\n\n\n-----Output-----\n\nPrint one real value\u00a0\u2014 the expected number of inversions. Your answer will be considered correct if its absolute or relative error does not exceed 10^{ - 9}. \n\nNamely: let's assume that your answer is a, and the answer of the jury is b. The checker program will consider your answer correct, if $\\frac{|a - b|}{\\operatorname{max}(1, b)} \\leq 10^{-9}$.\n\n\n-----Example-----\nInput\n3\n2 3 1\n\nOutput\n1.916666666666666666666666"], "prompt": "\nQUESTION:\nYou are given a permutation of integers from 1 to n. Exactly once you apply the following operation to this permutation: pick a random segment and shuffle its elements. Formally:  Pick a random segment (continuous subsequence) from l to r. All $\\frac{n(n + 1)}{2}$ segments are equiprobable.  Let k = r - l + 1, i.e. the length of the chosen segment. Pick a random permutation of integers from 1 to k, p_1, p_2, ..., p_{k}. All k! permutation are equiprobable.  This permutation is applied to elements of the chosen segment, i.e. permutation a_1, a_2, ..., a_{l} - 1, a_{l}, a_{l} + 1, ..., a_{r} - 1, a_{r}, a_{r} + 1, ..., a_{n} is transformed to a_1, a_2, ..., a_{l} - 1, a_{l} - 1 + p_1, a_{l} - 1 + p_2, ..., a_{l} - 1 + p_{k} - 1, a_{l} - 1 + p_{k}, a_{r} + 1, ..., a_{n}. \n\nInversion if a pair of elements (not necessary neighbouring) with the wrong relative order. In other words, the number of inversion is equal to the number of pairs (i, j) such that i < j and a_{i} > a_{j}. Find the expected number of inversions after we apply exactly one operation mentioned above.\n\n\n-----Input-----\n\nThe first line contains a single integer n (1 \u2264 n \u2264 100 000)\u00a0\u2014 the length of the permutation.\n\nThe second line contains n distinct integers from 1 to n\u00a0\u2014 elements of the permutation.\n\n\n-----Output-----\n\nPrint one real value\u00a0\u2014 the expected number of inversions. Your answer will be considered correct if its absolute or relative error does not exceed 10^{ - 9}. \n\nNamely: let's assume that your answer is a, and the answer of the jury is b. The checker program will consider your answer correct, if $\\frac{|a - b|}{\\operatorname{max}(1, b)} \\leq 10^{-9}$.\n\n\n-----Example-----\nInput\n3\n2 3 1\n\nOutput\n1.916666666666666666666666666667\nPlease provide the solution as pure code only, without explanations or comments.\n\nANSWER:\n```python\n"}}