{"4003": {"code": ["thethe inputthethe input is$s_n$and $s_j$ islength $k$ \u2014 thethe$n$$a$$i$-th$a_2, \\dots, a_n$ ($1 \\le\\cdot 10^5$),$s_n$ is thethethe $k$-th element of", "theone integer $i$ $s$ ofone integerof$s_j$$s_j$ is theof the $n$$s_i$ is thein thethethethe firstthe firstthethe last$s_j$ is thethe firstthe firstof thea_2, a_3,$s_n$ is the", "output isthetheis theofthethelengththethethe) {is thetheof thethe input isthethethetothe sequence isthe sequence isthe number ofthe$n$ of elements in thethe second line of the", "C2\\cdot2 \\cdot 10^5$).isC2thea2 \\cdotthe$s_j$ is theof$s_j$ is the $k$-this thethe$k$ is thea_1, a_2, \\dots, a_n$,the$s_j$ is thethe", "the input contains2 3 2$k$ \u2014 thethe $k$-th element of theof$s_j$ is thethe1,the2 22 42 5 6 55 6 64 2$s_j$ is thea$s_j$ is thethe input containsthea_1, a_2,$a", "if youthe.of thethethethe firsttheof the firstthe second$s$ of length $k$, wherethethe$k$is thetheis $n$of(n, a_1, a_2, \\dots,a_i, \\dots, a_n$ ($1 \\le2 \\cdot 10^5", "input ofof theof the$a$ and the$a$$s_a$ isin theinput isof$s_j$the( $n$$s_j$ isthe$s_a$ is thethetheof the$k$$k$ \u2014 thethe$s_j$ is thethe $j", "thethetheit is aof2='L' if youis 'R' if you takethe input is'A' if youthethethe firstof the input isthe firstthethe firstthethe firstof the inputof thethethe secondthe first$k$ \u2014 the $j$-th character ofof", "twocorrespondingthethe$n$thethe length of thethe sequence is $n$theof theis thethethethethe sequence$n$thethe input isthe first line ofthe first lineof the inputthe second line ofthe first line of thethe output(2, 4, 3,the output is", "isof=a_1, a_2, \\dots, a_n$(1)the firstisthe$j$-th element of$k$the first line oftheof the first line ofthe firstthe first line is$k$ is the numberofof $k$of $s_j$the first linethethe second line"], "prompt": "\nQUESTION:\nThe only difference between problems C1 and C2 is that all values in input of problem C1 are distinct (this condition may be false for problem C2).\n\nYou are given a sequence $a$ consisting of $n$ integers.\n\nYou are making a sequence of moves. During each move you must take either the leftmost element of the sequence or the rightmost element of the sequence, write it down and remove it from the sequence. Your task is to write down a strictly increasing sequence, and among all such sequences you should take the longest (the length of the sequence is the number of elements in it).\n\nFor example, for the sequence $[1, 2, 4, 3, 2]$ the answer is $4$ (you take $1$ and the sequence becomes $[2, 4, 3, 2]$, then you take the rightmost element $2$ and the sequence becomes $[2, 4, 3]$, then you take $3$ and the sequence becomes $[2, 4]$ and then you take $4$ and the sequence becomes $[2]$, the obtained increasing sequence is $[1, 2, 3, 4]$).\n\n\n-----Input-----\n\nThe first line of the input contains one integer $n$ ($1 \\le n \\le 2 \\cdot 10^5$) \u2014 the number of elements in $a$.\n\nThe second line of the input contains $n$ integers $a_1, a_2, \\dots, a_n$ ($1 \\le a_i \\le 2 \\cdot 10^5$), where $a_i$ is the $i$-th element of $a$.\n\n\n-----Output-----\n\nIn the first line of the output print $k$ \u2014 the maximum number of elements in a strictly increasing sequence you can obtain.\n\nIn the second line print a string $s$ of length $k$, where the $j$-th character of this string $s_j$ should be 'L' if you take the leftmost element during the $j$-th move and 'R' otherwise. If there are multiple answers, you can print any.\n\n\n-----Examples-----\nInput\n5\n1 2 4 3 2\n\nOutput\n4\nLRRR\n\nInput\n7\n1 3 5 6 5 4 2\n\nOutput\n6\nLRLRRR\n\nInput\n3\n2 2 2\n\nOutput\n1\nR\n\nInput\n4\n1 2 4 3\n\nOutput\n4\nLLRR\n\n\n\n-----Note-----\n\nThe first example is described in the problem statement.\nUse Standard Input format\nANSWER:\n"}}