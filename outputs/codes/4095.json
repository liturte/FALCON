{"4095": {"code": ["in the given$a$$a$aarray ofthesequencethat$p_l,\\dots, p_r$ is exactly thethethe$n$ is thein the given$n$ is the required$m$ isof$p_l, p_{l+1},$n$ is theof the$n$ is the$", "the$1$1 \\le l \\le2 \\cdot10^5$,$1 \\le\\le2 \\cdot10^5$, $1 \\le$1 \\le n2 \\cdot10^5$, $1 \\le$1 \\le$1 \\le\\le n\\le2\\cdot10^5$, $1 \\le\\le", "thenumberthesequencethe givennumberthe number ofthe$n$ isin thethesequencebetween $1$ and$n$ occurs$n$ is$n$ is exactly the given$m$ is exactly thethe sequence ofnumbers of indicesbetween$n$ occurs inthe givennumber of pairs of(1,the firstarray of integers $", "the first2\\cdot10^5$the$1 \\le n \\le$1 \\le\\le n \\le 2\\cdot10^5$$m$$n$thethe$n$$n$ is$p_1,p_2, \\dots, p_n$ is4\\cdot10^5$, $1 \\le n", "theis$n$ \u2014 the requirednumber$n$the$n$ and thethelength of the givenof the$n$ is14 7 8 10 9$n$ is$n$ is thetwotheof thesequence.(\\le2\\cdot10^5$$n$ isof thethe second line", "$p_l,\\len$$n$$m$2\\cdot10^5$, $1 \\le$n$length of the given$p_i \\len$ occurs in $p$ exactly$n$ occurs in $p$\\le$n$ occurs in $p$ exactly$n$$n$ occurs in $p$ exactly$n", "$1 \\le454 ]$$4$the1, 2, 9,1]$ and the$2, 5, 7]$2, 7, 4, 9,$1 \\le nthe requiredlength of the given\\le n$$1 \\le n\\le 2\\cdot10^5$,$1 \\le\\le$1 \\", "$a[l]$$a[l+1]$$a[l+1]$ \u2014 thethethe$a[$l+1]$ isis$n$$1 \\le\\le n$a[l+1]$ $a[l+1]$$a[$l+1]$ is theofthetheis theby", "$a $a$theof$n$thethe givenlength of the giventhe$a[$l, r]$of$a[$l, r]$ isthe2, 4, 6]$ is$a[$l, r]$ is theaof$a[$l, r]$ofthe giventhe given$a[$l,2", "$p_l, p_{l+1},length of the=sequence byinais giveninteger between $1$ and $n$thebetween $n$ and $m$$1 \\le$n$ and $m$betweenthe given number $m$in $p$ exactly once inin the sequence $n$of theofofthe first line contains"], "prompt": "\nQUESTION:\nYou are given a permutation $p_1, p_2, \\dots, p_n$. A permutation of length $n$ is a sequence such that each integer between $1$ and $n$ occurs exactly once in the sequence.\n\nFind the number of pairs of indices $(l, r)$ ($1 \\le l \\le r \\le n$) such that the value of the median of $p_l, p_{l+1}, \\dots, p_r$ is exactly the given number $m$.\n\nThe median of a sequence is the value of the element which is in the middle of the sequence after sorting it in non-decreasing order. If the length of the sequence is even, the left of two middle elements is used.\n\nFor example, if $a=[4, 2, 7, 5]$ then its median is $4$ since after sorting the sequence, it will look like $[2, 4, 5, 7]$ and the left of two middle elements is equal to $4$. The median of $[7, 1, 2, 9, 6]$ equals $6$ since after sorting, the value $6$ will be in the middle of the sequence.\n\nWrite a program to find the number of pairs of indices $(l, r)$ ($1 \\le l \\le r \\le n$) such that the value of the median of $p_l, p_{l+1}, \\dots, p_r$ is exactly the given number $m$.\n\n\n-----Input-----\n\nThe first line contains integers $n$ and $m$ ($1 \\le n \\le 2\\cdot10^5$, $1 \\le m \\le n$) \u2014 the length of the given sequence and the required value of the median.\n\nThe second line contains a permutation $p_1, p_2, \\dots, p_n$ ($1 \\le p_i \\le n$). Each integer between $1$ and $n$ occurs in $p$ exactly once.\n\n\n-----Output-----\n\nPrint the required number.\n\n\n-----Examples-----\nInput\n5 4\n2 4 5 3 1\n\nOutput\n4\n\nInput\n5 5\n1 2 3 4 5\n\nOutput\n1\n\nInput\n15 8\n1 15 2 14 3 13 4 8 12 5 11 6 10 7 9\n\nOutput\n48\n\n\n\n-----Note-----\n\nIn the first example, the suitable pairs of indices are: $(1, 3)$, $(2, 2)$, $(2, 3)$ and $(2, 4)$.\nUse Standard Input format\nANSWER:\n"}}