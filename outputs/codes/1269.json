{"1269": {"code": ["of thethefor$i$the);1 ] $$m$ $2$n $2,$0 $1 $n $1$c_2 $n $$$n $$ isone$n$of the$n$the$n $the$m$$m$ $0$m$ $1 $n $2", "the$n $the$n1the$n$ $m$ $0$m$ $0$n$ $m$ $n$$m$ $n$the length of thethe$0$the$c_k $0$ $c_k$n$ $m$$n$thethethethe number ofof thethe", "the$j$in the$c_k $c_i $c_n$j$= m$, $c_k =$c_k $c_k $c_n$c_k $c_k $c_nof thethethethethethein the$n$, $m$ $n$thethethethe", "thesubtaskthis number ofthein thethethe first$c_i, c_2,the$c_i, c_m$ ($1the length of the$n$, $m$ $n = m$,theis a$c_i, c_m$ ($1 \\leq\\leq 500$,the length of the$c_", "$c_1, $c_2, $c_ktheof $c_k, $m$the($1 $2 $3$4the$4 $5$0 $3 $4$5 $4 $6theof $n$, $3 $4$3 $4 $4 $4$4 $4 $4 $4$4$4", "of.thethethethetheisit1,$1, $m$thetheto $n$, $m$= m$, $c_k$c_k = j$, c_m$ ($1$c_1, c_2, c_m$ ($1$n$, $m$ $c_k, $m$", "is $n+1$of thethethe$m$thein $n$ $c_kthe colour $0$ $m$$j$, $m$ $n$ $c_kthe$n$, $j$ $c_kof $n$ $c_k,$n$ $m$$c_k $m$$c_k $", "a single$0$0$m$= m$, $nin$m$ $c_k, $n = m$,$n$)$c_k $m$isof $n$ $c_k,$n$the$m$ (n -$m$ $c_k$c_k,is a permutation of$1", "thethe second$n$ and the$m$$m$$n$ $m$ $c_k$c_k \\leq$c_k $c_kthe firstthethe first lineto$m$the first line of$n$ $m$a$n$$m$$m$ $n$ $m$$n$", "$c_k = 0 $m$$m$)$m$theof $n$, $m$$n$ \\leq 500$,$m$ $n$a$i$to paint the$n$, $m$$n$thethe= m$ $m$$n$$n$ $m$the$n$"], "prompt": "\nQUESTION:\nThis is the first subtask of problem F. The only differences between this and the second subtask are the constraints on the value of $m$ and the time limit. You need to solve both subtasks in order to hack this one.\n\nThere are $n+1$ distinct colours in the universe, numbered $0$ through $n$. There is a strip of paper $m$ centimetres long initially painted with colour $0$. \n\nAlice took a brush and painted the strip using the following process. For each $i$ from $1$ to $n$, in this order, she picks two integers $0 \\leq a_i < b_i \\leq m$, such that the segment $[a_i, b_i]$ is currently painted with a single colour, and repaints it with colour $i$. \n\nAlice chose the segments in such a way that each centimetre is now painted in some colour other than $0$. Formally, the segment $[i-1, i]$ is painted with colour $c_i$ ($c_i \\neq 0$). Every colour other than $0$ is visible on the strip.\n\nCount the number of different pairs of sequences $\\{a_i\\}_{i=1}^n$, $\\{b_i\\}_{i=1}^n$ that result in this configuration. \n\nSince this number may be large, output it modulo $998244353$.\n\n\n-----Input-----\n\nThe first line contains a two integers $n$, $m$ ($1 \\leq n \\leq 500$, $n = m$)\u00a0\u2014 the number of colours excluding the colour $0$ and the length of the paper, respectively.\n\nThe second line contains $m$ space separated integers $c_1, c_2, \\ldots, c_m$ ($1 \\leq c_i \\leq n$)\u00a0\u2014 the colour visible on the segment $[i-1, i]$ after the process ends. It is guaranteed that for all $j$ between $1$ and $n$ there is an index $k$ such that $c_k = j$.\n\nNote that since in this subtask $n = m$, this means that $c$ is a permutation of integers $1$ through $n$.\n\n\n-----Output-----\n\nOutput a single integer\u00a0\u2014 the number of ways Alice can perform the painting, modulo $998244353$.\n\n\n-----Examples-----\nInput\n3 3\n1 2 3\n\nOutput\n5\n\nInput\n7 7\n4 5 1 6 2 3 7\n\nOutput\n165\n\n\n\n-----Note-----\n\nIn the first example, there are $5$ ways, all depicted in the figure below. Here, $0$ is white, $1$ is red, $2$ is green and $3$ is blue.\n\n[Image]\n\nBelow is an example of a painting process that is not valid, as in the second step the segment 1 3 is not single colour, and thus may not be repainted with colour $2$.\n\n[Image]\nUse Standard Input format\nANSWER:\n"}}