{"4511": {"code": ["thedamage.them areinthemdamage.thecards arein any order anddeals $9$damage.takes $3$ and $4$$5$damage.$5$$2$ damage.damage. //thecan beinthethree cards,thed", "for the:)(( ) ;i = 0 ; ii < n ;i ++ )+=((\\cdot 10^5$)i +$d_j$ -$c_j\\le\\cdot 10^5$)( ) ; i=) ;( ) ;(;( ) ;[ 1 ] [", "of thethe$2$ damage.thethecardsdamage.cards and$7$ damage.\\le1 \\cdot 10^5$\\cdot 10^9$)= 1}^{n} k_i \\le\\cdot 10^5$) \u2014 the//number of$n$$k_", "the number of$i$-th turn.cards in any orderplayed.thethethethesecardsthethedamage.the firstthethethe first turn, playcards andthree cards,deals $10$the$n$$k_i$ of thethethe number ofthe$n$ times", "1) \u2014 thedamage.the firsttwocards and deal.1) )thethe$2$ )( ) ->)( )( )..( ) ).0 ).( ).)0 ].;.$3$ / 2 \\cdot 10^5$)} else {( ) ;", "thedamage$k$-th$k$-th$n$\\le n \\le\\le\\le$2$\\le k_i \\le 2 \\cdot10^5$(1\\le n \\le\\le\\cdot 10^5$)\\le\\le\\le3\\cdot 10^5$)(1\\", "thethe.thetheof//thethetheofin any order andthedamage.the damage. //thethis is atheof thethe$0$ in( int )$0$the damage isthethe damage. // The damage,the $1$-th card isthe", "and a$2$0.$11.damage.thethedamage.cards you$2$ $1$4$ $10.number of$2$ $2$ $1$2$$2$ $1$thethe cardyou get$2$ $1$$2$ $2$ $2$", "playing acards anddamage.the$11$the$1n \\le 2 \\cdot 10^5$)$2$$3$ $3$ $2$$1\\cdot 10^5$)thethe\\cdot 10^5$)= 1}^{n} k_i \\le10^5$)2 \\", "$k_i$ $c_j$ and $d_j$the$c_j$ $d_j$thecards inthe$n$ $c_j( $1 \\le n$1)the$k_i$(\\lek_i \\le 2\\le\\le 1\\le 2 \\cdot 10^5$)"], "prompt": "\nQUESTION:\nYou are playing a computer card game called Splay the Sire. Currently you are struggling to defeat the final boss of the game.\n\nThe boss battle consists of $n$ turns. During each turn, you will get several cards. Each card has two parameters: its cost $c_i$ and damage $d_i$. You may play some of your cards during each turn in some sequence (you choose the cards and the exact order they are played), as long as the total cost of the cards you play during the turn does not exceed $3$. After playing some (possibly zero) cards, you end your turn, and all cards you didn't play are discarded. Note that you can use each card at most once.\n\nYour character has also found an artifact that boosts the damage of some of your actions: every $10$-th card you play deals double damage.\n\nWhat is the maximum possible damage you can deal during $n$ turns?\n\n\n-----Input-----\n\nThe first line contains one integer $n$ ($1 \\le n \\le 2 \\cdot 10^5$) \u2014 the number of turns.\n\nThen $n$ blocks of input follow, the $i$-th block representing the cards you get during the $i$-th turn.\n\nEach block begins with a line containing one integer $k_i$ ($1 \\le k_i \\le 2 \\cdot 10^5$) \u2014 the number of cards you get during $i$-th turn. Then $k_i$ lines follow, each containing two integers $c_j$ and $d_j$ ($1 \\le c_j \\le 3$, $1 \\le d_j \\le 10^9$) \u2014 the parameters of the corresponding card.\n\nIt is guaranteed that $\\sum \\limits_{i = 1}^{n} k_i \\le 2 \\cdot 10^5$.\n\n\n-----Output-----\n\nPrint one integer \u2014 the maximum damage you may deal.\n\n\n-----Example-----\nInput\n5\n3\n1 6\n1 7\n1 5\n2\n1 4\n1 3\n3\n1 10\n3 5\n2 3\n3\n1 15\n2 4\n1 10\n1\n1 100\n\nOutput\n263\n\n\n\n-----Note-----\n\nIn the example test the best course of action is as follows:\n\nDuring the first turn, play all three cards in any order and deal $18$ damage.\n\nDuring the second turn, play both cards and deal $7$ damage.\n\nDuring the third turn, play the first and the third card and deal $13$ damage.\n\nDuring the fourth turn, play the first and the third card and deal $25$ damage.\n\nDuring the fifth turn, play the only card, which will deal double damage ($200$).\nUse Standard Input format\nANSWER:\n"}}