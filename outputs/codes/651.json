{"651": {"code": ["... #. #. #. #. #. #. # # ## ## # # # ### # ## # # ## # ## # ## # # ## # # # ## # ## # # ## # # # ## # ## # # # ## # # ##", "theof the.:'A', 'B', 'C''B', 'C','S''E','S', 'E', 'S', 'E',, 'E', 'S','S', 'E','S', 'E', 'S''S', 'E', '", "thethe exit. ) { int nint i =() ; int i=)( ) ;. length - 1[ 0 ] ; intint )int )[]int )int )int ) int )int ) intint( int )int ) intint ) int ) int] ] ; intint ) int )int ) int", "the exit. (.) { int= 0 ; i <0 ; i ++int ii ] ; }int i= 0 ; i <; i ++ ) {=[ i ]] =] ; }; } #] ;] = 0i ]( 0[ 0 ] =] = 0 ;] = 0 ; i]i", "(and onein thetheofin thethetheto beto the exit.a singleof a singlecharacter ofof aofa single integer, thetheof theof aof a singletheof thenumbersof theof a singleof the maze. The number", "of.in order totheof thetothe robot.of the maze isthemaze to be......(,.) ;.].( ) ).] ) ) ;", "to the exitthatcanin thethetheis theto the exit.thethe exit.thein the maze.to thein the maze.thethein the(2thea(2 \u2264 n,(3 \u2264 n,of theis thetheto the exit. #", "the maze. ().'#', 'S''E' in.](). split (=) ) [ 00 ].01 ].(1 ] [][ 1 ]] [ 1 ]] [ 0 ][ 1 ].] [ 1] =0 ] [ 1 ]", "thetheofmaze. Thea singleof thethetakes athethethattheof thea singlethetheof thethe maze istheofthethecharacter#\u00a0\u2014 the instructions giventhethe maze. The maze is", "in the) ;] ) ;) ;{.( int( int i ) ;) ;] ; }. length )] ) ; }]) ; }; }( int i )in the( int i= 0 ; i; i <)) {( i ) ;[ i ] ; })] ) ; }"], "prompt": "\nQUESTION:\nBob programmed a robot to navigate through a 2d maze.\n\nThe maze has some obstacles. Empty cells are denoted by the character '.', where obstacles are denoted by '#'.\n\nThere is a single robot in the maze. Its start position is denoted with the character 'S'. This position has no obstacle in it. There is also a single exit in the maze. Its position is denoted with the character 'E'. This position has no obstacle in it.\n\nThe robot can only move up, left, right, or down.\n\nWhen Bob programmed the robot, he wrote down a string of digits consisting of the digits 0 to 3, inclusive. He intended for each digit to correspond to a distinct direction, and the robot would follow the directions in order to reach the exit. Unfortunately, he forgot to actually assign the directions to digits.\n\nThe robot will choose some random mapping of digits to distinct directions. The robot will map distinct digits to distinct directions. The robot will then follow the instructions according to the given string in order and chosen mapping. If an instruction would lead the robot to go off the edge of the maze or hit an obstacle, the robot will crash and break down. If the robot reaches the exit at any point, then the robot will stop following any further instructions.\n\nBob is having trouble debugging his robot, so he would like to determine the number of mappings of digits to directions that would lead the robot to the exit.\n\n\n-----Input-----\n\nThe first line of input will contain two integers n and m (2 \u2264 n, m \u2264 50), denoting the dimensions of the maze.\n\nThe next n lines will contain exactly m characters each, denoting the maze.\n\nEach character of the maze will be '.', '#', 'S', or 'E'.\n\nThere will be exactly one 'S' and exactly one 'E' in the maze.\n\nThe last line will contain a single string s (1 \u2264 |s| \u2264 100)\u00a0\u2014 the instructions given to the robot. Each character of s is a digit from 0 to 3.\n\n\n-----Output-----\n\nPrint a single integer, the number of mappings of digits to directions that will lead the robot to the exit.\n\n\n-----Examples-----\nInput\n5 6\n.....#\nS....#\n.#....\n.#....\n...E..\n333300012\n\nOutput\n1\n\nInput\n6 6\n......\n......\n..SE..\n......\n......\n......\n01232123212302123021\n\nOutput\n14\n\nInput\n5 3\n...\n.S.\n###\n.E.\n...\n3\n\nOutput\n0\n\n\n\n-----Note-----\n\nFor the first sample, the only valid mapping is $0 \\rightarrow D, 1 \\rightarrow L, 2 \\rightarrow U, 3 \\rightarrow R$, where D is down, L is left, U is up, R is right.\nUse Standard Input format\nANSWER:\n"}}