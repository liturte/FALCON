{"3302": {"code": ["thesequence$d(x_i, x_{2^n})$1 $d(x_ i,\\leq s_ i \\leq$2^n$$n$$n$-bit color code with$n$-bit color$P$, output $2^n$the$n$-bitthe$n$-bit$n$-bit", "$P$is aand $n$color codesthe$P$.it holds thesuch a(x_1, x_2, x_{2^n})of$n$-bit$n$-bit color code withoneof$n$-bit color codesof $n$-bitvalues of $n$the$n$-bit\\", "corresponding$P$, $P$,the$n$-bit colorthethe$P$, $2^n$, and $P$of $n$-bit color codes,$1, \\ldots$n$ $,$P$, $P$, $2^n$$P$, $P$, $2^n$$P$,", "for\\cdot$P$.is a$n$-bita$P$. ->$n$-bit$P$, and the firstis the binary negation$n$ - bit\\cdot, x_{2^n}$n$-bitthe $n$-bit color code$n$-bitfor$P$. ->.", "theand $P$is$n$-bit color code withthe$P$$n$ - bitone of thethecorresponding pair ofthe$P$.the $n$-bit color code with$P$, output $2^n$of$P$, output $2^n$$n$-bit colorand$n$-bit", "for all$2^n$$n$-bitthe$2^n$of $n$-bit color code with$P$, output$n$-bit color code$n$-bit(x_1,\\leq\\leq s_ i \\leq$P$, output $2^n$ lines, containingthe elements of such a$2^n", "the$n$ - bitarray of$n$-bitfor$n$-bitcolor codes are$n$-bit$P$.of $n$-bit color$n$-bit color code withof $n$-bitthe first line of inputand $P$.$n$-bit\\le q n$ for each\\leq n$ for each", "the$p$$n$-bit$n$-bit$n$-bit color code withcolor codes$P$, output $2^n$$P$,$P$, output $2^n$ lines, containing$P$, output $2^n$ lines, containing$1theis agray1,2^n$$P$, output $", "of the$n$ - bit colorfor$n$ - bit\\leq s_\\leq$2^n$$2$$2$ $,$P$ \u2013 the elements of$P$.$2^n$thethe= 0 $s_1,(s_1, \\ldots$1 \\leq n$ for each", "$n$ -is a$n$-bit$n$-bit$n$-bit color$n$-bit color code withfor every $i$\\leq n$ for each $i$$s_1, \\ldots, s_$n$$n$$P$with$P$, inthe$n$-bit color code with$"], "prompt": "\nQUESTION:\nGray codes are a classic topic in information theory with a number of practical applications, none of which we are concerned with in this problem. An $n$-bit Gray code is an ordering $(x_1, x_2, \\ldots , x_{2^n})$ of all $n$-bit binary strings, with the property that any consecutive pair of strings differ in exactly $1$ bit. More formally, for every $1 \\le i < 2^n$, it holds that $d(x_{i}, x_{i+1}) = 1$, where $d(\\cdot , \\cdot )$ denotes the Hamming distance between two binary strings. For instance, for $n=3$, the sequence $(000, 001, 011, 010, 110, 111, 101, 100)$ is a Gray code. \n\nWhile Gray codes are great, they are also a bit, well... gray1. In this problem, we look at a much more colorful variant.\n\nFor an integer $n \\ge 1$ and set of integers $P \\subseteq \\{ 1, \\ldots , n\\} $, we say that an ordering $(x_1, \\ldots , x_{2^n})$ of all $n$-bit binary strings is an $n$-bit color code with palette $P$, if for all $1 \\le i < 2^n$, it holds that $d(x_ i, x_{i+1}) \\in P$, i.e., the number of bits by which any consecutive pair of strings differ is in $P$.\n\nNote that for some palettes, color codes do not exist. For instance, if $n = 6$ and $P = \\{ 6\\} $, the second string must be the binary negation of the first one, but then the third string must be the negation of the second one, i.e., equal to the first string.\n\nGiven $n$ and $P$, can you construct an $n$-bit color code with palette $P$?\n\n-----Input-----\nThe first line of input consists of two integers $n$ ($1 \\le n \\le 16$) and $p$ ($1 \\le p \\le n$). Then follow a line with $p$ distinct integers $s_1, \\ldots , s_ p$ ($1 \\leq s_ i \\leq n$ for each $i$) \u2013 the elements of $P$.\n\n-----Output-----\nIf there is an $n$-bit color code with palette $P$, output $2^n$ lines, containing the elements of such a code, in order. If there are many different codes, any one will be accepted. If no such code exists, output \u201cimpossible\u201d.\n\n-----Examples-----\nSample Input 1:\n6 1\n6\nSample Output 1:\nimpossible\n\nSample Input 2:\n3 1\n1\nSample Output 2:\n000\n001\n011\n010\n110\n111\n101\n100\nUse Standard Input format\nANSWER:\n"}}