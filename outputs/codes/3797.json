{"3797": {"code": ["Athethetheof thethethesquares1 1,...,-Atheof the- 1 \u2264- 1 \u22641.A1.1.A- 1 \u2264A \u2264r_1 r_M x_M- 11.- 1 \u2264", "of the3+ 1,...,=,- 1r_2 x_2r_1 x_1r_M r_M x_Mr_Mr_1 x_1r_M x_Mr_M x_Mr_Mr_Mr_Mr_Mx_Mr_Mr_Mr_Mr_Mr_Mr_", "3 3\n-----Output-----if any of theorthethe- 1- 1thetoofthe(squares areif1,- 1,...,)1,the1,...,x_i.x_i.+ 1,..., r_i.r_i x_i.) ; } else ifr_", "---- 1r_N x_N\nr_1 x_1_M- 1r_M x_M- 1- 1r_M x_M_1r_M x_M_1_M0.0aesthetic sense(cant1,r_1 x_1_M_N x_M_N).1", "oftheof thethetheisnumbered 1, 2,...,2,...,-N,r_1 x_2,...,r_M x_Maesthetic sense,squared red, green and.]..] )1 ] ).] ).] ) )]] )]] )", "the following1 2 3would bewerethe sameof thewere used in theof thetheof theare the sametothe same as thetoof theandisthe1,...,andof theall thewereare the same asaof the", ".[ 2 ] )][ 3 ] ).[ 1 ] []. length >].]][]].].].( 1) )) )( 3 ) ;2 ] ]) ).]) ) {(. split (''", "-) ==- 1r_1r_2 x_2- 1- 1 \u2264 Nx_1x_1x_1r_2 x_Mn_i).( r_i == x_ix_ir_M x_Mr_M x_M- 1r_Mr_M x_Mr_", "of thetheinthethethex_2- 1r_1 x_1r_M x_Mr_M x_Mr_Mx_Mr_Mx_Mx_Mx_M- 1r_M x_Mr_Mx_Mx_Mx_Mx_Mx_Mx_Mx_Mx_Mx_Mx", "thetheof theof)() )0 ] )).) {.= 1.0 ; if[ 2 ]== 1 ) {x_2.2 ]]]] )0 ]) ) {] )0 ] ).[ 3 ]3 ]."], "prompt": "\nQUESTION:\nThere are N squares arranged in a row.\nThe squares are numbered 1, 2, ..., N, from left to right.\nSnuke is painting each square in red, green or blue.\nAccording to his aesthetic sense, the following M conditions must all be satisfied.\nThe i-th condition is:\n - There are exactly x_i different colors among squares l_i, l_i + 1, ..., r_i.\nIn how many ways can the squares be painted to satisfy all the conditions?\nFind the count modulo 10^9+7.\n\n-----Constraints-----\n - 1 \u2264 N \u2264 300\n - 1 \u2264 M \u2264 300\n - 1 \u2264 l_i \u2264 r_i \u2264 N\n - 1 \u2264 x_i \u2264 3\n\n-----Input-----\nInput is given from Standard Input in the following format:\nN M\nl_1 r_1 x_1\nl_2 r_2 x_2\n:\nl_M r_M x_M\n\n-----Output-----\nPrint the number of ways to paint the squares to satisfy all the conditions, modulo 10^9+7.\n\n-----Sample Input-----\n3 1\n1 3 3\n\n-----Sample Output-----\n6\n\nThe six ways are:\n - RGB\n - RBG\n - GRB\n - GBR\n - BRG\n - BGR\nwhere R, G and B correspond to red, green and blue squares, respectively.\nUse Standard Input format\nANSWER:\n"}}