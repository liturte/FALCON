{"3390": {"code": ["ofin adisheswiththethemin a(for exampleforthe firstsuch that it iseatenall of the{=[ ] {: [] ;. length) ; for (1; i ++ )} }.,( ) )", "of thetakes twonumber(for example,a menu.( A), 1 )( A)( A( A )( A )( A )) == 1 ){ A=( A ) ))dish () == 1 ){.( A ) ) )A.}a dishin a(", "a)$1$ $2$ $3$$2$ $3$ $4$ $5$ $6$and(for example$A$, then $B$, then $C$,)(for example,a dish $A$$2$, then $C$,$A$, then $A$, then.,.( int ){", "for example,in ainaofandit istoofbe ain the$A$,theinin$A$,$B$, then $C$, then $D$,$A$, then $B$, then$C$, then $A$, then$A$, thenand $A$ofinin", "ofthenumber ofin ain a menu withoutdishesofof thethein ato be eaten$A$of $A$ $1$ and $b$these are numbered from$a$$b$ $n$ $1\\leq$1$ $1\\leq n\\leq$a$$b$in a", "inthethe-of twoindishes that occur twice (foreitherit is possible to finda menu in whichdishtointhesefor eachin theofa\\leq n$\\leqtogetherof two integers $a$$b$ and$a$ $b$ $b$ $a$ $a$", "in aofeaten$1\\leqof two$1\\leq n$, $1\\leq1inof$1$,dishes $A$, then $B$,$n$, $1$, thenthedish$b$, then $c$, then$n$,and $a$$a$,", "theofandin aof $A$a menu within, n $)asthat(number ofandofthe number ofis aandthe number ofdishes-a integerthe number of dishes$a$dishes, andthreeof $a$ $b$ $c$ $b$, $d$", "the number ofsuch that you caneatenthein a$A$,byinin thedishes $A$by$1\\leq a,b,c\\leq a,band $c$ in theoftheeatof a),of theof.of thea menu witheither $A$,", "for exampleeattogetherin thedishes $A$a menu with$A$combining$A$ $A$ $B$ $A$$n$ to $n$ in no$m$$1, $b$and the compatibilities$a$$b$ $n$$a$ $b$$b$ $a$ $"], "prompt": "\nQUESTION:\nSince you are in Britain, you definitely want to try British food. Unfortunately you will only have a single free evening, so you decided to try all the food you can get in one run. You plan a gigantic meal where you eat one British dish after the other. Clearly not every order of dishes is appropriate. For example, it is not acceptable to eat Blood Pudding directly after Cornish Hevva Cake, but it would be perfectly fine if you chose to eat Baked Beans in between.\n\nYou have compiled a comprehensive list of British dishes. For each dish you have also decided which other dishes are fit to be eaten directly afterwards. A menu is a sequence of dishes such that each dish (except the first) is fit to be eaten directly after the previous dish.\n\nAfter some time studying the list of dishes, you noticed something odd: Whenever it is possible to find a menu in which a dish occurs twice (for example dishes $A$, then $B$, then $C$, then dish $A$ again), there can be at most four different types of dishes between the dish that occurred twice \u2013 excluding that dish itself. For example, it is impossible to find a menu like $A, B, C, D, E, F, A$, but it may be possible to find menus like $A, B, C, B, C, B, C, B, C, B, A$ or $A,B,C,D,E,A,B,C,D,E,A$.\n\nBut who wants to eat the same dish twice anyway? Clearly, you want to know how many dishes there can be in a menu without repeating any dish!\n\n-----Input-----\nThe input consists of:\n - One line with two integers $n,m$ ($1 \\leq n \\leq 10^5$, $1\\leq m \\leq 10^6$), the number of dishes and compatibilities.\n - $m$ lines, each containing two integers $a$ and $b$ ($1 \\leq a,b \\leq n$), indicating that you can eat dish $b$ immediately after dish $a$.\n\nDishes are numbered from $1$ to $n$ in no particular order, and the compatibilities satisfy the constraint described above.\n\n-----Output-----\nA single integer indicating the maximum number of courses in a menu without repeated dishes.\n\n-----Examples-----\nSample Input:\n4 3\n1 2\n2 3\n2 4\nSample Output:\n3\nUse Standard Input format\nANSWER:\n"}}