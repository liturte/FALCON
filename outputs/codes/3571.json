{"3571": {"code": ["thethethethethein thethethethe scroll barthethe text isthetheof thethe$7$thethethetheand thethe screen, and theis at the topthe rightthe screen.the screen, as thethe screen,the first scroll bar isthe screen. Itthe first scroll bar was", "thethethetheisthethein thelinethein theathe left margin of thefor thebeingthein the rightlinethe left margin of thetheof the screen andto the right marginthe screen. Thisthethe topis a top line. The", "theandthe=+ L$ +the)the, $3$ )()the. get (.=( ) ;.( ) ;=( )( )..( ) )( ).( ) ).( ).", "thethe(thenotthethethe( not adjustedlines forthe first lineand theand $2$line wasin theof thethe right ofthethe screen isthe textthetheline wasthe width of theof thethe", "thethethethe. This isfor theof thethethelinesthethe first line intheof the lastthethe current linethethethe first( not adjusted), between$80$\u00a0characters per line, including spacesline in thetheof the first lineand $1$the line", "for theit was created.thetheof thethethe screenthe first line wastheof thethe screen.the screenthethethe viewport.the last lineand thethethe text wasthe width of thethethe screen. Thewas usedof thethethe", "the.the=theis notthe scroll barof the.thetheis.. width ( )) {of thethethe first linethethe first line of(the last line in theof thethe leftthe left margin.the bottom margin of the", "andthethe text was(notthenota space.in thethethethewas set to aline of the(not adjusted),thethe left marginthe line wastheit was(notline of thethethethe first line ofthe topthe first line, the", "for the..thethe currentline wasthe first line isofthelinethethethethein the(not adjusted), betweenandthe current line.the leftthe rightline wasthe rightthethe top linein thethe", "thethethethethethethethethe screen. Thethe screenthe texttheof thethe screen wastheof the screen andthe screen wasthethethe screen wasthethe screen wasthethe screen, butthe screen wasthe screen was"], "prompt": "\nQUESTION:\nWhen the first scrollbars appeared on resizable windows during user interface development in the Elder Days, computer graphics were still primitive. Widgets were made with ASCII symbols and text was monospaced. A window displayed a viewport: a part of a much longer text, adjusted to fit the width of the window. The thumb, shown as an X, represented the position of the viewport relative to the full (adjusted) text and allowed vertical nagivation by clicking and dragging.\n\nAlas, much of the knowledge of the Ancients has been lost in the Great Purge of the Second Iconoclast Uprising, which destroyed the last remaining implementations of the user interface layer of the Elder GUI. As head programmer of the National Laboratory of Interaction Design Archeology it is your job to recreate the behaviour of the machines of yore as faithfully as possible.\n\nThanks to many years of studies, you have full understanding of the typographical aesthetics of the Elder Days: Lines were set flush left but ragged-right, and words on the same line were separated by single spaces. Line breaking was simple in those days: When the next word of the text fit on the current line, it was put there, otherwise a new line was started. If a word was too wide to fit the viewport, it was set on a line of its own and truncated at the right margin.\n\nThe language of the Ancients was written in upper- and lowercase letters of the English alphabet without punctuation or hyphenation. The scroll bar on the right contained navigation widgets for \u201cup\u201d and \u201cdown\u201d at the top and bottom.\n\n-----Input-----\nThe first line consists of $4$ integers $W$, $H$, $F$, $N$, separated by single spaces. The width of the viewport is $W$, with $3\\leq W\\leq 200$. The height of the viewport is $H$, with $3\\leq H\\leq 200$. The viewport must show line $F$ of the adjusted input as the first line at the top line; lines are numbered $0,\\ldots , L-1$, where $L$ is the total number of lines in the adjusted text; you can assume $0\\leq F \\leq L - H$ and $H < L$. The following $N$ lines for $1\\leq N\\leq 30000$ contain the text (not adjusted), between $1$ and $80$\u00a0characters per line, including spaces; neither the first nor last character in each line are a space. No word in the language of the Ancients was more than $80$\u00a0characters.\n\n-----Thumb position-----\nYou have discovered many ancient texts explaining the position $T\\in \\{ 0,\\ldots , H-3\\} $ of the thumb. Alas, all are written in arcane languages that are long forgotten. One example reads like this:\n\nSUBTRACT H FROM L GIVING DENOMINATOR.\nSUBTRACT 3 FROM H.\nMULTIPLY F BY H GIVING NUMERATOR.\nDIVIDE NUMERATOR BY DENOMINATOR GIVING T REMAINDER Left-Over.\n\nAnother source claims that $T$ can be determined by an incantation that is almost poetic in its mystery,\n\n H 3 - F *  L H - /\n\nand yet another obscure author writes\n\n(defun thumb (lines height first) (/ (* (- height 3) first) (- lines height)))\n\n\n-----Output-----\nPrint the window as the Ancients would have seen it, built from minus (-), plus (+), pipe (|), lower-case V (v), caret (^), and upper-case X (X). See the sample output for the details.\n\n-----Examples-----\nSample Input:\n24 5 8 7\nLorem ipsum dolor sit amet consectetur adipisicing elit sed do\neiusmod tempor incididunt ut labore et dolore magna aliqua Ut enim ad\nminim veniam quis nostrud exercitation ullamco laboris nisi ut\naliquip ex ea commodo consequat Duis aute irure dolor in\nreprehenderit in voluptate velit esse cillum dolore eu fugiat nulla\npariatur Excepteur sint occaecat cupidatat non proident sunt in\nculpa qui officia deserunt mollit anim id est laborum\nSample Output:\n+------------------------+-+\n|exercitation ullamco    |^|\n|laboris nisi ut aliquip | |\n|ex ea commodo consequat |X|\n|Duis aute irure dolor in| |\n|reprehenderit in        |v|\n+------------------------+-+\nUse Standard Input format\nANSWER:\n"}}