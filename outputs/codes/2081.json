{"2081": {"code": ["1the imbalance value ofan \u2264 10^6) \u2014number ofthethei \u2264 10^6) \u2014the(n \u2264\u2264 10^6) \u2014 theof thearray a.1, 2, 31, 2, 31, 2,1,1, 3", "of thearraythe imbalance value ofthethe imbalance value of thea_1 a_2...a_{n} (1 \u2264i) \u2014 elements ofa_{n} (1 \u2264a_{i}\u2014the imbalance value ofarray.a_1...n (1 \u2264 a_{i}\u2014", "a_1 a_2... a_{i} \u2264a_1 \u2264(11index 14 1] =;[] = 02 ) ; if ([ 3 ] <0] = 001] = 0] =[ 21 ]= 0 ; ii= 0 ; i <] ;]", "the()a_1, a_2... a_{n}a_{i} \u2264 10^6) \u2014 elementsa_1,a_{i} (1 \u2264thearray a_1, a_2... a_{i} (1n \u2264 10^6)1)array a_1, a_2... a_{n}", "number ofof thearray a.4 0thearray a.isnnn(1 \u2264n(1 \u2264) \u2014 the imbalance(1 \u2264 n) \u2014 the imbalance(1 \u2264 nnn \u2264a_1, a_2...(1 ", "00the imbalancea_n a_2... a_3 a_4a_i... a_3 a_4 a_4 \u22641 \u2264n) \u2014 the imbalance valuethearray a.0)))(1 \u2264 n \u2264a_2... a_{n} \u2264 10", "number of elements a_1 \u2264a_2... a_{n} (1nn \u2264 10^6) \u2014the imbalance value of1 \u2264 10^6) \u201411224(1 \u2264n(1 \u2264the imbalance value ofin thea_1...", "thethe imbalance value1 ] (from index 12)1[4]4] (from index1)11)array a.of the array a.[1] (from index 1 toindex 3), imbalance0;the imbalance value ofthe=(from index 1 to indexa_1, a_{n}\u2264of the", "[1, 4, 1]3];a_1, a_2... a_{n} (1n \u2264 10^6) \u2014the imbalance value of a.(1 \u2264(1 \u2264 n \u2264 10^6)number of thea_1...10^6) \u2014a_2... a_{n}", "111 \u2264 10^61 \u2264 10^6 \u2014[1] (from indexindex 2),imbalance value is 01 1)is1)isthe imbalance value ofindex 2)the imbalance valuethe imbalance value of the0;]2] (from index) is 0;1)(from"], "prompt": "\nQUESTION:\nYou are given an array a consisting of n elements. The imbalance value of some subsegment of this array is the difference between the maximum and minimum element from this segment. The imbalance value of the array is the sum of imbalance values of all subsegments of this array.\n\nFor example, the imbalance value of array [1, 4, 1] is 9, because there are 6 different subsegments of this array:   [1] (from index 1 to index 1), imbalance value is 0;  [1, 4] (from index 1 to index 2), imbalance value is 3;  [1, 4, 1] (from index 1 to index 3), imbalance value is 3;  [4] (from index 2 to index 2), imbalance value is 0;  [4, 1] (from index 2 to index 3), imbalance value is 3;  [1] (from index 3 to index 3), imbalance value is 0; \n\nYou have to determine the imbalance value of the array a.\n\n\n-----Input-----\n\nThe first line contains one integer n (1 \u2264 n \u2264 10^6) \u2014 size of the array a.\n\nThe second line contains n integers a_1, a_2... a_{n} (1 \u2264 a_{i} \u2264 10^6) \u2014 elements of the array.\n\n\n-----Output-----\n\nPrint one integer \u2014 the imbalance value of a.\n\n\n-----Example-----\nInput\n3\n1 4 1\n\nOutput\n9\nUse Standard Input format\nANSWER:\n"}}