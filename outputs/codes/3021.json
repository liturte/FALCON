{"3021": {"code": ["the alphabet:athe inputof the inputifa string thatin theif)=[ ]([ 1 ],1 ], [],=],] )).)[ 1 ],, 0 ],),[ 2 ]", "atheof thein thealphabet.the string that designatestheis consistent with multiplethe data is consistentthe(a string thattheandin thea string thatthein thedata, output AMBIGUOUS.\" \"if theis consistent with thethe alphabet, output AMBIGUOUS.in the input,the alphabet). The list", "if the input is consistent) {the{cab(,cda,) ) {0 ) ; } }if the input isinput is consistent withthe)ifis consistentthe alphabet.the() {) ; }=,a,) ; }", "thecab\\leq cdathe first line of input1:\nd2:\nd 4:\nd2:\nd2:\nda list ofin the input,thenota list ofa list ofcharacter $\\texttt{a}of thetheofis aof the alphabet,thethe data is consistent witha string", "thethecase. Ifthethe first onethestringthe lastandthe alphabetthe number ofthe alphabet characters.1:a 2:b 3:c 3:a2:a 2:c 3:b3:a 4:a 3:aa 2:c 2:c 22:c3:a2:a 3:a 2:c2:", "thecase of a) a comes before( a comes beforea comes< bca, b comes<>) {.() {( $). contains () ;=( $) ).).)[ 1 ]() ).] ) ;. length ; if (", "the) {)is a( c; for a= c ;] = cc ) ;]= c: c.) ;( c):( c ) )[] ;}=[ ]] ;. length - 1 ]1 ] ;[ 1 ] =", "Aain theand athein theanis a.) ) {= \"A\" ;..( \"A\" ) ;; }athe( \"A\". length. length ; i <++ ) { if) ;) {. length ; i ++: if (!. length ) {", "inareand $1 isthat thein thethealphabet.the alphabet. If thedata is consistent witha singlea singletothe alphabet.bytheand astringto aand aa string thataof the alphabetthe input.the alphabet. If the inputin thethe alphabet. If the input", "athecharacterathethe alphabet,in the$1\\texttt{b} \\le\\texttt{z}$ representing thecharacter in theand $N$ is alength at mostthe alphabetthethe alphabetif thethe alphabetthethe first one is thein the alphabet,and the firstis thethetheof theis the same as the"], "prompt": "\nQUESTION:\nWe all know how to alphabetize a list of distinct words when you know the alphabet: One word may be a prefix of another longer word, in which case the shorter word always comes before the longer word. With any other two words there must be a first place in the words where their letters differ. Then the order of the words is determined by the lexicographical order of these first differing letters.\n\nHow about the reverse problem: Can you find the lexicographic order of the alphabet from an ordered list of words? Suppose an alphabet exists where the following list of word strings is given in lexicographical order:\n\ncab\ncda\nccc\nbadca\n\nIt is clear that c comes before b in the underlying alphabet because cab comes before badca. Similarly, we know a comes before d, because cab < cda, a comes before c because cab < ccc, and d comes before c because cda < ccc. The only ordering of the 4 alphabet characters that is possible is adcb.\n\nHowever, it may be that a list contains inconsistencies that make it impossible to be ordered under any proposed alphabet. For example, in the following list it must be that a comes before b in the alphabet since abc < bca, yet it also must be that b comes before a in the alphabet since bca < aca.\n\nabc\nbca\ncab\naca\n\nFinally, some lists may not provide enough clues to derive a unique alphabet order, such as the following:\n\ndea\ncfb\n\nIn this list, d comes before c but we don\u2019t know about the relative positions of any of the other letters, so we are unable to uniquely discern the order of the alphabet characters.\n\n-----Input-----\nThe first line of input will contain $L$ and $N$, separated by a space, where $L$ is a lowercase character $\\texttt{b} \\le L \\le \\texttt{z}$ representing the highest character in the English alphabet that appears in the derived alphabet, and $N$ is an integer $1 \\leq N \\leq 1000$ that is equal to the number of strings in the list. Each of the next $N$ lines will contain a single nonempty string of length at most $1000$, consisting only of characters in the derived alphabet. No two strings will be the same.\n\n-----Output-----\nIf the input is consistent with a unique ordering of the alphabet, output a string that designates that ordered alphabet. If the data is inconsistent with any ordering, output IMPOSSIBLE. If the data is consistent with multiple orderings, output AMBIGUOUS.\n\n-----Examples-----\nSample Input 1:\nd 4\ncab\ncda\nccc\nbadca\nSample Output 1:\nadcb\n\nSample Input 2:\nc 4\nabc\nbca\ncab\naca\nSample Output 2:\nIMPOSSIBLE\n\nSample Input 3:\nf 2\ndea\ncfb\nSample Output 3:\nAMBIGUOUS\nUse Standard Input format\nANSWER:\n"}}