{"3975": {"code": ["the(bytheof the input istheinput isif itthe output isoutput isthe inputit isisthe input isis atheinputthethe(input is aof the input)input isin the inputtheof theinput, the outputthe input is a", "the input(theinput isthethatthethe inputtheis thethe inputinput isthe input isthe inputthethe input isthe output of thethethe output istheof the input: \"AND\",\"OR\", \"XOR\", \"NOT\" (meansthethe input isthethe input is $0$,", "the inputof thethe inputthetheinput isthe input isoutput is\"XOR\" and \"NOT\" arethe(which is theof theinput to theinput isthe input) )is thethethe inputthethe inputtheis the input,the input=(which is", "input of theinput is(0$ orthe inputoftheofthe(2 $2$of(2 $2$ inputs) is$1$the input isthe$n$ elements arethe input isthe output isifinput isthe inputthethe input isthethethe inputof the input is $n$", "thea\"AND\", \"OR\",\"XOR\", \"NOT\" or \"IN\",$1$istheof1,the input is0,// in thein the//output of the\"OR\", \"XOR\", \"NOT\",\"IN\" or \"IN\"thethethis. split (1[ 0 ] =] ==", "the inputisthe inputinput isthethe inputthe//theinput of theand the outputtheinput: $2 $2the input isthe$n$thethe input istheinput isthe output isthe output of the$n$ theinput is the inputtheinput is the input", "the output isthethe inputtheinputandof theinputs(in the inputoutput is $1$) :( input ) )( ) ) ) {) {() {,( )( ) ;if (.) ) ) {( ) ))) { if (( )", "the outputtheof the input isthe inputisthe input is(after the input is//thetheof theinput is changed,the input isthethe output isit's the same as theoftheof thethein thethe outputis thethe input isinput isthe input, and the", "of$1$ input.of the inputto the$n$isthethe input(before thethe input istheand theinput isin thethe outputin the originalthethethetheof thetheis thethethe outputthe input is broken, or", "( \"A\" andisthe input isit isthe input isthethe(n) is the(n)(n) is thethe input(n)the input isinputthe input isthethe input istheinputthe input istheit is thethe input is $n$ inthethe input isthe input is the output"], "prompt": "\nQUESTION:\nNatasha travels around Mars in the Mars rover. But suddenly it broke down, namely\u00a0\u2014 the logical scheme inside it. The scheme is an undirected tree (connected acyclic graph) with a root in the vertex $1$, in which every leaf (excluding root) is an input, and all other vertices are logical elements, including the root, which is output. One bit is fed to each input. One bit is returned at the output.\n\nThere are four types of logical elements: AND ($2$ inputs), OR ($2$ inputs), XOR ($2$ inputs), NOT ($1$ input). Logical elements take values from their direct descendants (inputs) and return the result of the function they perform. Natasha knows the logical scheme of the Mars rover, as well as the fact that only one input is broken. In order to fix the Mars rover, she needs to change the value on this input.\n\nFor each input, determine what the output will be if Natasha changes this input.\n\n\n-----Input-----\n\nThe first line contains a single integer $n$ ($2 \\le n \\le 10^6$)\u00a0\u2014 the number of vertices in the graph (both inputs and elements).\n\nThe $i$-th of the next $n$ lines contains a description of $i$-th vertex: the first word \"AND\", \"OR\", \"XOR\", \"NOT\" or \"IN\" (means the input of the scheme) is the vertex type. If this vertex is \"IN\", then the value of this input follows ($0$ or $1$), otherwise follow the indices of input vertices of this element: \"AND\", \"OR\", \"XOR\" have $2$ inputs, whereas \"NOT\" has $1$ input. The vertices are numbered from one.\n\nIt is guaranteed that input data contains a correct logical scheme with an output produced by the vertex $1$.\n\n\n-----Output-----\n\nPrint a string of characters '0' and '1' (without quotes)\u00a0\u2014 answers to the problem for each input in the ascending order of their vertex indices.\n\n\n-----Example-----\nInput\n10\nAND 9 4\nIN 1\nIN 1\nXOR 6 5\nAND 3 7\nIN 0\nNOT 10\nIN 1\nIN 1\nAND 2 8\n\nOutput\n10110\n\n\n-----Note-----\n\nThe original scheme from the example (before the input is changed):\n\n[Image]\n\nGreen indicates bits '1', yellow indicates bits '0'.\n\nIf Natasha changes the input bit $2$ to $0$, then the output will be $1$.\n\nIf Natasha changes the input bit $3$ to $0$, then the output will be $0$.\n\nIf Natasha changes the input bit $6$ to $1$, then the output will be $1$.\n\nIf Natasha changes the input bit $8$ to $0$, then the output will be $1$.\n\nIf Natasha changes the input bit $9$ to $0$, then the output will be $0$.\nUse Standard Input format\nANSWER:\n"}}