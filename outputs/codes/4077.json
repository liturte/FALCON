{"4077": {"code": ["in thethe given number $m$sequence$a_l, a_{l+1}, \\dots, a_r$$n$ $m$length of the$a_i, \\dots, a_n$$n$of the giventhetheof thethe given$a_l, a_{l+1},$m$$n$of $", "number of pairs of$a_l, a_{l+1}, \\dots,length ofthe givena_i\\le a_i \\le.($1\\le= $1 \\le a_i\\le a_i \\lelength of\\le\\le n$\\le\\le2\\cdot10^5$.$1 \\le", "$l,$l, r)$ ($1 \\le$m$isthe$m$ istheofand$n$$m$ is$n$ istothe given sequence andthethethe giventhethe givennumber$a_1, a_2, \\dots, a_r$ is$l, r)$ ($1 \\le l", "2\\cdot10^5$ \u2014 the length of$a_1, a_2, \\dots, a_n$n$isthe value ofnumbertothe first line\\le\\le$m$\\le 2\\cdot10^5$2\\cdot10^5$\\le 2\\cdot10^5$2\\cdot10", "() { if () {a_l, a_2, \\dots,\\dots, a_r$ is the\\dots, a_r$)of$a_l, a_{l+1}, \\dots, a_r$ isin the given(.}] ;1 ) {.2\\cdot10^5$(", "ofthe given\\le n$the$2, $3, $4, $5,$4, $5,$2,$3, $4, $6,$5, $6, $6$$6, $6,$6, $6$,$6, $6, $6,$7, $8, $9,$9, $9,", "the first line contains aninteger sequence $a_1, a_2, \\dots,\\le n$ \u2014 thelength of the given$n$ \u2014 thethe$m$thethenumber$n$theof the given\\le$a_l, a_{l+1}, \\dots,$m$.thethe$", "$1 \\le l \\le r2\\cdot10^5$ \u2014 the lengthof2\\cdot10^5$ \u2014\\le\\le l \\le\\le l \\le\\le n,m \\le\\le\\le2\\cdot10^5$\\le l \\le r \\le\\le\\le a_i \\le", "(l, r)$$2,$3,2\\cdot10^5$the required$4,4, 5,$5,5, 5, 5, 6]$$6,5, 6,$5, 6)$.$4, 5)$.$5, 5)$.$6, 5)$.the$4,5)$.5", "$a_1, a_2, \\dots,$a_l, a_{l+1},$a_l, a_{l+1},$m$ is($a_l,$l,$n$2\\cdot10^5$the$l, r)$ ($1\\le l \\le r\\le n$,$a_l, a_{"], "prompt": "\nQUESTION:\nYou are given an integer sequence $a_1, a_2, \\dots, a_n$.\n\nFind the number of pairs of indices $(l, r)$ ($1 \\le l \\le r \\le n$) such that the value of median of $a_l, a_{l+1}, \\dots, a_r$ is exactly the given number $m$.\n\nThe median of a sequence is the value of an element which is in the middle of the sequence after sorting it in non-decreasing order. If the length of the sequence is even, the left of two middle elements is used.\n\nFor example, if $a=[4, 2, 7, 5]$ then its median is $4$ since after sorting the sequence, it will look like $[2, 4, 5, 7]$ and the left of two middle elements is equal to $4$. The median of $[7, 1, 2, 9, 6]$ equals $6$ since after sorting, the value $6$ will be in the middle of the sequence.\n\nWrite a program to find the number of pairs of indices $(l, r)$ ($1 \\le l \\le r \\le n$) such that the value of median of $a_l, a_{l+1}, \\dots, a_r$ is exactly the given number $m$.\n\n\n-----Input-----\n\nThe first line contains integers $n$ and $m$ ($1 \\le n,m \\le 2\\cdot10^5$) \u2014 the length of the given sequence and the required value of the median.\n\nThe second line contains an integer sequence $a_1, a_2, \\dots, a_n$ ($1 \\le a_i \\le 2\\cdot10^5$).\n\n\n-----Output-----\n\nPrint the required number.\n\n\n-----Examples-----\nInput\n5 4\n1 4 5 60 4\n\nOutput\n8\n\nInput\n3 1\n1 1 1\n\nOutput\n6\n\nInput\n15 2\n1 2 3 1 2 3 1 2 3 1 2 3 1 2 3\n\nOutput\n97\n\n\n\n-----Note-----\n\nIn the first example, the suitable pairs of indices are: $(1, 3)$, $(1, 4)$, $(1, 5)$, $(2, 2)$, $(2, 3)$, $(2, 5)$, $(4, 5)$ and $(5, 5)$.\nUse Standard Input format\nANSWER:\n"}}