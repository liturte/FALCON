{"3272": {"code": ["aof thethethethemirrors ofin thethethetheofthetheofof thein theof thethetheand $n$thethetheof theof theof thetheof theof theof the gargoyle\u2019s face. Thecan be specified as a", "ofgargoyletheinthea singleisin thetheof thetheof thewill bea singlebe(\u2018T\u2019 andmirrors can intersecttoa singleof thethetheandthey are all theone of theof the gargoyles, the", "allgargoyles in aofto a singlecell.and $2\\leqtheofcell.thetheto betheoftheof thetogether.theof theistheit//thegargoyles, itand theof the together.the togethertheof the together with", "ofonein theof thethegargoyle.  public.() )(() {) {.. add (() ; }() {. add (() ; } }( ) ;. add () ;( ) ;", "is usedtoathecellthe//isinall of thethetoof thethe( \u2018\\\u2019 orin thein theone of theof thethe=theandtheof theof thethethethethe given image. Theof themirrors can beof theof the", "theof thetheof thegargoyles-gargoyletheof thetheof thethethethethe tomb istheof the tomb.and thethe tomb.0.0, 1.02.0of theofthe tomb.m ).", "of thethea(\u2018\\\u2019),...) ) ) )( ) ; }].([ 0 ]. split (. split () ;. split (]2 )[ 0 ].]... split (]. split. split ( ). split (]. split ( )", "allthethetheof theof thethethetogether in thetheof thetheto theof thetheis theof the.in the..( \"A\".] = (+ \".in thethe right/left/bottom/bottom. Theof theof the together is a", "oftheaof a(acanin thethetheof thethecorresponding(k.e. thethe) ;theto thetheat the sametheto thetheofthethe last line of input", "the. --- Ais a:- A- Aa- AAofof theaofthe: -- A- Aandoftheof the- A character isthe \u2018\\\u2019 mirrorthat theis aof(\u2018/\u2019), as a dash"], "prompt": "\nQUESTION:\nHu the Tomb Raider has entered a new tomb! It is full of gargoyles, mirrors, and obstacles. There is a door, with treasure beyond. Hu must unlock the door guarding the treasure. On that door is written, in an ancient tongue, the secret to opening the door:Every face of every gargoyle shall see a face of a gargoyle.\n\nThis means that the gargoyles must be rotated in such a way that there is a path for a beam of light to connect each gargoyle\u2019s face to another gargoyle\u2019s face (possibly its own). The beam of light is reflected by mirrors.\n\nThe floorplan of the tomb can be described as a rectangular $n \\! \\times \\! m$ grid of cells:\n - A dot (\u2018.\u2019) represents an empty cell.\n - A hash (\u2018#\u2019) represents an obstacle.\n - A slash (\u2018/\u2019) represents a double-sided mirror, as does a Backslash (\u2018\\\u2019) .\n - A character \u2018V\u2019 represents a gargoyle with two faces facing top and bottom.\n - A character \u2018H\u2019 represents a gargoyle with two faces facing left and right.\n\nIn addition to the \u2018\\\u2019 and \u2018/\u2019 mirrors, the tomb is surrounded by walls of mirrors. The following common sense about light is assumed:\n - Light travels in a straight line through empty cells.\n - Two beams of light can intersect without interfering with each other.\n - A \u2018\\\u2019 mirror reflects light coming from the top/bottom/left/right to the right/left/bottom/top. A \u2018/\u2019 mirror reflects light coming from the top/bottom/left/right to the left/right/top/bottom.\n - Light is reflected by $180$ degrees when it hits a wall (walls are all mirrors).\n - Light is blocked by obstacles and gargoyles.\n\nHu may rotate any gargoyle by $90$ degrees. As time is running short, he wants to know the minimum number of gargoyles that have to be rotated in order to unlock the treasure door.\n\n-----Input-----\nThe first line of input contains two space-separated integers $n$ and $m$ ($1 \\leq n, m \\leq 500$), which are the dimensions of the tomb.\n\nEach of the next $n$ lines contains a string $s$ ($|s|=m$) with the characters described above. This is the floorplan of the tomb.\n\n-----Output-----\nOutput a single integer, which is the minimum number of gargoyles that have to be rotated in order to unlock the treasure door. If the puzzle has no solution, output $-1$.\n\n-----Sample Explanation-----\n\n\nThe above are illustrations of Sample Input/Output $1$ with the initial configuration on the left and the solution of the puzzle on the right. Three gargoyles are rotated to solve the puzzle.\n\n-----Examples-----\nSample Input 1:\n5 5\n/.V.\\\n./.V.\n..#..\n.V.#.\n\\.V./\nSample Output 1:\n3\n\nSample Input 2:\n2 5\nV...\\\nH...V\nSample Output 2:\n-1\nUse Standard Input format\nANSWER:\n"}}